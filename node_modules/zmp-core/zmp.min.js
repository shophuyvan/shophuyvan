/**
 * ZMP 2.8.10
 * Full featured mobile HTML framework for building iOS & Android apps
 * https://h5.zalo.me/
 *
 * Copyright 2014-2023 Vladimir Kharlampidi
 *
 * Released under the MIT License
 *
 * Released on: May 16, 2023
 */

!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).ZMP=t()}(this,(function(){"use strict";function e(e){return null!==e&&"object"==typeof e&&"constructor"in e&&e.constructor===Object}function t(r,a){void 0===r&&(r={}),void 0===a&&(a={}),Object.keys(a).forEach((function(n){void 0===r[n]?r[n]=a[n]:e(a[n])&&e(r[n])&&Object.keys(a[n]).length>0&&t(r[n],a[n])}))}var r={body:{},addEventListener:function(){},removeEventListener:function(){},activeElement:{blur:function(){},nodeName:""},querySelector:function(){return null},querySelectorAll:function(){return[]},getElementById:function(){return null},createEvent:function(){return{initEvent:function(){}}},createElement:function(){return{children:[],childNodes:[],style:{},setAttribute:function(){},getElementsByTagName:function(){return[]}}},createElementNS:function(){return{}},importNode:function(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function a(){var e="undefined"!=typeof document?document:{};return t(e,r),e}var n={document:r,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState:function(){},pushState:function(){},go:function(){},back:function(){}},CustomEvent:function(){return this},addEventListener:function(){},removeEventListener:function(){},getComputedStyle:function(){return{getPropertyValue:function(){return""}}},Image:function(){},Date:function(){},screen:{},setTimeout:function(){},clearTimeout:function(){},matchMedia:function(){return{}},requestAnimationFrame:function(e){return"undefined"==typeof setTimeout?(e(),null):setTimeout(e,0)},cancelAnimationFrame:function(e){"undefined"!=typeof setTimeout&&clearTimeout(e)}};function o(){var e="undefined"!=typeof window?window:{};return t(e,n),e}function i(e){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function u(e,t,r){return(u=l()?Reflect.construct:function(e,t,r){var a=[null];a.push.apply(a,t);var n=new(Function.bind.apply(e,a));return r&&s(n,r.prototype),n}).apply(null,arguments)}function c(e){var t="function"==typeof Map?new Map:void 0;return(c=function(e){if(null===e||(r=e,-1===Function.toString.call(r).indexOf("[native code]")))return e;var r;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,a)}function a(){return u(e,arguments,i(this).constructor)}return a.prototype=Object.create(e.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),s(a,e)})(e)}var p=function(e){var t,r;function a(t){var r,a,n;return r=e.call.apply(e,[this].concat(t))||this,a=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(r),n=a.__proto__,Object.defineProperty(a,"__proto__",{get:function(){return n},set:function(e){n.__proto__=e}}),r}return r=e,(t=a).prototype=Object.create(r.prototype),t.prototype.constructor=t,s(t,r),a}(c(Array));function f(e){void 0===e&&(e=[]);var t=[];return e.forEach((function(e){Array.isArray(e)?t.push.apply(t,f(e)):t.push(e)})),t}function d(e,t){return Array.prototype.filter.call(e,t)}function h(e,t){var r=o(),n=a(),i=[];if(!t&&e instanceof p)return e;if(!e)return new p(i);if("string"==typeof e){var s=e.trim();if(s.indexOf("<")>=0&&s.indexOf(">")>=0){var l="div";0===s.indexOf("<li")&&(l="ul"),0===s.indexOf("<tr")&&(l="tbody"),0!==s.indexOf("<td")&&0!==s.indexOf("<th")||(l="tr"),0===s.indexOf("<tbody")&&(l="table"),0===s.indexOf("<option")&&(l="select");var u=n.createElement(l);u.innerHTML=s;for(var c=0;c<u.childNodes.length;c+=1)i.push(u.childNodes[c])}else i=function(e,t){if("string"!=typeof e)return[e];for(var r=[],a=t.querySelectorAll(e),n=0;n<a.length;n+=1)r.push(a[n]);return r}(e.trim(),t||n)}else if(e.nodeType||e===r||e===n)i.push(e);else if(Array.isArray(e)){if(e instanceof p)return e;i=e}return new p(function(e){for(var t=[],r=0;r<e.length;r+=1)-1===t.indexOf(e[r])&&t.push(e[r]);return t}(i))}h.fn=p.prototype;var v="resize scroll".split(" ");function m(e){return function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];if(void 0===r[0]){for(var n=0;n<this.length;n+=1)v.indexOf(e)<0&&(e in this[n]?this[n][e]():h(this[n]).trigger(e));return this}return this.on.apply(this,[e].concat(r))}}var g=m("click"),b=m("blur"),y=m("focus"),w=m("focusin"),C=m("focusout"),k=m("keyup"),E=m("keydown"),x=m("keypress"),P=m("submit"),O=m("change"),z=m("mousedown"),R=m("mousemove"),T=m("mouseup"),M=m("mouseenter"),A=m("mouseleave"),S=m("mouseout"),$=m("mouseover"),L=m("touchstart"),N=m("touchend"),_=m("touchmove"),B=m("resize"),D=m("scroll"),H=Object.freeze({__proto__:null,default:h,$:h,add:function(){for(var e,t,r=this,a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];for(e=0;e<n.length;e+=1){var i=h(n[e]);for(t=0;t<i.length;t+=1)r.push(i[t])}return r},addClass:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var a=f(t.map((function(e){return e.split(" ")})));return this.forEach((function(e){var t;(t=e.classList).add.apply(t,a)})),this},animate:function(e,t){var r,a=o(),n=this,i={props:Object.assign({},e),params:Object.assign({duration:300,easing:"swing"},t),elements:n,animating:!1,que:[],easingProgress:function(e,t){return"swing"===e?.5-Math.cos(t*Math.PI)/2:"function"==typeof e?e(t):t},stop:function(){i.frameId&&a.cancelAnimationFrame(i.frameId),i.animating=!1,i.elements.each((function(e){delete e.zmpDOMAnimateInstance})),i.que=[]},done:function(e){if(i.animating=!1,i.elements.each((function(e){delete e.zmpDOMAnimateInstance})),e&&e(n),i.que.length>0){var t=i.que.shift();i.animate(t[0],t[1])}},animate:function(e,t){if(i.animating)return i.que.push([e,t]),i;var r=[];i.elements.each((function(t,n){var o,s,l,u,c;t.zmpDOMAnimateInstance||(i.elements[n].zmpDOMAnimateInstance=i),r[n]={container:t},Object.keys(e).forEach((function(i){o=a.getComputedStyle(t,null).getPropertyValue(i).replace(",","."),s=parseFloat(o),l=o.replace(s,""),u=parseFloat(e[i]),c=e[i]+l,r[n][i]={initialFullValue:o,initialValue:s,unit:l,finalValue:u,finalFullValue:c,currentValue:s}}))}));var o,s,l=null,u=0,c=0,p=!1;return i.animating=!0,i.frameId=a.requestAnimationFrame((function f(){var d,h;o=(new Date).getTime(),p||(p=!0,t.begin&&t.begin(n)),null===l&&(l=o),t.progress&&t.progress(n,Math.max(Math.min((o-l)/t.duration,1),0),l+t.duration-o<0?0:l+t.duration-o,l),r.forEach((function(a){var n=a;s||n.done||Object.keys(e).forEach((function(a){if(!s&&!n.done){d=Math.max(Math.min((o-l)/t.duration,1),0),h=i.easingProgress(t.easing,d);var p=n[a],f=p.initialValue,v=p.finalValue,m=p.unit;n[a].currentValue=f+h*(v-f);var g=n[a].currentValue;(v>f&&g>=v||v<f&&g<=v)&&(n.container.style[a]=v+m,(c+=1)===Object.keys(e).length&&(n.done=!0,u+=1),u===r.length&&(s=!0)),s?i.done(t.complete):n.container.style[a]=g+m}}))})),s||(i.frameId=a.requestAnimationFrame(f))})),i}};if(0===i.elements.length)return n;for(var s=0;s<i.elements.length;s+=1)i.elements[s].zmpDOMAnimateInstance?r=i.elements[s].zmpDOMAnimateInstance:i.elements[s].zmpDOMAnimateInstance=i;return r||(r=i),"stop"===e?r.stop():r.animate(i.props,i.params),n},animationEnd:function(e){var t=this;return e&&t.on("animationend",(function r(a){a.target===this&&(e.call(this,a),t.off("animationend",r))})),this},append:function(){for(var e,t=a(),r=0;r<arguments.length;r+=1){e=r<0||arguments.length<=r?void 0:arguments[r];for(var n=0;n<this.length;n+=1)if("string"==typeof e){var o=t.createElement("div");for(o.innerHTML=e;o.firstChild;)this[n].appendChild(o.firstChild)}else if(e instanceof p)for(var i=0;i<e.length;i+=1)this[n].appendChild(e[i]);else this[n].appendChild(e)}return this},appendTo:function(e){return h(e).append(this),this},attr:function(e,t){if(1===arguments.length&&"string"==typeof e)return this[0]?this[0].getAttribute(e):void 0;for(var r=0;r<this.length;r+=1)if(2===arguments.length)this[r].setAttribute(e,t);else for(var a in e)this[r][a]=e[a],this[r].setAttribute(a,e[a]);return this},blur:b,change:O,children:function(e){for(var t=[],r=0;r<this.length;r+=1)for(var a=this[r].children,n=0;n<a.length;n+=1)e&&!h(a[n]).is(e)||t.push(a[n]);return h(t)},click:g,closest:function(e){var t=this;return void 0===e?h([]):(t.is(e)||(t=t.parents(e).eq(0)),t)},css:function(e,t){var r,a=o();if(1===arguments.length){if("string"!=typeof e){for(r=0;r<this.length;r+=1)for(var n in e)this[r].style[n]=e[n];return this}if(this[0])return a.getComputedStyle(this[0],null).getPropertyValue(e)}if(2===arguments.length&&"string"==typeof e){for(r=0;r<this.length;r+=1)this[r].style[e]=t;return this}return this},data:function(e,t){var r;if(void 0===t){if(!(r=this[0]))return;if(r.zmpDOMElementDataStorage&&e in r.zmpDOMElementDataStorage)return r.zmpDOMElementDataStorage[e];var a=r.getAttribute("data-"+e);return a||void 0}for(var n=0;n<this.length;n+=1)(r=this[n]).zmpDOMElementDataStorage||(r.zmpDOMElementDataStorage={}),r.zmpDOMElementDataStorage[e]=t;return this},dataset:function(){var e=this[0];if(e){var t,r={};if(e.dataset)for(var a in e.dataset)r[a]=e.dataset[a];else for(var n=0;n<e.attributes.length;n+=1){var o=e.attributes[n];o.name.indexOf("data-")>=0&&(r[(t=o.name.split("data-")[1],t.toLowerCase().replace(/-(.)/g,(function(e,t){return t.toUpperCase()})))]=o.value)}for(var i in r)"false"===r[i]?r[i]=!1:"true"===r[i]?r[i]=!0:parseFloat(r[i])===1*r[i]&&(r[i]*=1);return r}},detach:function(){return this.remove()},each:function(e){return e?(this.forEach((function(t,r){e.apply(t,[t,r])})),this):this},empty:function(){for(var e=0;e<this.length;e+=1){var t=this[e];if(1===t.nodeType){for(var r=0;r<t.childNodes.length;r+=1)t.childNodes[r].parentNode&&t.childNodes[r].parentNode.removeChild(t.childNodes[r]);t.textContent=""}}return this},eq:function(e){if(void 0===e)return this;var t=this.length;if(e>t-1)return h([]);if(e<0){var r=t+e;return h(r<0?[]:[this[r]])}return h([this[e]])},filter:function(e){return h(d(this,e))},find:function(e){for(var t=[],r=0;r<this.length;r+=1)for(var a=this[r].querySelectorAll(e),n=0;n<a.length;n+=1)t.push(a[n]);return h(t)},focus:y,focusin:w,focusout:C,hasClass:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var a=f(t.map((function(e){return e.split(" ")})));return d(this,(function(e){return a.filter((function(t){return e.classList.contains(t)})).length>0})).length>0},height:function(){var e=o();return this[0]===e?e.innerHeight:this.length>0?parseFloat(this.css("height")):null},hide:function(){for(var e=0;e<this.length;e+=1)this[e].style.display="none";return this},html:function(e){if(void 0===e)return this[0]?this[0].innerHTML:null;for(var t=0;t<this.length;t+=1)this[t].innerHTML=e;return this},index:function(){var e,t=this[0];if(t){for(e=0;null!==(t=t.previousSibling);)1===t.nodeType&&(e+=1);return e}},insertAfter:function(e){for(var t=h(e),r=0;r<this.length;r+=1)if(1===t.length)t[0].parentNode.insertBefore(this[r],t[0].nextSibling);else if(t.length>1)for(var a=0;a<t.length;a+=1)t[a].parentNode.insertBefore(this[r].cloneNode(!0),t[a].nextSibling)},insertBefore:function(e){for(var t=h(e),r=0;r<this.length;r+=1)if(1===t.length)t[0].parentNode.insertBefore(this[r],t[0]);else if(t.length>1)for(var a=0;a<t.length;a+=1)t[a].parentNode.insertBefore(this[r].cloneNode(!0),t[a])},is:function(e){var t,r,n=o(),i=a(),s=this[0];if(!s||void 0===e)return!1;if("string"==typeof e){if(s.matches)return s.matches(e);if(s.webkitMatchesSelector)return s.webkitMatchesSelector(e);if(s.msMatchesSelector)return s.msMatchesSelector(e);for(t=h(e),r=0;r<t.length;r+=1)if(t[r]===s)return!0;return!1}if(e===i)return s===i;if(e===n)return s===n;if(e.nodeType||e instanceof p){for(t=e.nodeType?[e]:e,r=0;r<t.length;r+=1)if(t[r]===s)return!0;return!1}return!1},keydown:E,keypress:x,keyup:k,mousedown:z,mouseenter:M,mouseleave:A,mousemove:R,mouseout:S,mouseover:$,mouseup:T,next:function(e){return this.length>0?e?this[0].nextElementSibling&&h(this[0].nextElementSibling).is(e)?h([this[0].nextElementSibling]):h([]):this[0].nextElementSibling?h([this[0].nextElementSibling]):h([]):h([])},nextAll:function(e){var t=[],r=this[0];if(!r)return h([]);for(;r.nextElementSibling;){var a=r.nextElementSibling;e?h(a).is(e)&&t.push(a):t.push(a),r=a}return h(t)},off:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var a=t[0],n=t[1],o=t[2],i=t[3];"function"==typeof t[1]&&(a=t[0],o=t[1],i=t[2],n=void 0),i||(i=!1);for(var s=a.split(" "),l=0;l<s.length;l+=1)for(var u=s[l],c=0;c<this.length;c+=1){var p=this[c],f=void 0;if(!n&&p.zmpDOMListeners?f=p.zmpDOMListeners[u]:n&&p.zmpDOMLiveListeners&&(f=p.zmpDOMLiveListeners[u]),f&&f.length)for(var d=f.length-1;d>=0;d-=1){var h=f[d];o&&h.listener===o||o&&h.listener&&h.listener.zmpDOMproxy&&h.listener.zmpDOMproxy===o?(p.removeEventListener(u,h.proxyListener,i),f.splice(d,1)):o||(p.removeEventListener(u,h.proxyListener,i),f.splice(d,1))}}return this},offset:function(){if(this.length>0){var e=o(),t=a(),r=this[0],n=r.getBoundingClientRect(),i=t.body,s=r.clientTop||i.clientTop||0,l=r.clientLeft||i.clientLeft||0,u=r===e?e.scrollY:r.scrollTop,c=r===e?e.scrollX:r.scrollLeft;return{top:n.top+u-s,left:n.left+c-l}}return null},on:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var a=t[0],n=t[1],o=t[2],i=t[3];function s(e){var t=e.target;if(t){var r=e.target.zmpDOMEventData||[];if(r.indexOf(e)<0&&r.unshift(e),h(t).is(n))o.apply(t,r);else for(var a=h(t).parents(),i=0;i<a.length;i+=1)h(a[i]).is(n)&&o.apply(a[i],r)}}function l(e){var t=e&&e.target&&e.target.zmpDOMEventData||[];t.indexOf(e)<0&&t.unshift(e),o.apply(this,t)}"function"==typeof t[1]&&(a=t[0],o=t[1],i=t[2],n=void 0),i||(i=!1);for(var u,c=a.split(" "),p=0;p<this.length;p+=1){var f=this[p];if(n)for(u=0;u<c.length;u+=1){var d=c[u];f.zmpDOMLiveListeners||(f.zmpDOMLiveListeners={}),f.zmpDOMLiveListeners[d]||(f.zmpDOMLiveListeners[d]=[]),f.zmpDOMLiveListeners[d].push({listener:o,proxyListener:s}),f.addEventListener(d,s,i)}else for(u=0;u<c.length;u+=1){var v=c[u];f.zmpDOMListeners||(f.zmpDOMListeners={}),f.zmpDOMListeners[v]||(f.zmpDOMListeners[v]=[]),f.zmpDOMListeners[v].push({listener:o,proxyListener:l}),f.addEventListener(v,l,i)}}return this},once:function(){for(var e=this,t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];var n=r[0],o=r[1],i=r[2],s=r[3];function l(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];i.apply(this,r),e.off(n,o,l,s),l.zmpDOMproxy&&delete l.zmpDOMproxy}return"function"==typeof r[1]&&(n=r[0],i=r[1],s=r[2],o=void 0),l.zmpDOMproxy=i,e.on(n,o,l,s)},outerHeight:function(e){if(this.length>0){if(e){var t=this.styles();return this[0].offsetHeight+parseFloat(t.getPropertyValue("margin-top"))+parseFloat(t.getPropertyValue("margin-bottom"))}return this[0].offsetHeight}return null},outerWidth:function(e){if(this.length>0){if(e){var t=this.styles();return this[0].offsetWidth+parseFloat(t.getPropertyValue("margin-right"))+parseFloat(t.getPropertyValue("margin-left"))}return this[0].offsetWidth}return null},parent:function(e){for(var t=[],r=0;r<this.length;r+=1)null!==this[r].parentNode&&(e?h(this[r].parentNode).is(e)&&t.push(this[r].parentNode):t.push(this[r].parentNode));return h(t)},parents:function(e){for(var t=[],r=0;r<this.length;r+=1)for(var a=this[r].parentNode;a;)e?h(a).is(e)&&t.push(a):t.push(a),a=a.parentNode;return h(t)},prepend:function(e){var t,r,n=a();for(t=0;t<this.length;t+=1)if("string"==typeof e){var o=n.createElement("div");for(o.innerHTML=e,r=o.childNodes.length-1;r>=0;r-=1)this[t].insertBefore(o.childNodes[r],this[t].childNodes[0])}else if(e instanceof p)for(r=0;r<e.length;r+=1)this[t].insertBefore(e[r],this[t].childNodes[0]);else this[t].insertBefore(e,this[t].childNodes[0]);return this},prependTo:function(e){return h(e).prepend(this),this},prev:function(e){if(this.length>0){var t=this[0];return e?t.previousElementSibling&&h(t.previousElementSibling).is(e)?h([t.previousElementSibling]):h([]):t.previousElementSibling?h([t.previousElementSibling]):h([])}return h([])},prevAll:function(e){var t=[],r=this[0];if(!r)return h([]);for(;r.previousElementSibling;){var a=r.previousElementSibling;e?h(a).is(e)&&t.push(a):t.push(a),r=a}return h(t)},prop:function(e,t){if(1!==arguments.length||"string"!=typeof e){for(var r=0;r<this.length;r+=1)if(2===arguments.length)this[r][e]=t;else for(var a in e)this[r][a]=e[a];return this}return this[0]?this[0][e]:this},remove:function(){for(var e=0;e<this.length;e+=1)this[e].parentNode&&this[e].parentNode.removeChild(this[e]);return this},removeAttr:function(e){for(var t=0;t<this.length;t+=1)this[t].removeAttribute(e);return this},removeClass:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var a=f(t.map((function(e){return e.split(" ")})));return this.forEach((function(e){var t;(t=e.classList).remove.apply(t,a)})),this},removeData:function(e){for(var t=0;t<this.length;t+=1){var r=this[t];r.zmpDOMElementDataStorage&&r.zmpDOMElementDataStorage[e]&&(r.zmpDOMElementDataStorage[e]=null,delete r.zmpDOMElementDataStorage[e])}},resize:B,scroll:D,scrollLeft:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var a=t[0],n=t[1],o=t[2],i=t[3];3===t.length&&"function"==typeof o&&(a=t[0],n=t[1],i=t[2],o=t[3]);var s=this;return void 0===a?s.length>0?s[0].scrollLeft:null:s.scrollTo(a,void 0,n,o,i)},scrollTo:function(){for(var e=o(),t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];var n=r[0],i=r[1],s=r[2],l=r[3],u=r[4];return 4===r.length&&"function"==typeof l&&(u=l,n=r[0],i=r[1],s=r[2],u=r[3],l=r[4]),void 0===l&&(l="swing"),this.each((function(){var t,r,a,o,c,p,f,d,h=this,v=i>0||0===i,m=n>0||0===n;if(void 0===l&&(l="swing"),v&&(t=h.scrollTop,s||(h.scrollTop=i)),m&&(r=h.scrollLeft,s||(h.scrollLeft=n)),s){v&&(a=h.scrollHeight-h.offsetHeight,c=Math.max(Math.min(i,a),0)),m&&(o=h.scrollWidth-h.offsetWidth,p=Math.max(Math.min(n,o),0));var g=null;v&&c===t&&(v=!1),m&&p===r&&(m=!1),e.requestAnimationFrame((function a(n){void 0===n&&(n=(new Date).getTime()),null===g&&(g=n);var o,i=Math.max(Math.min((n-g)/s,1),0),b="linear"===l?i:.5-Math.cos(i*Math.PI)/2;v&&(f=t+b*(c-t)),m&&(d=r+b*(p-r)),v&&c>t&&f>=c&&(h.scrollTop=c,o=!0),v&&c<t&&f<=c&&(h.scrollTop=c,o=!0),m&&p>r&&d>=p&&(h.scrollLeft=p,o=!0),m&&p<r&&d<=p&&(h.scrollLeft=p,o=!0),o?u&&u():(v&&(h.scrollTop=f),m&&(h.scrollLeft=d),e.requestAnimationFrame(a))}))}}))},scrollTop:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var a=t[0],n=t[1],o=t[2],i=t[3];3===t.length&&"function"==typeof o&&(a=t[0],n=t[1],i=t[2],o=t[3]);var s=this;return void 0===a?s.length>0?s[0].scrollTop:null:s.scrollTo(void 0,a,n,o,i)},show:function(){for(var e=o(),t=0;t<this.length;t+=1){var r=this[t];"none"===r.style.display&&(r.style.display=""),"none"===e.getComputedStyle(r,null).getPropertyValue("display")&&(r.style.display="block")}return this},siblings:function(e){return this.nextAll(e).add(this.prevAll(e))},stop:function(){for(var e=this,t=0;t<e.length;t+=1)e[t].zmpDOMAnimateInstance&&e[t].zmpDOMAnimateInstance.stop()},styles:function(){var e=o();return this[0]?e.getComputedStyle(this[0],null):{}},submit:P,text:function(e){if(void 0===e)return this[0]?this[0].textContent.trim():null;for(var t=0;t<this.length;t+=1)this[t].textContent=e;return this},toggleClass:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var a=f(t.map((function(e){return e.split(" ")})));this.forEach((function(e){a.forEach((function(t){e.classList.toggle(t)}))}))},touchend:N,touchmove:_,touchstart:L,transform:function(e){for(var t=0;t<this.length;t+=1)this[t].style.transform=e;return this},transition:function(e){for(var t=0;t<this.length;t+=1)this[t].style.transitionDuration="string"!=typeof e?e+"ms":e;return this},transitionEnd:function(e){var t=this;return e&&t.on("transitionend",(function r(a){a.target===this&&(e.call(this,a),t.off("transitionend",r))})),this},trigger:function(){for(var e=o(),t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];for(var n=r[0].split(" "),i=r[1],s=0;s<n.length;s+=1)for(var l=n[s],u=0;u<this.length;u+=1){var c=this[u];if(e.CustomEvent){var p=new e.CustomEvent(l,{detail:i,bubbles:!0,cancelable:!0});c.zmpDOMEventData=r.filter((function(e,t){return t>0})),c.dispatchEvent(p),c.zmpDOMEventData=[],delete c.zmpDOMEventData}}return this},val:function(e){if(void 0===e){var t=this[0];if(!t)return;if(t.multiple&&"select"===t.nodeName.toLowerCase()){for(var r=[],a=0;a<t.selectedOptions.length;a+=1)r.push(t.selectedOptions[a].value);return r}return t.value}for(var n=0;n<this.length;n+=1){var o=this[n];if(Array.isArray(e)&&o.multiple&&"select"===o.nodeName.toLowerCase())for(var i=0;i<o.options.length;i+=1)o.options[i].selected=e.indexOf(o.options[i].value)>=0;else o.value=e}return this},value:function(e){return this.val(e)},width:function(){var e=o();return this[0]===e?e.innerWidth:this.length>0?parseFloat(this.css("width")):null}});Object.keys(H).forEach((function(e){"$"!==e&&(h.fn[e]=H[e])}));var j=h;function q(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function I(e,t,r){return t&&q(e.prototype,t),r&&q(e,r),e}function U(){return(U=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}function V(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,F(e,t)}function W(e){return(W=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function F(e,t){return(F=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function X(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Z(e,t,r){return(Z=X()?Reflect.construct:function(e,t,r){var a=[null];a.push.apply(a,t);var n=new(Function.bind.apply(e,a));return r&&F(n,r.prototype),n}).apply(null,arguments)}function Q(e){var t="function"==typeof Map?new Map:void 0;return(Q=function(e){if(null===e||(r=e,-1===Function.toString.call(r).indexOf("[native code]")))return e;var r;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,a)}function a(){return Z(e,arguments,W(this).constructor)}return a.prototype=Object.create(e.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),F(a,e)})(e)}function Y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var J=0;function G(e,t){void 0===e&&(e="xxxxxxxxxx"),void 0===t&&(t="0123456789abcdef");var r=t.length;return e.replace(/x/g,(function(){return t[Math.floor(Math.random()*r)]}))}var K='\n  <span class="preloader-inner">\n    <svg viewBox="0 0 36 36">\n      <circle cx="18" cy="18" r="16"></circle>\n    </svg>\n  </span>\n'.trim(),ee=('\n  <span class="preloader-inner">\n    '+[0,1,2,3,4,5,6,7].map((function(){return'<span class="preloader-inner-line"></span>'})).join("")+"\n  </span>\n").trim();function te(e){var t;return e.split("").map((function(e,r){return e.match(/[A-Z]/)&&0!==r&&!t?(t=!0,":"+e.toLowerCase()):e.toLowerCase()})).join("")}function re(e){var t=e;Object.keys(t).forEach((function(e){try{t[e]=null}catch(e){}try{delete t[e]}catch(e){}}))}function ae(e){return o().requestAnimationFrame(e)}function ne(e,t){return void 0===t&&(t=0),setTimeout(e,t)}function oe(e){return ae((function(){ae(e)}))}function ie(){return Date.now()}function se(e){var t,r,a,n,i=o(),s={},l=e||i.location.href;if("string"==typeof l&&l.length)for(n=(r=(l=l.indexOf("?")>-1?l.replace(/\S*\?/,""):"").split("&").filter((function(e){return""!==e}))).length,t=0;t<n;t+=1)a=r[t].replace(/#\S+/g,"").split("="),s[decodeURIComponent(a[0])]=void 0===a[1]?void 0:decodeURIComponent(a.slice(1).join("="))||"";return s}function le(e,t){if(void 0===t&&(t=[]),"string"==typeof e)return e;var r,a=[];function n(e){if(t.length>0){for(var r="",a=0;a<t.length;a+=1)r+=0===a?t[a]:"["+encodeURIComponent(t[a])+"]";return r+"["+encodeURIComponent(e)+"]"}return encodeURIComponent(e)}function o(e){return encodeURIComponent(e)}return Object.keys(e).forEach((function(i){var s;if(Array.isArray(e[i])){s=[];for(var l=0;l<e[i].length;l+=1)Array.isArray(e[i][l])||"object"!=typeof e[i][l]?s.push(n(i)+"[]="+o(e[i][l])):((r=t.slice()).push(i),r.push(String(l)),s.push(le(e[i][l],r)));s.length>0&&a.push(s.join("&"))}else null===e[i]||""===e[i]?a.push(n(i)+"="):"object"==typeof e[i]?((r=t.slice()).push(i),""!==(s=le(e[i],r))&&a.push(s)):void 0!==e[i]&&""!==e[i]?a.push(n(i)+"="+o(e[i])):""===e[i]&&a.push(n(i))})),a.join("&")}function ue(e){return"object"==typeof e&&null!==e&&e.constructor&&e.constructor===Object}function ce(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var a=t[0];t.splice(0,1);for(var n=t,o=0;o<n.length;o+=1){var i=t[o];if(null!=i)for(var s=Object.keys(Object(i)),l=0,u=s.length;l<u;l+=1){var c=s[l],p=Object.getOwnPropertyDescriptor(i,c);void 0!==p&&p.enumerable&&(a[c]=i[c])}}return a}function pe(){for(var e,t,r=!0,a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];"boolean"==typeof n[0]?(r=n[0],e=n[1],n.splice(0,2),t=n):(e=n[0],n.splice(0,1),t=n);for(var i=0;i<t.length;i+=1){var s=n[i];if(null!=s)for(var l=Object.keys(Object(s)),u=0,c=l.length;u<c;u+=1){var p=l[u],f=Object.getOwnPropertyDescriptor(s,p);void 0!==f&&f.enumerable&&(r?ue(e[p])&&ue(s[p])?pe(e[p],s[p]):!ue(e[p])&&ue(s[p])?(e[p]={},pe(e[p],s[p])):e[p]=s[p]:e[p]=s[p])}}return e}function fe(e){var t=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(e,t,r,a){return t+t+r+r+a+a})),r=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return r?r.slice(1).map((function(e){return parseInt(e,16)})):null}function de(e,t,r){return"#"+[e,t,r].map((function(e){var t=e.toString(16);return 1===t.length?"0"+t:t})).join("")}function he(e,t,r){e/=255,t/=255,r/=255;var a,n=Math.max(e,t,r),o=Math.min(e,t,r),i=n-o;0===i?a=0:n===e?a=(t-r)/i%6:n===t?a=(r-e)/i+2:n===r&&(a=(e-t)/i+4);var s=(o+n)/2;return a<0&&(a=6+a),[60*a,0===i?0:i/(1-Math.abs(2*s-1)),s]}function ve(e,t,r){var a,n=(1-Math.abs(2*r-1))*t,o=e/60,i=n*(1-Math.abs(o%2-1));Number.isNaN(e)||void 0===e?a=[0,0,0]:o<=1?a=[n,i,0]:o<=2?a=[i,n,0]:o<=3?a=[0,n,i]:o<=4?a=[0,i,n]:o<=5?a=[i,0,n]:o<=6&&(a=[n,0,i]);var s=r-n/2;return a.map((function(e){return Math.max(0,Math.min(255,Math.round(255*(e+s))))}))}function me(e,t){Object.keys(t).forEach((function(r){ue(t[r])&&Object.keys(t[r]).forEach((function(a){"function"==typeof t[r][a]&&(t[r][a]=t[r][a].bind(e))})),e[r]=t[r]}))}function ge(){for(var e=[],t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return r.forEach((function(t){Array.isArray(t)?e.push.apply(e,ge.apply(void 0,t)):e.push(t)})),e}var be,ye,we=Object.freeze({__proto__:null,uniqueNumber:function(){return J+=1},id:G,mdPreloaderContent:K,iosPreloaderContent:ee,auroraPreloaderContent:'\n  <span class="preloader-inner">\n    <span class="preloader-inner-circle"></span>\n  </span>\n',eventNameToColonCase:te,deleteProps:re,requestAnimationFrame:ae,cancelAnimationFrame:function(e){return o().cancelAnimationFrame(e)},nextTick:ne,nextFrame:oe,now:ie,parseUrlQuery:se,getTranslate:function(e,t){void 0===t&&(t="x");var r,a,n,i=o(),s=i.getComputedStyle(e,null);return i.WebKitCSSMatrix?((a=s.transform||s.webkitTransform).split(",").length>6&&(a=a.split(", ").map((function(e){return e.replace(",",".")})).join(", ")),n=new i.WebKitCSSMatrix("none"===a?"":a)):r=(n=s.MozTransform||s.OTransform||s.MsTransform||s.msTransform||s.transform||s.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,")).toString().split(","),"x"===t&&(a=i.WebKitCSSMatrix?n.m41:16===r.length?parseFloat(r[12]):parseFloat(r[4])),"y"===t&&(a=i.WebKitCSSMatrix?n.m42:16===r.length?parseFloat(r[13]):parseFloat(r[5])),a||0},serializeObject:le,isObject:ue,merge:ce,extend:pe,colorHexToRgb:fe,colorRgbToHex:de,colorRgbToHsl:he,colorHslToRgb:ve,colorHsbToHsl:function(e,t,r){var a={h:e,s:0,l:0},n=t,o=r;return a.l=(2-n)*o/2,a.s=a.l&&a.l<1?n*o/(a.l<.5?2*a.l:2-2*a.l):a.s,[a.h,a.s,a.l]},colorHslToHsb:function(e,t,r){var a={h:e,s:0,b:0},n=r,o=t*(n<.5?n:1-n);return a.b=n+o,a.s=n>0?2*o/a.b:a.s,[a.h,a.s,a.b]},colorThemeCSSProperties:function(){for(var e,t,r=arguments.length,a=new Array(r),n=0;n<r;n++)a[n]=arguments[n];if(1===a.length?t=fe(e=a[0]):3===a.length&&(t=a,e=de.apply(void 0,t)),!t)return{};var o=he.apply(void 0,t),i=[o[0],o[1],Math.max(0,o[2]-.08)],s=[o[0],o[1],Math.max(0,o[2]+.08)],l=de.apply(void 0,ve.apply(void 0,i)),u=de.apply(void 0,ve.apply(void 0,s));return{"--zmp-theme-color":e,"--zmp-theme-color-rgb":t.join(", "),"--zmp-theme-color-shade":l,"--zmp-theme-color-tint":u}},bindMethods:me,flattenArray:ge,checkLocalStorage:function(){try{return localStorage.setItem("test","test"),localStorage.removeItem("test"),!0}catch(e){return!1}}});function Ce(){return be||(be=function(){var e=o(),t=a();return{touch:!!("ontouchstart"in e||e.DocumentTouch&&t instanceof e.DocumentTouch),pointerEvents:!!e.PointerEvent&&"maxTouchPoints"in e.navigator&&e.navigator.maxTouchPoints>=0,passiveListener:function(){var t=!1;try{var r=Object.defineProperty({},"passive",{get:function(){t=!0}});e.addEventListener("testPassiveListener",null,r)}catch(e){}return t}(),intersectionObserver:"IntersectionObserver"in e}}()),be}function ke(e,t){return void 0===e&&(e={}),ye&&!t||(ye=function(e){var t=(void 0===e?{}:e).userAgent,r=Ce(),a=o(),n=a.navigator.platform,i=t||a.navigator.userAgent,s={ios:!1,android:!1,androidChrome:!1,desktop:!1,iphone:!1,ipod:!1,ipad:!1,edge:!1,ie:!1,firefox:!1,macos:!1,windows:!1,phonegap:!!a.phonegap,electron:!1,nwjs:!1},l=a.screen.width,u=a.screen.height,c=i.match(/(Android);?[\s\/]+([\d.]+)?/),p=i.match(/(iPad).*OS\s([\d_]+)/),f=i.match(/(iPod)(.*OS\s([\d_]+))?/),d=!p&&i.match(/(iPhone\sOS|iOS)\s([\d_]+)/),h=i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0,v=i.indexOf("Edge/")>=0,m=i.indexOf("Gecko/")>=0&&i.indexOf("Firefox/")>=0,g="Win32"===n,b=i.toLowerCase().indexOf("electron")>=0,y="undefined"!=typeof nw&&"undefined"!=typeof process&&void 0!==process.versions&&void 0!==process.versions.nw,w="MacIntel"===n;return!p&&w&&r.touch&&["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"].indexOf(l+"x"+u)>=0&&((p=i.match(/(Version)\/([\d.]+)/))||(p=[0,1,"13_0_0"]),w=!1),s.ie=h,s.edge=v,s.firefox=m,c&&!g&&(s.os="android",s.osVersion=c[2],s.android=!0,s.androidChrome=i.toLowerCase().indexOf("chrome")>=0),(p||d||f)&&(s.os="ios",s.ios=!0),d&&!f&&(s.osVersion=d[2].replace(/_/g,"."),s.iphone=!0),p&&(s.osVersion=p[2].replace(/_/g,"."),s.ipad=!0),f&&(s.osVersion=f[3]?f[3].replace(/_/g,"."):null,s.ipod=!0),s.ios&&s.osVersion&&i.indexOf("Version/")>=0&&"10"===s.osVersion.split(".")[0]&&(s.osVersion=i.toLowerCase().split("version/")[1].split(" ")[0]),s.webView=!(!(d||p||f)||!i.match(/.*AppleWebKit(?!.*Safari)/i)&&!a.navigator.standalone)||a.matchMedia&&a.matchMedia("(display-mode: standalone)").matches,s.webview=s.webView,s.standalone=s.webView,s.desktop=!(s.ios||s.android)||b||y,s.desktop&&(s.electron=b,s.nwjs=y,s.macos=w,s.windows=g,s.macos&&(s.os="macos"),s.windows&&(s.os="windows")),s.pixelRatio=a.devicePixelRatio||1,s.prefersColorScheme=function(){var e;return a.matchMedia&&a.matchMedia("(prefers-color-scheme: light)").matches&&(e="light"),a.matchMedia&&a.matchMedia("(prefers-color-scheme: dark)").matches&&(e="dark"),e},s}(e)),ye}var Ee=function(){function e(e){void 0===e&&(e=[]);this.eventsParents=e,this.eventsListeners={}}var t=e.prototype;return t.on=function(e,t,r){var a=this;if("function"!=typeof t)return a;var n=r?"unshift":"push";return e.split(" ").forEach((function(e){a.eventsListeners[e]||(a.eventsListeners[e]=[]),a.eventsListeners[e][n](t)})),a},t.once=function(e,t,r){var a=this;if("function"!=typeof t)return a;function n(){a.off(e,n),n.zmpproxy&&delete n.zmpproxy;for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];t.apply(a,o)}return n.zmpproxy=t,a.on(e,n,r)},t.off=function(e,t){var r=this;return r.eventsListeners?(e.split(" ").forEach((function(e){void 0===t?r.eventsListeners[e]=[]:r.eventsListeners[e]&&r.eventsListeners[e].forEach((function(a,n){(a===t||a.zmpproxy&&a.zmpproxy===t)&&r.eventsListeners[e].splice(n,1)}))})),r):r},t.emit=function(){var e,t,r,a,n=this;if(!n.eventsListeners)return n;for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];"string"==typeof i[0]||Array.isArray(i[0])?(e=i[0],t=i.slice(1,i.length),r=n,a=n.eventsParents):(e=i[0].events,t=i[0].data,r=i[0].context||n,a=i[0].local?[]:i[0].parents||n.eventsParents);var l=Array.isArray(e)?e:e.split(" "),u=l.map((function(e){return e.replace("local::","")})),c=l.filter((function(e){return e.indexOf("local::")<0}));return u.forEach((function(e){if(n.eventsListeners&&n.eventsListeners[e]){var a=[];n.eventsListeners[e].forEach((function(e){a.push(e)})),a.forEach((function(e){e.apply(r,t)}))}})),a&&a.length>0&&a.forEach((function(e){e.emit.apply(e,[c].concat(t))})),n},e}(),xe=function(e){function t(t,r){var a;void 0===t&&(t={}),void 0===r&&(r=[]);var n=Y(a=e.call(this,r)||this);return n.params=t,n.params&&n.params.on&&Object.keys(n.params.on).forEach((function(e){n.on(e,n.params.on[e])})),a}V(t,e);var r=t.prototype;return r.useModuleParams=function(e,t){if(e.params){var r={};Object.keys(e.params).forEach((function(e){void 0!==t[e]&&(r[e]=pe({},t[e]))})),pe(t,e.params),Object.keys(r).forEach((function(e){pe(t[e],r[e])}))}},r.useModulesParams=function(e){var t=this;t.modules&&Object.keys(t.modules).forEach((function(r){var a=t.modules[r];a.params&&pe(e,a.params)}))},r.useModule=function(e,t){void 0===e&&(e=""),void 0===t&&(t={});var r=this;if(r.modules){var a="string"==typeof e?r.modules[e]:e;a&&(a.instance&&Object.keys(a.instance).forEach((function(e){var t=a.instance[e];r[e]="function"==typeof t?t.bind(r):t})),a.on&&r.on&&Object.keys(a.on).forEach((function(e){r.on(e,a.on[e])})),a.vnode&&(r.vnodeHooks||(r.vnodeHooks={}),Object.keys(a.vnode).forEach((function(e){Object.keys(a.vnode[e]).forEach((function(t){var n=a.vnode[e][t];r.vnodeHooks[t]||(r.vnodeHooks[t]={}),r.vnodeHooks[t][e]||(r.vnodeHooks[t][e]=[]),r.vnodeHooks[t][e].push(n.bind(r))}))}))),a.create&&a.create.bind(r)(t))}},r.useModules=function(e){void 0===e&&(e={});var t=this;t.modules&&Object.keys(t.modules).forEach((function(r){var a=e[r]||{};t.useModule(r,a)}))},t.installModule=function(e){var t=this;t.prototype.modules||(t.prototype.modules={});var r=e.name||Object.keys(t.prototype.modules).length+"_"+ie();if(t.prototype.modules[r]=e,e.proto&&Object.keys(e.proto).forEach((function(r){t.prototype[r]=e.proto[r]})),e.static&&Object.keys(e.static).forEach((function(r){t[r]=e.static[r]})),e.install){for(var a=arguments.length,n=new Array(a>1?a-1:0),o=1;o<a;o++)n[o-1]=arguments[o];e.install.apply(t,n)}return t},t.use=function(e){var t=this;if(Array.isArray(e))return e.forEach((function(e){return t.installModule(e)})),t;for(var r=arguments.length,a=new Array(r>1?r-1:0),n=1;n<r;n++)a[n-1]=arguments[n];return t.installModule.apply(t,[e].concat(a))},I(t,null,[{key:"components",set:function(e){this.use&&this.use(e)}}]),t}(Ee);function Pe(e){void 0===e&&(e={});var t=e,r=t.defaultSelector,a=t.constructor,n=t.domProp,o=t.app,i=t.addMethods,s={create:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Z(a,o?[o].concat(t):t)},get:function(e){if(void 0===e&&(e=r),e instanceof a)return e;var t=j(e);return 0!==t.length?t[0][n]:void 0},destroy:function(e){var t=s.get(e);if(t&&t.destroy)return t.destroy()}};return i&&Array.isArray(i)&&i.forEach((function(e){s[e]=function(t){void 0===t&&(t=r);for(var a=s.get(t),n=arguments.length,o=new Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];if(a&&a[e])return a[e].apply(a,o)}})),s}var Oe=[];var ze=function(e){function t(r){var a;if(void 0===r&&(r={}),a=e.call(this,r)||this,t.instance&&"undefined"!=typeof window)throw new Error("ZMP is already initialized and can't be initialized more than once");var n=ke({userAgent:r.userAgent||void 0}),i=Ce(),s=pe({},r),l=Y(a);l.device=n,l.support=i;var u=o();t.instance=l;var c={version:"1.0.0",id:"io.zmp.myapp",el:"body",theme:"auto",language:u.navigator.language,routes:[],name:"ZMP",lazyModulesPath:null,initOnDeviceReady:!0,init:!0,autoDarkTheme:!1,iosTranslucentBars:!1,iosTranslucentModals:!1,component:void 0,componentUrl:void 0,userAgent:null,url:null,enableBouncing:!1};return l.useModulesParams(c),l.params=pe(c,r),pe(l,{id:l.params.id,name:l.params.name,version:l.params.version,routes:l.params.routes,language:l.params.language,theme:"auto"===l.params.theme?n.ios?"ios":n.desktop&&n.electron?"aurora":"md":l.params.theme,passedParams:s,online:u.navigator.onLine}),r.store&&(l.params.store=r.store),l.$el&&l.$el[0]&&(l.$el[0].zmp=l),l.useModules(),l.initStore(),l.params.init&&l.init(),l||Y(a)}V(t,e);var r=t.prototype;return r.mount=function(e){var t=this,r=o(),n=a(),i=j(e||t.params.el).eq(0);t.$el=i,t.$el&&t.$el[0]&&(t.el=t.$el[0],t.el.zmp=t,t.rtl="rtl"===i.css("direction"));var s="(prefers-color-scheme: dark)",l="(prefers-color-scheme: light)";t.mq={},r.matchMedia&&(t.mq.dark=r.matchMedia(s),t.mq.light=r.matchMedia(l)),t.colorSchemeListener=function(e){var r=e.matches,a=e.media;if(r){var o=n.querySelector("html");a===s?(o.classList.add("theme-dark"),t.darkTheme=!0,t.emit("darkThemeChange",!0)):a===l&&(o.classList.remove("theme-dark"),t.darkTheme=!1,t.emit("darkThemeChange",!1))}},t.emit("mount")},r.initStore=function(){var e=this;void 0!==e.params.store&&e.params.store.__store?e.store=e.params.store:e.store=e.createStore(e.params.store)},r.enableAutoDarkTheme=function(){var e=o(),t=a();if(e.matchMedia){var r=this,n=t.querySelector("html");r.mq.dark&&r.mq.light&&(r.mq.dark.addListener(r.colorSchemeListener),r.mq.light.addListener(r.colorSchemeListener)),r.mq.dark&&r.mq.dark.matches?(n.classList.add("theme-dark"),r.darkTheme=!0,r.emit("darkThemeChange",!0)):r.mq.light&&r.mq.light.matches&&(n.classList.remove("theme-dark"),r.darkTheme=!1,r.emit("darkThemeChange",!1))}},r.disableAutoDarkTheme=function(){if(o().matchMedia){var e=this;e.mq.dark&&e.mq.dark.removeListener(e.colorSchemeListener),e.mq.light&&e.mq.light.removeListener(e.colorSchemeListener)}},r.initAppComponent=function(e){var t=this;t.router.componentLoader(t.params.component,t.params.componentUrl,{componentOptions:{el:t.$el[0]}},(function(r){t.$el=j(r),t.$el[0].zmp=t,t.$elComponent=r.zmpComponent,t.el=t.$el[0],e&&e()}),(function(){}))},r.init=function(e){var t=this;t.mount(e);var r=function(){if(!t.initialized){t.$el.addClass("zmp-initializing"),t.rtl&&j("html").attr("dir","rtl"),t.params.autoDarkTheme&&t.enableAutoDarkTheme();var e=o();e.addEventListener("offline",(function(){t.online=!1,t.emit("offline"),t.emit("connection",!1)})),e.addEventListener("online",(function(){t.online=!0,t.emit("online"),t.emit("connection",!0)})),t.$el.addClass("zmp-root"),j("html").removeClass("ios md aurora").addClass(t.theme);var r=t.device;t.params.iosTranslucentBars&&"ios"===t.theme&&r.ios&&j("html").addClass("ios-translucent-bars"),t.params.iosTranslucentModals&&"ios"===t.theme&&r.ios&&j("html").addClass("ios-translucent-modals"),oe((function(){t.$el.removeClass("zmp-initializing")})),t.initialized=!0,t.emit("init")}};return t.params.component||t.params.componentUrl?t.initAppComponent((function(){r()})):r(),t},r.loadModule=function(){return t.loadModule.apply(t,arguments)},r.loadModules=function(){return t.loadModules.apply(t,arguments)},r.getVnodeHooks=function(e,t){var r=this;return r.vnodeHooks&&r.vnodeHooks[e]&&r.vnodeHooks[e][t]||[]},I(t,[{key:"$",get:function(){return j}}],[{key:"zmpDOM",get:function(){return j}},{key:"$",get:function(){return j}},{key:"device",get:function(){return ke()}},{key:"support",get:function(){return Ce()}},{key:"Class",get:function(){return xe}},{key:"Events",get:function(){return Ee}}]),t}(xe);ze.ModalMethods=function(e){void 0===e&&(e={});var t=e,r=t.defaultSelector,a=t.constructor,n=t.app;return pe(Pe({defaultSelector:r,constructor:a,app:n,domProp:"zmpModal"}),{open:function(e,t,r){var o=j(e);if(o.length>1&&r){var i=j(r).parents(".page");i.length&&o.each((function(e){var t=j(e);t.parents(i)[0]===i[0]&&(o=t)}))}if(o.length>1&&(o=o.eq(o.length-1)),o.length){var s=o[0].zmpModal;if(!s){var l=o.dataset();s=new a(n,U({el:o},l))}return s.open(t)}},close:function(e,t,o){void 0===e&&(e=r);var i=j(e);if(i.length){if(i.length>1){var s;if(o){var l=j(o);l.length&&(s=l.parents(i))}i=s&&s.length>0?s:i.eq(i.length-1)}var u=i[0].zmpModal;if(!u){var c=i.dataset();u=new a(n,U({el:i},c))}return u.close(t)}}})},ze.ConstructorMethods=Pe,ze.loadModule=function(e){var t=this,r=o(),n=a();return new Promise((function(a,o){var i,s,l,u=t.instance;if(e){if("string"==typeof e){var c=e.match(/([a-z0-9-]*)/i);if(e.indexOf(".")<0&&c&&c[0].length===e.length){if(!u||u&&!u.params.lazyModulesPath)return void o(new Error('ZMP: "lazyModulesPath" app parameter must be specified to fetch module by name'));i=u.params.lazyModulesPath+"/"+e+"/"+e+".js"}else i=e}else"function"==typeof e?l=e:s=e;if(l){var p=l(t,!1);if(!p)return void o(new Error("ZMP: Can't find ZMP component in specified component function"));if(t.prototype.modules&&t.prototype.modules[p.name])return void a();v(p),a()}if(s){var f=s;if(!f)return void o(new Error("ZMP: Can't find ZMP component in specified component"));if(t.prototype.modules&&t.prototype.modules[f.name])return void a();v(f),a()}if(i){if(Oe.indexOf(i)>=0)return void a();Oe.push(i);var d=new Promise((function(e,a){t.request.get(i,(function(o){var s="zmp_component_loader_callback_"+G(),l=n.createElement("script");l.innerHTML="window."+s+" = function (ZMP, ZMPAutoInstallComponent) {return "+o.trim()+"}",j("head").append(l);var u=r[s];delete r[s],j(l).remove();var c=u(t,!1);c?(t.prototype.modules&&t.prototype.modules[c.name]||v(c),e()):a(new Error("ZMP: Can't find ZMP component in "+i+" file"))}),(function(e,t){a(e,t)}))})),h=new Promise((function(e){t.request.get(i.replace(".js",u.rtl?".rtl.css":".css"),(function(t){var r=n.createElement("style");r.innerHTML=t,j("head").append(r),e()}),(function(){e()}))}));Promise.all([d,h]).then((function(){a()})).catch((function(e){o(e)}))}}else o(new Error("ZMP: Lazy module must be specified"));function v(e){t.use(e),u&&(u.useModuleParams(e,u.params),u.useModule(e))}}))},ze.loadModules=function(e){return Promise.all(e.map((function(e){return ze.loadModule(e)})))};var Re={name:"device",static:{getDevice:ke},on:{init:function(){var e=a(),t=ke(),r=[],n=e.querySelector("html"),o=e.querySelector('meta[name="apple-mobile-web-app-status-bar-style"]');n&&(t.standalone&&t.ios&&o&&"black-translucent"===o.content&&r.push("device-full-viewport"),r.push("device-pixel-ratio-"+Math.floor(t.pixelRatio)),t.os&&!t.desktop?r.push("device-"+t.os):t.desktop&&(r.push("device-desktop"),t.os&&r.push("device-"+t.os)),r.forEach((function(e){n.classList.add(e)})))}}},Te={name:"support",static:{getSupport:Ce}},Me={name:"utils",proto:{utils:we},static:{utils:we}},Ae={name:"resize",create:function(){var e=this;e.getSize=function(){if(!e.el)return{width:0,height:0,left:0,top:0};var t=e.$el.offset(),r=[e.el.offsetWidth,e.el.offsetHeight,t.left,t.top],a=r[0],n=r[1],o=r[2],i=r[3];return e.width=a,e.height=n,e.left=o,e.top=i,{width:a,height:n,left:o,top:i}}},on:{init:function(){var e=this,t=o();e.getSize(),t.addEventListener("resize",(function(){e.emit("resize")}),!1),t.addEventListener("orientationchange",(function(){e.emit("orientationchange")}))},orientationchange:function(){var e=a();ke().ipad&&(e.body.scrollLeft=0,setTimeout((function(){e.body.scrollLeft=0}),0))},resize:function(){this.getSize()}}},Se={},$e=0,Le=function(e){Object.assign(this,e)},Ne=function(e){function t(t){var r;return r=e.call(this)||this,Object.assign(Y(r),t),r}return V(t,e),t}(Q(Error)),_e=function(e){return new Promise((function(t,r){var n=o(),i=a(),s=pe({},Se);"beforeCreate beforeOpen beforeSend error complete success statusCode".split(" ").forEach((function(e){delete s[e]}));var l=pe({url:n.location.toString(),method:"GET",data:!1,async:!0,cache:!0,user:"",password:"",headers:{},xhrFields:{},statusCode:{},processData:!0,dataType:"text",contentType:"application/x-www-form-urlencoded",timeout:0},s),u=pe({},l,e);if(e.abortController&&(u.abortController=e.abortController),u.abortController&&u.abortController.canceled)r(new Ne({options:u,status:"canceled",message:"canceled"}));else if(!1!==O("beforeCreate",u)){u.type&&(u.method=u.type);var c,p=u.url.indexOf("?")>=0?"&":"?",f=u.method.toUpperCase();if(("GET"===f||"HEAD"===f||"OPTIONS"===f||"DELETE"===f)&&u.data)(c="string"==typeof u.data?u.data.indexOf("?")>=0?u.data.split("?")[1]:u.data:le(u.data)).length&&(u.url+=p+c,"?"===p&&(p="&"));if("json"===u.dataType&&u.url.indexOf("callback=")>=0){var d,h="zmpjsonp_"+(Date.now()+($e+=1)),v=u.url.split("callback="),m=v[0]+"callback="+h;if(v[1].indexOf("&")>=0){var g=v[1].split("&").filter((function(e){return e.indexOf("=")>0})).join("&");g.length>0&&(m+="&"+g)}var b=i.createElement("script");return b.type="text/javascript",b.onerror=function(){clearTimeout(d),O("error",null,"scripterror","scripterror"),r(new Ne({options:u,status:"scripterror",message:"scripterror"})),O("complete",null,"scripterror")},b.src=m,n[h]=function(e){clearTimeout(d),O("success",e),b.parentNode.removeChild(b),b=null,delete n[h],t(new Le({options:u,data:e}))},i.querySelector("head").appendChild(b),void(u.timeout>0&&(d=setTimeout((function(){b.parentNode.removeChild(b),b=null,O("error",null,"timeout","timeout"),r(new Ne({options:u,status:"timeout",message:"timeout"}))}),u.timeout)))}"GET"!==f&&"HEAD"!==f&&"OPTIONS"!==f&&"DELETE"!==f||!1===u.cache&&(u.url+=p+"_nocache"+Date.now());var y=new XMLHttpRequest;if(u.abortController){var w=!1;u.abortController.onAbort=function(){w||(w=!0,y.abort(),r(new Ne({options:u,xhr:y,status:"canceled",message:"canceled"})))}}if(y.requestUrl=u.url,y.requestParameters=u,!1!==O("beforeOpen",y,u)){y.open(f,u.url,u.async,u.user,u.password);var C=null;if(("POST"===f||"PUT"===f||"PATCH"===f)&&u.data)if(u.processData)if([ArrayBuffer,Blob,Document,FormData].indexOf(u.data.constructor)>=0)C=u.data;else{var k="---------------------------"+Date.now().toString(16);"multipart/form-data"===u.contentType?y.setRequestHeader("Content-Type","multipart/form-data; boundary="+k):y.setRequestHeader("Content-Type",u.contentType),C="";var E=le(u.data);if("multipart/form-data"===u.contentType){E=E.split("&");for(var x=[],P=0;P<E.length;P+=1)x.push('Content-Disposition: form-data; name="'+E[P].split("=")[0]+'"\r\n\r\n'+E[P].split("=")[1]+"\r\n");C="--"+k+"\r\n"+x.join("--"+k+"\r\n")+"--"+k+"--\r\n"}else C="application/json"===u.contentType?JSON.stringify(u.data):E}else C=u.data,y.setRequestHeader("Content-Type",u.contentType);"json"!==u.dataType||u.headers&&u.headers.Accept||y.setRequestHeader("Accept","application/json"),u.headers&&Object.keys(u.headers).forEach((function(e){void 0!==u.headers[e]&&y.setRequestHeader(e,u.headers[e])})),void 0===u.crossDomain&&(u.crossDomain=/^([\w-]+:)?\/\/([^\/]+)/.test(u.url)&&RegExp.$2!==n.location.host),u.crossDomain||y.setRequestHeader("X-Requested-With","XMLHttpRequest"),u.xhrFields&&pe(y,u.xhrFields),y.onload=function(){var e;if(y.status>=200&&y.status<300||0===y.status)if("json"===u.dataType){var a;try{e=JSON.parse(y.responseText)}catch(e){a=!0}a?(O("error",y,"parseerror","parseerror"),r(new Ne({options:u,xhr:y,status:"parseerror",message:"parseerror"}))):(O("success",e,y.status,y),t(new Le({options:u,data:e,status:y.status,xhr:y})))}else O("success",e="text"===y.responseType||""===y.responseType?y.responseText:y.response,y.status,y),t(new Le({options:u,data:e,status:y.status,xhr:y}));else O("error",y,y.status,y.statusText),r(new Ne({options:u,xhr:y,status:y.status,message:y.statusText}));u.statusCode&&(Se.statusCode&&Se.statusCode[y.status]&&Se.statusCode[y.status](y),u.statusCode[y.status]&&u.statusCode[y.status](y)),O("complete",y,y.status)},y.onerror=function(){O("error",y,y.status,y.status),r(new Ne({options:u,xhr:y,status:y.status,message:y.statusText})),O("complete",y,"error")},u.timeout>0&&(y.timeout=u.timeout,y.ontimeout=function(){O("error",y,"timeout","timeout"),r(new Ne({options:u,xhr:y,status:"timeout",message:"timeout"})),O("complete",y,"timeout")}),!1!==O("beforeSend",y,u)?y.send(C):r(new Ne({options:u,xhr:y,status:"canceled",message:"canceled"}))}else r(new Ne({options:u,xhr:y,status:"canceled",message:"canceled"}))}else r(new Ne({options:u,status:"canceled",message:"canceled"}));function O(e){for(var t,r,a=arguments.length,n=new Array(a>1?a-1:0),o=1;o<a;o++)n[o-1]=arguments[o];return Se[e]&&(t=Se[e].apply(Se,n)),u[e]&&(r=u[e].apply(u,n)),"boolean"!=typeof t&&(t=!0),"boolean"!=typeof r&&(r=!0),(!u.abortController||!u.abortController.canceled||"beforeCreate"!==e&&"beforeOpen"!==e&&"beforeSend"!==e)&&(t&&r)}}))};function Be(e){for(var t=[],r=t[0],a=t[1],n=t[2],o=t[3],i=t[4],s=arguments.length,l=new Array(s>1?s-1:0),u=1;u<s;u++)l[u-1]=arguments[u];"function"==typeof l[1]?(r=l[0],n=l[1],o=l[2],i=l[3]):(r=l[0],a=l[1],n=l[2],o=l[3],i=l[4]),[n,o].forEach((function(e){"string"==typeof e&&(i=e,e===n?n=void 0:o=void 0)}));var c={url:r,method:"post"===e||"postJSON"===e?"POST":"GET",data:a,success:n,error:o,dataType:i=i||("json"===e||"postJSON"===e?"json":void 0)};return"postJSON"===e&&pe(c,{contentType:"application/json",processData:!1,crossDomain:!0,data:"string"==typeof a?a:JSON.stringify(a)}),_e(c)}Object.assign(_e,{get:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Be.apply(void 0,["get"].concat(t))},post:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Be.apply(void 0,["post"].concat(t))},json:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Be.apply(void 0,["json"].concat(t))},getJSON:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Be.apply(void 0,["json"].concat(t))},postJSON:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Be.apply(void 0,["postJSON"].concat(t))}}),_e.abortController=function(){var e={canceled:!1,onAbort:null,abort:function(){e.canceled=!0,e.onAbort&&e.onAbort()}};return e},_e.setup=function(e){e.type&&!e.method&&pe(e,{method:e.type}),pe(Se,e)};var De={name:"request",proto:{request:_e},static:{request:_e}};var He={name:"touch",params:{touch:{touchClicksDistanceThreshold:5,disableContextMenu:!1,tapHold:!1,tapHoldDelay:750,tapHoldPreventClicks:!0,activeState:!0,activeStateElements:"a, button, label, span, .actions-button, .stepper-button, .stepper-button-plus, .stepper-button-minus, .card-expandable, .menu-item, .link, .item-link, .accordion-item-toggle",activeStateOnMouseMove:!1,mdTouchRipple:!1,iosTouchRipple:!1,auroraTouchRipple:!1,touchRippleElements:".ripple, .link, .item-link, .list-button, .links-list a, .button, button, .input-clear-button, .dialog-button, .tab-link, .item-radio, .item-checkbox, .actions-button, .searchbar-disable-button, .fab a, .checkbox, .radio, .data-table .sortable-cell:not(.input-cell), .notification-close-button, .stepper-button, .stepper-button-minus, .stepper-button-plus, .menu-item-content, .list.accordion-list .accordion-item-toggle",touchRippleInsetElements:".ripple-inset, .icon-only, .searchbar-disable-button, .input-clear-button, .notification-close-button, .md .navbar .link.back"}},create:function(){var e=Ce();pe(this,{touchEvents:{start:e.touch?"touchstart":e.pointerEvents?"pointerdown":"mousedown",move:e.touch?"touchmove":e.pointerEvents?"pointermove":"mousemove",end:e.touch?"touchend":e.pointerEvents?"pointerup":"mouseup"}})},on:{init:function(){var e,t,r,n,i,s,l,u,c,p,f,d,h=this,v=ke(),m=Ce(),g=o(),b=a(),y=h.params.touch,w=y[h.theme+"TouchRipple"];function C(e){var t,r=j(e),a=r.parents(y.activeStateElements);if(r.closest(".no-active-state").length)return null;if(r.is(y.activeStateElements)&&(t=r),a.length>0&&(t=t?t.add(a):a),t&&t.length>1){for(var n,o=[],i=0;i<t.length;i+=1)n||(o.push(t[i]),(t.eq(i).hasClass("prevent-active-state-propagation")||t.eq(i).hasClass("no-active-state-propagation"))&&(n=!0));t=j(o)}return t||r}function k(e){return e.parents(".page-content").length>0}function E(){u&&u.addClass("active-state")}function x(){u&&(u.removeClass("active-state"),u=null)}function P(e,t,r){e&&(p=h.touchRipple.create(h,e,t,r))}function O(){p&&(p.remove(),p=void 0,f=void 0)}function z(r){(f=function(e){var t=y.touchRippleElements,r=j(e);if(r.is(t))return!r.hasClass("no-ripple")&&r;if(r.parents(t).length>0){var a=r.parents(t).eq(0);return!a.hasClass("no-ripple")&&a}return!1}(r))&&0!==f.length?k(f)?(clearTimeout(d),d=setTimeout((function(){O(),P(f,e,t)}),80)):(O(),P(f,e,t)):f=void 0}function R(){clearTimeout(d),O()}function T(){p||!f||n?O():(clearTimeout(d),P(f,e,t),setTimeout(O,0))}function M(){j(".active-state").removeClass("active-state"),w&&T()}function A(e,t){h.emit({events:e,data:[t]})}function S(e){A("touchstart touchstart:active",e)}function $(e){A("touchmove touchmove:active",e)}function L(e){A("touchend touchend:active",e)}function N(e){A("touchstart:passive",e)}function _(e){A("touchmove:passive",e)}function B(e){A("touchend:passive",e)}v.ios&&v.webView&&g.addEventListener("touchstart",(function(){}));var D=!!m.passiveListener&&{passive:!0},H=!m.passiveListener||{passive:!0,capture:!0},q=!!m.passiveListener&&{passive:!1},I=!m.passiveListener||{passive:!1,capture:!0};b.addEventListener("click",(function(e){A("click",e)}),!0),m.passiveListener?(b.addEventListener(h.touchEvents.start,S,I),b.addEventListener(h.touchEvents.move,$,q),b.addEventListener(h.touchEvents.end,L,q),b.addEventListener(h.touchEvents.start,N,H),b.addEventListener(h.touchEvents.move,_,D),b.addEventListener(h.touchEvents.end,B,D)):(b.addEventListener(h.touchEvents.start,(function(e){S(e),N(e)}),!0),b.addEventListener(h.touchEvents.move,(function(e){$(e),_(e)}),!1),b.addEventListener(h.touchEvents.end,(function(e){L(e),B(e)}),!1)),m.touch?(h.on("click",(function(e){var t=e&&e.detail&&"zmpOverswipe"===e.detail,a=l;return r&&e.target!==r&&(a=!t),y.tapHold&&y.tapHoldPreventClicks&&i&&(a=!0),a&&(e.stopImmediatePropagation(),e.stopPropagation(),e.preventDefault()),y.tapHold&&(s=setTimeout((function(){i=!1}),v.ios||v.androidChrome?100:400)),l=!1,r=null,!a})),h.on("touchstart",(function(a){return n=!1,i=!1,l=!1,a.targetTouches.length>1?(u&&x(),!0):(a.touches.length>1&&u&&x(),y.tapHold&&(s&&clearTimeout(s),s=setTimeout((function(){a&&a.touches&&a.touches.length>1||(i=!0,a.preventDefault(),l=!0,j(a.target).trigger("taphold",a),h.emit("taphold",a))}),y.tapHoldDelay)),r=a.target,e=a.targetTouches[0].pageX,t=a.targetTouches[0].pageY,y.activeState&&((u=C(r))&&!k(u)?E():u&&(c=setTimeout(E,80))),w&&z(r),!0)})),h.on("touchmove",(function(r){var a,o;if("touchmove"===r.type&&(a=r.targetTouches[0],o=y.touchClicksDistanceThreshold),o&&a){var i=a.pageX,u=a.pageY;(Math.abs(i-e)>o||Math.abs(u-t)>o)&&(n=!0)}else n=!0;n&&(l=!0,y.tapHold&&clearTimeout(s),y.activeState&&(clearTimeout(c),x()),w&&R())})),h.on("touchend",(function(e){return clearTimeout(c),clearTimeout(s),b.activeElement===e.target?(y.activeState&&x(),w&&T(),!0):(y.activeState&&(E(),setTimeout(x,0)),w&&T(),!(y.tapHoldPreventClicks&&i||l)||(e.cancelable&&e.preventDefault(),l=!0,!1))})),b.addEventListener("touchcancel",(function(){r=null,clearTimeout(c),clearTimeout(s),y.activeState&&x(),w&&T()}),{passive:!0})):y.activeState&&(h.on("touchstart",(function(r){var a=C(r.target);a&&(a.addClass("active-state"),"which"in r&&3===r.which&&setTimeout((function(){j(".active-state").removeClass("active-state")}),0)),w&&(e=r.pageX,t=r.pageY,z(r.target,r.pageX,r.pageY))})),h.on("touchmove",(function(){y.activeStateOnMouseMove||j(".active-state").removeClass("active-state"),w&&R()})),h.on("touchend",M),b.addEventListener("pointercancel",M,{passive:!0})),b.addEventListener("contextmenu",(function(e){w&&(u&&x(),T())}))}}};function je(e,t){void 0===t&&(t={});for(var r=function(e){for(var t=[],r=0;r<e.length;){var a=e[r];if("*"!==a&&"+"!==a&&"?"!==a)if("\\"!==a)if("{"!==a)if("}"!==a)if(":"!==a)if("("!==a)t.push({type:"CHAR",index:r,value:e[r++]});else{var n=1,o="";if("?"===e[s=r+1])throw new TypeError('Pattern cannot start with "?" at '+s);for(;s<e.length;)if("\\"!==e[s]){if(")"===e[s]){if(0==--n){s++;break}}else if("("===e[s]&&(n++,"?"!==e[s+1]))throw new TypeError("Capturing groups are not allowed at "+s);o+=e[s++]}else o+=e[s++]+e[s++];if(n)throw new TypeError("Unbalanced pattern at "+r);if(!o)throw new TypeError("Missing pattern at "+r);t.push({type:"PATTERN",index:r,value:o}),r=s}else{for(var i="",s=r+1;s<e.length;){var l=e.charCodeAt(s);if(!(l>=48&&l<=57||l>=65&&l<=90||l>=97&&l<=122||95===l))break;i+=e[s++]}if(!i)throw new TypeError("Missing parameter name at "+r);t.push({type:"NAME",index:r,value:i}),r=s}else t.push({type:"CLOSE",index:r,value:e[r++]});else t.push({type:"OPEN",index:r,value:e[r++]});else t.push({type:"ESCAPED_CHAR",index:r++,value:e[r++]});else t.push({type:"MODIFIER",index:r,value:e[r++]})}return t.push({type:"END",index:r,value:""}),t}(e),a=t.prefixes,n=void 0===a?"./":a,o="[^"+Ie(t.delimiter||"/#?")+"]+?",i=[],s=0,l=0,u="",c=function(e){if(l<r.length&&r[l].type===e)return r[l++].value},p=function(e){var t=c(e);if(void 0!==t)return t;var a=r[l],n=a.type,o=a.index;throw new TypeError("Unexpected "+n+" at "+o+", expected "+e)},f=function(){for(var e,t="";e=c("CHAR")||c("ESCAPED_CHAR");)t+=e;return t};l<r.length;){var d=c("CHAR"),h=c("NAME"),v=c("PATTERN");if(h||v){var m=d||"";-1===n.indexOf(m)&&(u+=m,m=""),u&&(i.push(u),u=""),i.push({name:h||s++,prefix:m,suffix:"",pattern:v||o,modifier:c("MODIFIER")||""})}else{var g=d||c("ESCAPED_CHAR");if(g)u+=g;else if(u&&(i.push(u),u=""),c("OPEN")){m=f();var b=c("NAME")||"",y=c("PATTERN")||"",w=f();p("CLOSE"),i.push({name:b||(y?s++:""),pattern:b&&!y?o:y,prefix:m,suffix:w,modifier:c("MODIFIER")||""})}else p("END")}}return i}function qe(e,t){return function(e,t){void 0===t&&(t={});var r=Ue(t),a=t.encode,n=void 0===a?function(e){return e}:a,o=t.validate,i=void 0===o||o,s=e.map((function(e){if("object"==typeof e)return new RegExp("^(?:"+e.pattern+")$",r)}));return function(t){for(var r="",a=0;a<e.length;a++){var o=e[a];if("string"!=typeof o){var l=t?t[o.name]:void 0,u="?"===o.modifier||"*"===o.modifier,c="*"===o.modifier||"+"===o.modifier;if(Array.isArray(l)){if(!c)throw new TypeError('Expected "'+o.name+'" to not repeat, but got an array');if(0===l.length){if(u)continue;throw new TypeError('Expected "'+o.name+'" to not be empty')}for(var p=0;p<l.length;p++){var f=n(l[p],o);if(i&&!s[a].test(f))throw new TypeError('Expected all "'+o.name+'" to match "'+o.pattern+'", but got "'+f+'"');r+=o.prefix+f+o.suffix}}else if("string"!=typeof l&&"number"!=typeof l){if(!u){var d=c?"an array":"a string";throw new TypeError('Expected "'+o.name+'" to be '+d)}}else{f=n(String(l),o);if(i&&!s[a].test(f))throw new TypeError('Expected "'+o.name+'" to match "'+o.pattern+'", but got "'+f+'"');r+=o.prefix+f+o.suffix}}else r+=o}return r}}(je(e,t),t)}function Ie(e){return e.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function Ue(e){return e&&e.sensitive?"":"i"}function Ve(e,t,r){return function(e,t,r){void 0===r&&(r={});for(var a=r.strict,n=void 0!==a&&a,o=r.start,i=void 0===o||o,s=r.end,l=void 0===s||s,u=r.encode,c=void 0===u?function(e){return e}:u,p="["+Ie(r.endsWith||"")+"]|$",f="["+Ie(r.delimiter||"/#?")+"]",d=i?"^":"",h=0,v=e;h<v.length;h++){var m=v[h];if("string"==typeof m)d+=Ie(c(m));else{var g=Ie(c(m.prefix)),b=Ie(c(m.suffix));if(m.pattern)if(t&&t.push(m),g||b)if("+"===m.modifier||"*"===m.modifier){var y="*"===m.modifier?"?":"";d+="(?:"+g+"((?:"+m.pattern+")(?:"+b+g+"(?:"+m.pattern+"))*)"+b+")"+y}else d+="(?:"+g+"("+m.pattern+")"+b+")"+m.modifier;else d+="("+m.pattern+")"+m.modifier;else d+="(?:"+g+b+")"+m.modifier}}if(l)n||(d+=f+"?"),d+=r.endsWith?"(?="+p+")":"$";else{var w=e[e.length-1],C="string"==typeof w?f.indexOf(w[w.length-1])>-1:void 0===w;n||(d+="(?:"+f+"(?="+p+"))?"),C||(d+="(?="+f+"|"+p+")")}return new RegExp(d,Ue(r))}(je(e,r),t,r)}function We(e,t,r){return e instanceof RegExp?function(e,t){if(!t)return e;for(var r=/\((?:\?<(.*?)>)?(?!\?)/g,a=0,n=r.exec(e.source);n;)t.push({name:n[1]||a++,prefix:"",suffix:"",modifier:"",pattern:""}),n=r.exec(e.source);return e}(e,t):Array.isArray(e)?function(e,t,r){var a=e.map((function(e){return We(e,t,r).source}));return new RegExp("(?:"+a.join("|")+")",Ue(r))}(e,t,r):Ve(e,t,r)}var Fe={queue:[],clearQueue:function(){0!==Fe.queue.length&&Fe.queue.shift()()},routerQueue:[],clearRouterQueue:function(){if(0!==Fe.routerQueue.length){var e=Fe.routerQueue.pop(),t=e.router,r=e.stateUrl,a=e.action,n=t.params.animate;!1===t.params.browserHistoryAnimate&&(n=!1),"back"===a&&t.back({animate:n,browserHistory:!1}),"load"===a&&t.navigate(r,{animate:n,browserHistory:!1})}},handle:function(e){if(!Fe.blockPopstate){var t=e.state;Fe.previousState=Fe.state,Fe.state=t,Fe.allowChange=!0,Fe.clearQueue(),(t=Fe.state)||(t={}),this.views.forEach((function(e){var r=e.router,a=t[e.id];if(!a&&e.params.browserHistory&&(a={url:e.router.history[0]}),a){var n=a.url||void 0,o=r.params.animate;!1===r.params.browserHistoryAnimate&&(o=!1),n!==r.url&&(r.history.indexOf(n)>=0?r.allowPageChange?r.back({animate:o,browserHistory:!1}):Fe.routerQueue.push({action:"back",router:r}):r.allowPageChange?r.navigate(n,{animate:o,browserHistory:!1}):Fe.routerQueue.unshift({action:"load",stateUrl:n,router:r}))}}))}},initViewState:function(e,t){var r,a=o(),n=pe({},Fe.state||{},((r={})[e]=t,r));Fe.state=n,a.history.replaceState(n,"")},push:function(e,t,r){var n,i=o(),s=a();if("#!/"===r.substr(-3)&&""===(r=r.replace("#!/",""))&&(r=s.location.href).includes("#!/")&&(r=s.location.href.split("#!/")[0]),Fe.allowChange){Fe.previousState=Fe.state;var l=pe({},Fe.previousState||{},((n={})[e]=t,n));Fe.state=l,i.history.pushState(l,"",r)}else Fe.queue.push((function(){Fe.push(e,t,r)}))},replace:function(e,t,r){var a,n=o();if("#!/"===r.substr(-3)&&(r=r.replace("#!/","")),Fe.allowChange){Fe.previousState=Fe.state;var i=pe({},Fe.previousState||{},((a={})[e]=t,a));Fe.state=i,n.history.replaceState(i,"",r)}else Fe.queue.push((function(){Fe.replace(e,t,r)}))},go:function(e){var t=o();Fe.allowChange=!1,t.history.go(e)},back:function(){var e=o();Fe.allowChange=!1,e.history.back()},allowChange:!0,previousState:{},state:{},blockPopstate:!0,init:function(e){var t=o(),r=a();Fe.state=t.history.state,j(t).on("load",(function(){setTimeout((function(){Fe.blockPopstate=!1}),0)})),r.readyState&&"complete"===r.readyState&&(Fe.blockPopstate=!1),j(t).on("popstate",Fe.handle.bind(e))}};function Xe(e){var t,r,a,n,o,i,s,l,u,c=e,p=c.$el,f=c.$navbarsEl,d=c.app,h=c.params,v=Ce(),m=ke(),g=!1,b=!1,y={},w=[],C=[],k=!0,E=[],x=[],P=h[d.theme+"SwipeBackAnimateShadow"],O=h[d.theme+"SwipeBackAnimateOpacity"],z=h[d.theme+"SwipeBackActiveArea"],R=h[d.theme+"SwipeBackThreshold"],T=d.rtl?"right center":"left center",M=d.rtl?"calc(100% - var(--zmp-navbar-large-title-padding-left) - var(--zmp-safe-area-left)) center":"calc(var(--zmp-navbar-large-title-padding-left) + var(--zmp-safe-area-left)) center";function A(e){var t=void 0===e?{}:e,r=t.progress,a=t.reset,n=t.transition,o=t.reflow,i=["overflow","transform","transform-origin","opacity"];if(!0===n||!1===n)for(var s=0;s<l.length;s+=1){var u=l[s];u&&u.el&&(!0===n&&u.el.classList.add("navbar-page-transitioning"),!1===n&&u.el.classList.remove("navbar-page-transitioning"))}o&&l.length&&l[0]&&l[0].el&&(l[0].el._clientLeft=l[0].el.clientLeft);for(var c=0;c<l.length;c+=1){var p=l[c];if(p&&p.el){!p.className||p.classNameSet||a||(p.el.classList.add(p.className),p.classNameSet=!0),p.className&&a&&p.el.classList.remove(p.className);for(var f=0;f<i.length;f+=1){var d=i[f];p[d]&&(a?p.el.style[d]="":"function"==typeof p[d]?p.el.style[d]=p[d](r):p.el.style[d]=p[d])}}}}function S(e){var r=h[d.theme+"SwipeBack"];!k||!r||g||d.swipeout&&d.swipeout.el||!c.allowPageChange||j(e.target).closest(".range-slider, .calendar-months").length>0||j(e.target).closest(".page-master, .page-master-detail").length>0&&h.masterDetailBreakpoint>0&&d.width>=h.masterDetailBreakpoint||(b=!1,g=!0,t=void 0,y.x="touchstart"===e.type?e.targetTouches[0].pageX:e.pageX,y.y="touchstart"===e.type?e.targetTouches[0].pageY:e.pageY,n=ie(),o=c.dynamicNavbar)}function $(e){if(g){var n="touchmove"===e.type?e.targetTouches[0].pageX:e.pageX,u="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY;if(void 0===t&&(t=!!(t||Math.abs(u-y.y)>Math.abs(n-y.x))||n<y.x&&!d.rtl||n>y.x&&d.rtl),t||e.zmpPreventSwipeBack||d.preventSwipeBack)g=!1;else{if(!b){var v=!1,k=j(e.target),S=k.closest(".swipeout");S.length>0&&(!d.rtl&&S.find(".swipeout-actions-left").length>0&&(v=!0),d.rtl&&S.find(".swipeout-actions-right").length>0&&(v=!0)),((w=k.closest(".page")).hasClass("no-swipeback")||k.closest(".no-swipeback, .card-opened").length>0)&&(v=!0),(C=p.find(".page-previous:not(.stacked)")).length>1&&(C=C.eq(C.length-1));y.x,p.offset().left;if(r=p.width(),(d.rtl?y.x<p.offset().left-p[0].scrollLeft+(r-z):y.x-p.offset().left>z)&&(v=!0),0!==C.length&&0!==w.length||(v=!0),v)return void(g=!1);P&&0===(i=w.find(".page-shadow-effect")).length&&(i=j('<div class="page-shadow-effect"></div>'),w.append(i)),O&&0===(s=C.find(".page-opacity-effect")).length&&(s=j('<div class="page-opacity-effect"></div>'),C.append(s)),o&&(E=f.find(".navbar-current:not(.stacked)"),(x=f.find(".navbar-previous:not(.stacked)")).length>1&&(x=x.eq(x.length-1)),l=function(){var e,t,r=[],a=d.rtl?-1:1,n=E.hasClass("navbar-transparent")&&!E.hasClass("navbar-large")&&!E.hasClass("navbar-transparent-visible"),o=E.hasClass("navbar-large"),i=E.hasClass("navbar-large-collapsed"),s=E.hasClass("navbar-large-transparent")||E.hasClass("navbar-large")&&E.hasClass("navbar-transparent"),l=x.hasClass("navbar-transparent")&&!x.hasClass("navbar-large")&&!x.hasClass("navbar-transparent-visible"),u=x.hasClass("navbar-large"),c=x.hasClass("navbar-large-collapsed"),p=x.hasClass("navbar-large-transparent")||x.hasClass("navbar-large")&&x.hasClass("navbar-transparent"),f=o&&!i,v=u&&!c,g=E.find(".left, .title, .right, .subnavbar, .fading, .title-large, .navbar-bg"),b=x.find(".left, .title, .right, .subnavbar, .fading, .title-large, .navbar-bg");return h.iosAnimateNavbarBackIcon&&(e=E.hasClass("sliding")||E.find(".navbar-inner.sliding").length?E.find(".left").find(".back .icon + span").eq(0):E.find(".left.sliding").find(".back .icon + span").eq(0),t=x.hasClass("sliding")||x.find(".navbar-inner.sliding").length?x.find(".left").find(".back .icon + span").eq(0):x.find(".left.sliding").find(".back .icon + span").eq(0),e.length&&b.each((function(t){j(t).hasClass("title")&&(t.zmpNavbarLeftOffset+=e.prev(".icon")[0].offsetWidth)}))),g.each((function(t){var l=j(t),u=l.hasClass("subnavbar"),c=l.hasClass("left"),p=l.hasClass("title"),d=l.hasClass("navbar-bg");if((!p&&!d||!n)&&(f||!l.hasClass(".title-large"))){var g={el:t};if(f){if(p)return;if(l.hasClass("title-large"))return r.indexOf(g)<0&&r.push(g),g.overflow="visible",void l.find(".title-large-text").each((function(e){r.push({el:e,transform:function(e){return"translateX("+100*e*a+"%)"}})}))}if(v&&(f||l.hasClass("title-large")&&(r.indexOf(g)<0&&r.push(g),g.opacity=0),c))return r.indexOf(g)<0&&r.push(g),g.opacity=function(e){return 1-Math.pow(e,.33)},void l.find(".back span").each((function(e){r.push({el:e,"transform-origin":T,transform:function(e){return"translateX(calc("+e+" * (var(--zmp-navbarTitleLargeOffset) - var(--zmp-navbarLeftTextOffset)))) translateY(calc("+e+" * (var(--zmp-navbar-large-title-height) - var(--zmp-navbar-large-title-padding-vertical) / 2))) scale("+(1+1*e)+")"}})}));if(d)return r.indexOf(g)<0&&r.push(g),f||v||(i?(s&&(g.className="ios-swipeback-navbar-bg-large"),g.transform=function(e){return"translateX("+100*e*a+"%) translateY(calc(-1 * var(--zmp-navbar-large-title-height)))"}):g.transform=function(e){return"translateX("+100*e*a+"%)"}),!f&&v&&(g.className="ios-swipeback-navbar-bg-large",g.transform=function(e){return"translateX("+100*e*a+"%) translateY(calc(-1 * "+(1-e)+" * var(--zmp-navbar-large-title-height)))"}),f&&v&&(g.transform=function(e){return"translateX("+100*e*a+"%)"}),void(f&&!v&&(g.transform=function(e){return"translateX("+100*e*a+"%) translateY(calc(-"+e+" * var(--zmp-navbar-large-title-height)))"}));if(!l.hasClass("title-large")){var b=l.hasClass("sliding")||l.parents(".navbar-inner.sliding").length;if(r.indexOf(g)<0&&r.push(g),(!u||u&&!b)&&(g.opacity=function(e){return 1-Math.pow(e,.33)}),b){var y=g;if(c&&e.length&&h.iosAnimateNavbarBackIcon){var w={el:e[0]};y=w,r.push(w)}y.transform=function(e){var t=e*y.el.zmpNavbarRightOffset;return 1===m.pixelRatio&&(t=Math.round(t)),u&&o?"translate3d("+t+"px, calc(-1 * var(--zmp-navbar-large-collapse-progress) * var(--zmp-navbar-large-title-height)), 0)":"translate3d("+t+"px,0,0)"}}}}})),b.each((function(e){var n=j(e),o=n.hasClass("subnavbar"),i=n.hasClass("left"),s=n.hasClass("title"),d=n.hasClass("navbar-bg");if(!s&&!d||!l){var g={el:e};if(v){if(s)return;if(r.indexOf(g)<0&&r.push(g),n.hasClass("title-large"))return g.opacity=1,g.overflow="visible",void n.find(".title-large-text").each((function(e){r.push({el:e,"transform-origin":M,opacity:function(e){return Math.pow(e,3)},transform:function(e){return"translateX(calc("+(1-e)+" * (var(--zmp-navbarLeftTextOffset) - var(--zmp-navbarTitleLargeOffset)))) translateY(calc("+(e-1)+" * var(--zmp-navbar-large-title-height) + "+(1-e)+" * var(--zmp-navbar-large-title-padding-vertical))) scale("+(.5+.5*e)+")"}})}))}if(d)return r.indexOf(g)<0&&r.push(g),f||v||(c?(p&&(g.className="ios-swipeback-navbar-bg-large"),g.transform=function(e){return"translateX("+(100*e-100)*a+"%) translateY(calc(-1 * var(--zmp-navbar-large-title-height)))"}):g.transform=function(e){return"translateX("+(100*e-100)*a+"%)"}),!f&&v&&(g.transform=function(e){return"translateX("+(100*e-100)*a+"%) translateY(calc(-1 * "+(1-e)+" * var(--zmp-navbar-large-title-height)))"}),f&&!v&&(g.className="ios-swipeback-navbar-bg-large",g.transform=function(e){return"translateX("+(100*e-100)*a+"%) translateY(calc(-"+e+" * var(--zmp-navbar-large-title-height)))"}),void(f&&v&&(g.transform=function(e){return"translateX("+(100*e-100)*a+"%)"}));if(!n.hasClass("title-large")){var b=n.hasClass("sliding")||x.children(".navbar-inner.sliding").length;if(r.indexOf(g)<0&&r.push(g),(!o||o&&!b)&&(g.opacity=function(e){return Math.pow(e,3)}),b){var y=g;if(i&&t.length&&h.iosAnimateNavbarBackIcon){var w={el:t[0]};y=w,r.push(w)}y.transform=function(e){var t=y.el.zmpNavbarLeftOffset*(1-e);return 1===m.pixelRatio&&(t=Math.round(t)),o&&u?"translate3d("+t+"px, calc(-1 * var(--zmp-navbar-large-collapse-progress) * var(--zmp-navbar-large-title-height)), 0)":"translate3d("+t+"px,0,0)"}}}}})),r}()),j(".sheet.modal-in").length>0&&d.sheet&&d.sheet.close(j(".sheet.modal-in"))}e.zmpPreventSwipePanel=!0,b=!0,d.preventSwipePanelBySwipeBack=!0,e.preventDefault();var $=d.rtl?-1:1;(a=(n-y.x-R)*$)<0&&(a=0);var L=Math.min(Math.max(a/r,0),1),N={percentage:L,progress:L,currentPageEl:w[0],previousPageEl:C[0],currentNavbarEl:E[0],previousNavbarEl:x[0]};p.trigger("swipeback:move",N),c.emit("swipebackMove",N);var _=a*$,B=(a/5-r/5)*$;d.rtl?(_=Math.max(_,-r),B=Math.max(B,0)):(_=Math.min(_,r),B=Math.min(B,0)),1===m.pixelRatio&&(_=Math.round(_),B=Math.round(B)),c.swipeBackActive=!0,j([w[0],C[0]]).addClass("page-swipeback-active"),w.transform("translate3d("+_+"px,0,0)"),P&&(i[0].style.opacity=1-1*L),"ios"===d.theme&&C.transform("translate3d("+B+"px,0,0)"),O&&(s[0].style.opacity=1-1*L),o&&A({progress:L})}}}function L(e){if(d.preventSwipePanelBySwipeBack=!1,!g||!b)return g=!1,void(b=!1);g=!1,b=!1;var t=c.swipeBackActive;c.swipeBackActive=!1;var l=j([w[0],C[0]]);if(l.removeClass("page-swipeback-active"),0===a)return c.disableAnimation=t,l.transform(""),i&&i.length>0&&i.remove(),s&&s.length>0&&s.remove(),void(o&&A({reset:!0}));var u=ie()-n,f=!1;(u<300&&a>10||u>=300&&a>r/2)&&(w.removeClass("page-current").addClass("page-next"+("ios"!==d.theme?" page-next-on-right":"")),C.removeClass("page-previous").addClass("page-current").removeAttr("aria-hidden"),i&&(i[0].style.opacity=""),s&&(s[0].style.opacity=""),o&&(c.setNavbarPosition(E,"next"),c.setNavbarPosition(x,"current",!1)),f=!0),l.addClass("page-transitioning page-transitioning-swipeback"),m.ios&&(w[0]._clientLeft=w[0].clientLeft),l.transform(""),o&&A({progress:f?1:0,transition:!0,reflow:!!m.ios}),k=!1,c.allowPageChange=!1;var v={currentPageEl:w[0],previousPageEl:C[0],currentNavbarEl:E[0],previousNavbarEl:x[0]};f?(c.currentRoute=C[0].zmpPage.route,c.currentPage=C[0],c.pageCallback("beforeOut",w,E,"current","next",{route:w[0].zmpPage.route,swipeBack:!0}),c.pageCallback("beforeIn",C,x,"previous","current",{route:C[0].zmpPage.route,swipeBack:!0},w[0]),p.trigger("swipeback:beforechange",v),c.emit("swipebackBeforeChange",v)):(p.trigger("swipeback:beforereset",v),c.emit("swipebackBeforeReset",v)),w.transitionEnd((function(){l.removeClass("page-transitioning page-transitioning-swipeback"),o&&A({reset:!0,transition:!1}),k=!0,c.allowPageChange=!0,f?(1===c.history.length&&c.history.unshift(c.url),c.history.pop(),c.saveHistory(),h.browserHistory&&Fe.back(),c.pageCallback("afterOut",w,E,"current","next",{route:w[0].zmpPage.route,swipeBack:!0}),c.pageCallback("afterIn",C,x,"previous","current",{route:C[0].zmpPage.route,swipeBack:!0}),h.stackPages&&c.initialPages.indexOf(w[0])>=0?(w.addClass("stacked"),o&&E.addClass("stacked")):(c.pageCallback("beforeRemove",w,E,"next",{swipeBack:!0}),c.removePage(w),o&&c.removeNavbar(E)),p.trigger("swipeback:afterchange",v),c.emit("swipebackAfterChange",v),c.emit("routeChanged",c.currentRoute,c.previousRoute,c),h.preloadPreviousPage&&c.back(c.history[c.history.length-2],{preload:!0})):(p.trigger("swipeback:afterreset",v),c.emit("swipebackAfterReset",v)),i&&i.length>0&&i.remove(),s&&s.length>0&&s.remove()}))}u=!("touchstart"!==d.touchEvents.start||!v.passiveListener)&&{passive:!0,capture:!1},p.on(d.touchEvents.start,S,u),d.on("touchmove:active",$),d.on("touchend:passive",L),c.on("routerDestroy",(function(){var e=!("touchstart"!==d.touchEvents.start||!v.passiveListener)&&{passive:!0,capture:!1};p.off(d.touchEvents.start,S,e),d.off("touchmove:active",$),d.off("touchend:passive",L)}))}function Ze(e,t,r){var a=this,n=t.route.redirect,o="forward"===e?"navigate":"back";if(r.initial&&a.params.browserHistory&&(r.replaceState=!0,r.history=!0),"function"==typeof n){a.allowPageChange=!1;var i=n.call(a,{router:a,to:t,resolve:function(e,t){void 0===t&&(t={}),a.allowPageChange=!0,a[o](e,pe({},r,t))},reject:function(){a.allowPageChange=!0},direction:e,app:a.app});return i&&"string"==typeof i?(a.allowPageChange=!0,a[o](i,r)):a}return a[o](n,r)}function Qe(e,t,r,a,n,o,i,s){var l=[];Array.isArray(r)?l.push.apply(l,r):r&&"function"==typeof r&&l.push(r),t&&(Array.isArray(t)?l.push.apply(l,t):l.push(t)),function t(){0!==l.length?l.shift().call(e,{router:e,to:a,from:n,resolve:function(){t()},reject:function(){i()},direction:s,app:e.app}):o()}()}function Ye(e,t,r,a,n){var o=this;function i(){e&&e.route&&(o.params.routesBeforeEnter||e.route.beforeEnter)?(o.allowPageChange=!1,Qe(o,o.params.routesBeforeEnter,e.route.beforeEnter,e,t,(function(){o.allowPageChange=!0,r()}),(function(){a()}),n)):r()}t&&t.route&&(o.params.routesBeforeLeave||t.route.beforeLeave)?(o.allowPageChange=!1,Qe(o,o.params.routesBeforeLeave,t.route.beforeLeave,e,t,(function(){o.allowPageChange=!0,i()}),(function(){a()}),n)):i()}function Je(e,t){if(!e.view)throw new Error("ZMP: it is not allowed to use router methods on global app router. Use router methods only on related View, e.g. app.views.main.router."+t+"(...)")}function Ge(e,t,r,a){function n(e){e.then((function(e){r({component:e.default||e._default||e})})).catch((function(e){throw a(),new Error(e)}))}if(t instanceof Promise)n(t);else{var o=t.call(e);o instanceof Promise?n(o):r({component:o})}}function Ke(e,t,r){void 0===r&&(r={});var n,o,i,s=a(),l=j(t),u=e.app,c=e.view,p=pe(!1,{animate:e.params.animate,browserHistory:!0,replaceState:!1,history:!0,reloadCurrent:e.params.reloadPages,reloadPrevious:!1,reloadAll:!1,clearPreviousHistory:!1,reloadDetail:e.params.reloadDetail,on:{}},r),f=e.params.masterDetailBreakpoint>0,d=f&&p.route&&p.route.route&&(!0===p.route.route.master||"function"==typeof p.route.route.master&&p.route.route.master(u,e)),h=0,v=e.currentRoute.modal;if(v||"popup popover sheet loginScreen actions customModal panel".split(" ").forEach((function(t){e.currentRoute&&e.currentRoute.route&&e.currentRoute.route[t]&&(v=!0,i=t)})),v){var m=e.currentRoute.modal||e.currentRoute.route.modalInstance||u[i].get(),g=e.history[e.history.length-2],b=e.findMatchingRoute(g);!b&&g&&(b={url:g,path:g.split("?")[0],query:se(g),route:{path:g.split("?")[0],url:g}}),e.modalRemove(m)}var y,w,C,k,E=e.dynamicNavbar,x=e.$el,P=l,O=p.reloadPrevious||p.reloadCurrent||p.reloadAll;if(e.allowPageChange=!1,0===P.length)return e.allowPageChange=!0,e;P.length&&e.removeThemeElements(P),E&&(C=P.children(".navbar"),w=e.$navbarsEl,0===C.length&&P[0]&&P[0].zmpPage&&(C=P[0].zmpPage.$navbarEl)),p.route&&p.route.route&&p.route.route.keepAlive&&!p.route.route.keepAliveData&&(p.route.route.keepAliveData={pageEl:l[0]});var z,R,T,M,A=x.children(".page:not(.stacked)").filter((function(e){return e!==P[0]}));if(E&&(z=w.children(".navbar:not(.stacked)").filter((function(e){return e!==C[0]}))),p.reloadPrevious&&A.length<2)return e.allowPageChange=!0,e;if(f&&!p.reloadAll){for(var S=0;S<A.length;S+=1)n||!A[S].classList.contains("page-master")||(n=A[S]);if((R=!d&&n)&&n)for(var $=0;$<A.length;$+=1)A[$].classList.contains("page-master-detail")&&(o=A[$]);T=R&&p.reloadDetail&&u.width>=e.params.masterDetailBreakpoint&&n}R&&(M=!o||T||p.reloadAll||p.reloadCurrent);var L="next";if(p.reloadCurrent||p.reloadAll||T?L="current":p.reloadPrevious&&(L="previous"),P.removeClass("page-previous page-current page-next").addClass("page-"+L+(d?" page-master":"")+(R?" page-master-detail":"")+(M?" page-master-detail-root":"")).removeClass("stacked").trigger("page:unstack").trigger("page:position",{position:L}),e.emit("pageUnstack",P[0]),e.emit("pagePosition",P[0],L),(d||R)&&(P.trigger("page:role",{role:d?"master":"detail",root:!!M}),e.emit("pageRole",P[0],{role:d?"master":"detail",detailRoot:!!M})),E&&C.length&&(C.removeClass("navbar-previous navbar-current navbar-next").addClass("navbar-"+L+(d?" navbar-master":"")+(R?" navbar-master-detail":"")+(M?" navbar-master-detail-root":"")).removeClass("stacked"),C.trigger("navbar:position",{position:L}),e.emit("navbarPosition",C[0],L),(d||R)&&e.emit("navbarRole",C[0],{role:d?"master":"detail",detailRoot:!!M})),p.reloadCurrent||T)T?(y=A.filter((function(e){return!e.classList.contains("page-master")})),E&&(k=j(y.map((function(e){return u.navbar.getElByPage(e)})))),y.length>1&&n&&(h=y.length-1,j(n).removeClass("page-master-stacked").trigger("page:masterunstack"),e.emit("pageMasterUnstack",n),E&&(j(u.navbar.getElByPage(n)).removeClass("navbar-master-stacked"),e.emit("navbarMasterUnstack",u.navbar.getElByPage(n))))):(y=A.eq(A.length-1),E&&(k=j(u.navbar.getElByPage(y))));else if(p.reloadPrevious)y=A.eq(A.length-2),E&&(k=j(u.navbar.getElByPage(y)));else if(p.reloadAll)y=A.filter((function(e){return e!==P[0]})),E&&(k=z.filter((function(e){return e!==C[0]})));else{var N=[],_=[];if(A.length>1){var B=0;for(B=0;B<A.length-1;B+=1)if(n&&A[B]===n)A.eq(B).addClass("page-master-stacked"),A.eq(B).trigger("page:masterstack"),e.emit("pageMasterStack",A[B]),E&&(j(u.navbar.getElByPage(n)).addClass("navbar-master-stacked"),e.emit("navbarMasterStack",u.navbar.getElByPage(n)));else{var D=u.navbar.getElByPage(A.eq(B));e.params.stackPages?(A.eq(B).addClass("stacked"),A.eq(B).trigger("page:stack"),e.emit("pageStack",A[B]),E&&j(D).addClass("stacked")):(N.push(A[B]),e.pageCallback("beforeRemove",A[B],z&&z[B],"previous",void 0,p),e.removePage(A[B]),E&&D&&(_.push(D),e.removeNavbar(D)))}}y=x.children(".page:not(.stacked)").filter((function(e){return e!==P[0]&&N.indexOf(e)<0})),E&&(k=w.children(".navbar:not(.stacked)").filter((function(e){return e!==C[0]&&_.indexOf(_)<0}))),N=[],_=[]}if(R&&!p.reloadAll&&((y.length>1||T)&&(y=y.filter((function(e){return!e.classList.contains("page-master")}))),k&&(k.length>1||T)&&(k=k.filter((function(e){return!e.classList.contains("navbar-master")})))),e.params.browserHistory&&(p.browserHistory||p.replaceState)&&!p.reloadPrevious){var H=e.params.browserHistoryRoot||"";Fe[p.reloadCurrent||T&&o||p.reloadAll||p.replaceState?"replace":"push"](c.id,{url:p.route.url},H+e.params.browserHistorySeparator+p.route.url)}p.reloadPrevious||(e.currentPageEl=P[0],E&&C.length?e.currentNavbarEl=C[0]:delete e.currentNavbarEl,e.currentRoute=p.route);var q=p.route.url;p.history&&(((p.reloadCurrent||T&&o)&&e.history.length)>0||p.replaceState?(T&&h>0&&(e.history=e.history.slice(0,e.history.length-h)),e.history[e.history.length-(p.reloadPrevious?2:1)]=q):p.reloadPrevious?e.history[e.history.length-2]=q:p.reloadAll?e.history=[q]:e.history.push(q)),e.saveHistory();var I=P.parents(s).length>0,U=P[0].zmpComponent;if(p.reloadPrevious?(U&&!I?U.mount((function(e){j(e).insertBefore(y)})):P.insertBefore(y),E&&C.length&&(C.find(".title-large").length&&C.addClass("navbar-large"),k.length?C.insertBefore(k):(e.$navbarsEl.parents(s).length||e.$el.prepend(e.$navbarsEl),w.append(C)))):(y.next(".page")[0]!==P[0]&&(U&&!I?U.mount((function(e){x.append(e)})):x.append(P[0])),E&&C.length&&(C.find(".title-large").length&&C.addClass("navbar-large"),e.$navbarsEl.parents(s).length||e.$el.prepend(e.$navbarsEl),w.append(C[0]))),I?p.route&&p.route.route&&p.route.route.keepAlive&&!P[0].zmpPageMounted&&(P[0].zmpPageMounted=!0,e.pageCallback("mounted",P,C,L,O?L:"current",p,y)):e.pageCallback("mounted",P,C,L,O?L:"current",p,y),(p.reloadCurrent||T)&&y.length>0?e.params.stackPages&&e.initialPages.indexOf(y[0])>=0?(y.addClass("stacked"),y.trigger("page:stack"),e.emit("pageStack",y[0]),E&&k.addClass("stacked")):(e.pageCallback("beforeOut",y,k,"current",void 0,p),e.pageCallback("afterOut",y,k,"current",void 0,p),e.pageCallback("beforeRemove",y,k,"current",void 0,p),e.removePage(y),E&&k&&k.length&&e.removeNavbar(k)):p.reloadAll?y.each((function(t,r){var a=j(t),n=j(u.navbar.getElByPage(a));e.params.stackPages&&e.initialPages.indexOf(a[0])>=0?(a.addClass("stacked"),a.trigger("page:stack"),e.emit("pageStack",a[0]),E&&n.addClass("stacked")):(a.hasClass("page-current")&&(e.pageCallback("beforeOut",y,k,"current",void 0,p),e.pageCallback("afterOut",y,k,"current",void 0,p)),e.pageCallback("beforeRemove",a,k&&k.eq(r),"previous",void 0,p),e.removePage(a),E&&n.length&&e.removeNavbar(n))})):p.reloadPrevious&&(e.params.stackPages&&e.initialPages.indexOf(y[0])>=0?(y.addClass("stacked"),y.trigger("page:stack"),e.emit("pageStack",y[0]),E&&k.addClass("stacked")):(e.pageCallback("beforeRemove",y,k,"previous",void 0,p),e.removePage(y),E&&k&&k.length&&e.removeNavbar(k))),p.route.route.tab&&e.tabLoad(p.route.route.tab,pe({},p,{history:!1,browserHistory:!1})),f&&c.checkMasterDetailBreakpoint(),e.pageCallback("init",P,C,L,O?L:"current",p,y),p.reloadCurrent||p.reloadAll||T)return e.allowPageChange=!0,e.pageCallback("beforeIn",P,C,L,"current",p),P.removeAttr("aria-hidden"),E&&C&&C.removeAttr("aria-hidden"),e.pageCallback("afterIn",P,C,L,"current",p),p.reloadCurrent&&p.clearPreviousHistory&&e.clearPreviousHistory(),T&&(e.setPagePosition(j(n),"previous"),n.zmpPage&&n.zmpPage.navbarEl&&e.setNavbarPosition(j(n.zmpPage.navbarEl),"previous")),e;if(p.reloadPrevious)return e.allowPageChange=!0,e;function V(){e.setPagePosition(P,"current",!1),e.setPagePosition(y,"previous",!y.hasClass("page-master")),E&&(e.setNavbarPosition(C,"current",!1),e.setNavbarPosition(k,"previous",!k.hasClass("navbar-master"))),e.allowPageChange=!0,e.pageCallback("afterOut",y,k,"current","previous",p),e.pageCallback("afterIn",P,C,"next","current",p);var t=(e.params.preloadPreviousPage||e.params[u.theme+"SwipeBack"])&&!d;t||(P.hasClass("smart-select-page")||P.hasClass("photo-browser-page")||P.hasClass("autocomplete-page")||P.hasClass("color-picker-page"))&&(t=!0),t||(e.params.stackPages?(y.addClass("stacked"),y.trigger("page:stack"),e.emit("pageStack",y[0]),E&&k.addClass("stacked")):P.attr("data-name")&&"smart-select-page"===P.attr("data-name")||(e.pageCallback("beforeRemove",y,k,"previous",void 0,p),e.removePage(y),E&&k.length&&e.removeNavbar(k))),p.clearPreviousHistory&&e.clearPreviousHistory(),e.emit("routeChanged",e.currentRoute,e.previousRoute,e),e.params.browserHistory&&Fe.clearRouterQueue()}function W(){e.setPagePosition(y,"current",!1),e.setPagePosition(P,"next",!1),E&&(e.setNavbarPosition(k,"current",!1),e.setNavbarPosition(C,"next",!1))}if(e.pageCallback("beforeOut",y,k,"current","previous",p),e.pageCallback("beforeIn",P,C,"next","current",p),!p.animate||d&&u.width>=e.params.masterDetailBreakpoint)V();else{var F=e.params[e.app.theme+"PageLoadDelay"],X=e.params.transition;p.transition&&(X=p.transition),!X&&e.currentRoute&&e.currentRoute.route&&(X=e.currentRoute.route.transition),!X&&e.currentRoute&&e.currentRoute.route.options&&(X=e.currentRoute.route.options.transition),X&&(P[0].zmpPageTransition=X),F?setTimeout((function(){W(),e.animate(y,P,k,C,"forward",X,(function(){V()}))}),F):(W(),e.animate(y,P,k,C,"forward",X,(function(){V()})))}return e}function et(e,t,r,a){if(void 0===t&&(t={}),void 0===r&&(r={}),!e.allowPageChange&&!a)return e;var n=t,o=r,i=n.url,s=n.content,l=n.el,u=n.pageName,c=n.component,p=n.componentUrl;if(!o.reloadCurrent&&o.route&&o.route.route&&o.route.route.parentPath&&e.currentRoute.route&&e.currentRoute.route.parentPath===o.route.route.parentPath){if(o.route.url===e.url)return e.allowPageChange=!0,!1;var f=Object.keys(o.route.params).length===Object.keys(e.currentRoute.params).length;if(f&&Object.keys(o.route.params).forEach((function(t){t in e.currentRoute.params&&e.currentRoute.params[t]===o.route.params[t]||(f=!1)})),f)return!!o.route.route.tab&&e.tabLoad(o.route.route.tab,o);if(!f&&o.route.route.tab&&e.currentRoute.route.tab&&e.currentRoute.parentPath===o.route.parentPath)return e.tabLoad(o.route.route.tab,o)}if(o.route&&o.route.url&&e.url===o.route.url&&!o.reloadCurrent&&!o.reloadPrevious&&!e.params.allowDuplicateUrls)return e.allowPageChange=!0,!1;if(!o.route&&i&&(o.route=e.parseRouteUrl(i),pe(o.route,{route:{url:i,path:i}})),(i||p||c)&&(e.allowPageChange=!1),s)Ke(e,e.getPageEl(s),o);else if(l)Ke(e,e.getPageEl(l),o);else if(u)Ke(e,e.$el.children('.page[data-name="'+u+'"]').eq(0),o);else if(c||p)try{e.pageComponentLoader({routerEl:e.el,component:c,componentUrl:p,options:o,resolve:function(t,r){return Ke(e,t,pe(o,r))},reject:function(){return e.allowPageChange=!0,e}})}catch(t){throw e.allowPageChange=!0,t}else i&&(e.xhrAbortController&&(e.xhrAbortController.abort(),e.xhrAbortController=!1),e.xhrRequest(i,o).then((function(t){Ke(e,e.getPageEl(t),o)})).catch((function(){e.allowPageChange=!0})));return e}function tt(e,t,r){var n=ke(),o=a(),i=j(t),s=e.app,l=e.view,u=pe({animate:e.params.animate,browserHistory:!0,replaceState:!1},r);e.disableAnimation&&(u.animate=!1),e.disableAnimation=!1;var c,p,f,d,h,v,m,g,b=e.params.masterDetailBreakpoint>0,y=b&&u.route&&u.route.route&&(!0===u.route.route.master||"function"==typeof u.route.route.master&&u.route.route.master(s,e)),w=e.dynamicNavbar,C=i,k=e.$el.children(".page-current"),E=0===k.length&&u.preload,x=b&&k.hasClass("page-master");if(C.length&&e.removeThemeElements(C),w&&(d=C.children(".navbar"),f=e.$navbarsEl,0===d.length&&C[0]&&C[0].zmpPage&&(d=C[0].zmpPage.$navbarEl),h=f.find(".navbar-current")),e.allowPageChange=!1,0===C.length||0===k.length&&!u.preload)return e.allowPageChange=!0,e;if(e.removeThemeElements(C),u.route&&u.route.route&&u.route.route.keepAlive&&!u.route.route.keepAliveData&&(u.route.route.keepAliveData={pageEl:i[0]}),b){for(var P=e.$el.children(".page:not(.stacked)").filter((function(e){return e!==C[0]})),O=0;O<P.length;O+=1)c||!P[O].classList.contains("page-master")||(c=P[O]);!(v=!y&&c&&e.history.indexOf(u.route.url)>e.history.indexOf(c.zmpPage.route.url))&&!y&&c&&c.zmpPage&&u.route.route.masterRoute&&(v=u.route.route.masterRoute.path===c.zmpPage.route.route.path)}if(v&&c&&c.zmpPage&&(m=e.history.indexOf(u.route.url)-e.history.indexOf(c.zmpPage.route.url)==1),C.addClass("page-"+(E?"current":"previous")+(y?" page-master":"")+(v?" page-master-detail":"")+(m?" page-master-detail-root":"")).removeClass("stacked").removeAttr("aria-hidden").trigger("page:unstack").trigger("page:position",{position:E?"current":"previous"}),e.emit("pageUnstack",C[0]),e.emit("pagePosition",C[0],E?"current":"previous"),(y||v)&&(C.trigger("page:role",{role:y?"master":"detail",root:!!m}),e.emit("pageRole",C[0],{role:y?"master":"detail",detailRoot:!!m})),w&&d.length>0&&(d.addClass("navbar-"+(E?"current":"previous")+(y?" navbar-master":"")+(v?" navbar-master-detail":"")+(m?" navbar-master-detail-root":"")).removeClass("stacked").removeAttr("aria-hidden"),d.trigger("navbar:position",{position:E?"current":"previous"}),e.emit("navbarPosition",d[0],E?"current":"previous"),(y||m)&&e.emit("navbarRole",d[0],{role:y?"master":"detail",detailRoot:!!m})),u.force&&(k.prev(".page-previous:not(.stacked)").length>0||0===k.prev(".page-previous").length))if(e.history.indexOf(u.route.url)>=0?(g=e.history.length-e.history.indexOf(u.route.url)-1,e.history=e.history.slice(0,e.history.indexOf(u.route.url)+2),l.history=e.history):e.history[[e.history.length-2]]?e.history[e.history.length-2]=u.route.url:e.history.unshift(e.url),g&&e.params.stackPages)k.prevAll(".page-previous").each((function(t){var r,a=j(t);w&&(r=j(s.navbar.getElByPage(a))),a[0]!==C[0]&&a.index()>C.index()&&(e.initialPages.indexOf(a[0])>=0?(a.addClass("stacked"),a.trigger("page:stack"),e.emit("pageStack",a[0]),w&&r.addClass("stacked")):(e.pageCallback("beforeRemove",a,r,"previous",void 0,u),a[0]===c&&(p=!0),e.removePage(a),w&&r.length>0&&e.removeNavbar(r)))}));else{var z,R=k.prev(".page-previous:not(.stacked)");w&&(z=j(s.navbar.getElByPage(R))),e.params.stackPages&&e.initialPages.indexOf(R[0])>=0?(R.addClass("stacked"),R.trigger("page:stack"),e.emit("pageStack",R[0]),z.addClass("stacked")):R.length>0&&(e.pageCallback("beforeRemove",R,z,"previous",void 0,u),R[0]===c&&(p=!0),e.removePage(R),w&&z.length&&e.removeNavbar(z))}var T=C.parents(o).length>0,M=C[0].zmpComponent;function A(){E&&(!T&&M?M.mount((function(t){e.$el.append(t)})):e.$el.append(C)),0===C.next(k).length&&(!T&&M?M.mount((function(e){j(e).insertBefore(k)})):C.insertBefore(k)),w&&d.length&&(d.find(".title-large").length&&d.addClass("navbar-large"),d.insertBefore(h),h.length>0?d.insertBefore(h):(e.$navbarsEl.parents(o).length||e.$el.prepend(e.$navbarsEl),f.append(d))),T?u.route&&u.route.route&&u.route.route.keepAlive&&!C[0].zmpPageMounted&&(C[0].zmpPageMounted=!0,e.pageCallback("mounted",C,d,"previous","current",u,k)):e.pageCallback("mounted",C,d,"previous","current",u,k)}if(u.preload){A(),u.route.route.tab&&e.tabLoad(u.route.route.tab,pe({},u,{history:!1,browserHistory:!1,preload:!0})),y&&(C.removeClass("page-master-stacked").trigger("page:masterunstack"),e.emit("pageMasterUnstack",C[0]),w&&(j(s.navbar.getElByPage(C)).removeClass("navbar-master-stacked"),e.emit("navbarMasterUnstack",s.navbar.getElByPage(C)))),e.pageCallback("init",C,d,"previous","current",u,k),E&&(e.pageCallback("beforeIn",C,d,"current",void 0,u),e.pageCallback("afterIn",C,d,"current",void 0,u));var S=C.prevAll(".page-previous:not(.stacked):not(.page-master)");return S.length>0&&S.each((function(t){var r,a=j(t);w&&(r=j(s.navbar.getElByPage(a))),e.params.stackPages&&e.initialPages.indexOf(t)>=0?(a.addClass("stacked"),a.trigger("page:stack"),e.emit("pageStack",a[0]),w&&r.addClass("stacked")):(e.pageCallback("beforeRemove",a,r,"previous",void 0),e.removePage(a),w&&r.length&&e.removeNavbar(r))})),e.allowPageChange=!0,e}if(!(n.ie||n.edge||n.firefox&&!n.ios)&&e.params.browserHistory&&u.browserHistory)if(u.replaceState){var $=e.params.browserHistoryRoot||"";Fe.replace(l.id,{url:u.route.url},$+e.params.browserHistorySeparator+u.route.url)}else g?Fe.go(-g):Fe.back();if(u.replaceState?e.history[e.history.length-1]=u.route.url:(1===e.history.length&&e.history.unshift(e.url),e.history.pop()),e.saveHistory(),e.currentPageEl=C[0],w&&d.length?e.currentNavbarEl=d[0]:delete e.currentNavbarEl,e.currentRoute=u.route,(n.ie||n.edge||n.firefox&&!n.ios)&&e.params.browserHistory&&u.browserHistory)if(u.replaceState){var L=e.params.browserHistoryRoot||"";Fe.replace(l.id,{url:u.route.url},L+e.params.browserHistorySeparator+u.route.url)}else g?Fe.go(-g):Fe.back();function N(){e.setPagePosition(C,"current",!1),e.setPagePosition(k,"next",!0),w&&(e.setNavbarPosition(d,"current",!1),e.setNavbarPosition(h,"next",!0)),e.pageCallback("afterOut",k,h,"current","next",u),e.pageCallback("afterIn",C,d,"previous","current",u),e.params.stackPages&&e.initialPages.indexOf(k[0])>=0?(k.addClass("stacked"),k.trigger("page:stack"),e.emit("pageStack",k[0]),w&&h.addClass("stacked")):(e.pageCallback("beforeRemove",k,h,"next",void 0,u),e.removePage(k),w&&h.length&&e.removeNavbar(h)),e.allowPageChange=!0,e.emit("routeChanged",e.currentRoute,e.previousRoute,e),(e.params.preloadPreviousPage||e.params[s.theme+"SwipeBack"])&&e.history[e.history.length-2]&&!y&&e.back(e.history[e.history.length-2],{preload:!0}),e.params.browserHistory&&Fe.clearRouterQueue()}if(A(),u.route.route.tab&&e.tabLoad(u.route.route.tab,pe({},u,{history:!1,browserHistory:!1})),b&&(x||p)&&l.checkMasterDetailBreakpoint(!1),e.pageCallback("init",C,d,"previous","current",u,k),e.pageCallback("beforeOut",k,h,"current","next",u),e.pageCallback("beforeIn",C,d,"previous","current",u),!u.animate||x&&s.width>=e.params.masterDetailBreakpoint)N();else{var _=e.params.transition;k[0]&&k[0].zmpPageTransition&&(_=k[0].zmpPageTransition,delete k[0].zmpPageTransition),u.transition&&(_=u.transition),!_&&e.previousRoute&&e.previousRoute.route&&(_=e.previousRoute.route.transition),!_&&e.previousRoute&&e.previousRoute.route&&e.previousRoute.route.options&&(_=e.previousRoute.route.options.transition),e.setPagePosition(k,"current"),e.setPagePosition(C,"previous",!1),w&&(e.setNavbarPosition(h,"current"),e.setNavbarPosition(d,"previous",!1)),e.animate(k,C,h,d,"backward",_,(function(){N()}))}return e}function rt(e,t,r,a){if(!e.allowPageChange&&!a)return e;var n=t,o=r,i=n.url,s=n.content,l=n.el,u=n.pageName,c=n.component,p=n.componentUrl;if(o.route.url&&e.url===o.route.url&&!o.reloadCurrent&&!o.reloadPrevious&&!e.params.allowDuplicateUrls)return!1;if(!o.route&&i&&(o.route=e.parseRouteUrl(i)),(i||p||c)&&(e.allowPageChange=!1),s)tt(e,e.getPageEl(s),o);else if(l)tt(e,e.getPageEl(l),o);else if(u)tt(e,e.$el.children('.page[data-name="'+u+'"]').eq(0),o);else if(c||p)try{e.pageComponentLoader({routerEl:e.el,component:c,componentUrl:p,options:o,resolve:function(t,r){return tt(e,t,pe(o,r))},reject:function(){return e.allowPageChange=!0,e}})}catch(t){throw e.allowPageChange=!0,t}else i&&(e.xhrAbortController&&(e.xhrAbortController.abort(),e.xhrAbortController=!1),e.xhrRequest(i,o).then((function(t){tt(e,e.getPageEl(t),o)})).catch((function(){e.allowPageChange=!0})));return e}var at=function(e){function t(t,r){var a,n=Y(a=e.call(this,{},[void 0===r?t:r])||this);n.isAppRouter=void 0===r,n.isAppRouter?pe(!1,n,{app:t,params:t.params.view,routes:t.routes||[],cache:t.cache}):pe(!1,n,{app:t,view:r,viewId:r.id,id:r.params.routerId,params:r.params,routes:r.routes,history:r.history,scrollHistory:r.scrollHistory,cache:t.cache,dynamicNavbar:"ios"===t.theme&&r.params.iosDynamicNavbar,initialPages:[],initialNavbars:[]}),n.useModules(),n.allowPageChange=!0;var i=o();n.miniAppRouteConfig=!(!i.APP_CONFIG||!i.APP_CONFIG.pages);var s={},l={};return Object.defineProperty(n,"currentRoute",{enumerable:!0,configurable:!0,set:function(e){void 0===e&&(e={}),l=pe({},s),(s=e)&&(n.url=s.url,n.emit("routeChange",e,l,n))},get:function(){return s}}),Object.defineProperty(n,"previousRoute",{enumerable:!0,configurable:!0,get:function(){return l},set:function(e){l=e}}),n||Y(a)}V(t,e);var r=t.prototype;return r.mount=function(){var e=this,t=e.view;pe(!1,e,{tempDom:a().createElement("div"),$el:t.$el,el:t.el,$navbarsEl:t.$navbarsEl,navbarsEl:t.navbarsEl}),e.emit("local::mount routerMount",e)},r.animatableNavElements=function(e,t,r,a,n){var o,i,s=this,l=s.dynamicNavbar,u=s.params.iosAnimateNavbarBackIcon;function c(e,t){var r,a=e.hasClass("sliding")||t.hasClass("sliding"),n=e.hasClass("subnavbar"),o=!a||!n,i=e.find(".back .icon");return a&&u&&e.hasClass("left")&&i.length>0&&i.next("span").length&&(e=i.next("span"),r=!0),{$el:e,isIconLabel:r,leftOffset:e[0].zmpNavbarLeftOffset,rightOffset:e[0].zmpNavbarRightOffset,isSliding:a,isSubnavbar:n,needsOpacityTransition:o}}return l&&(o=[],i=[],e.children(".navbar-inner").children(".left, .right, .title, .subnavbar").each((function(t){var i=j(t);i.hasClass("left")&&a&&"forward"===n||i.hasClass("title")&&r||o.push(c(i,e.children(".navbar-inner")))})),t.hasClass("navbar-master")&&s.params.masterDetailBreakpoint>0&&s.app.width>=s.params.masterDetailBreakpoint||t.children(".navbar-inner").children(".left, .right, .title, .subnavbar").each((function(e){var o=j(e);o.hasClass("left")&&r&&!a&&"forward"===n||o.hasClass("left")&&r&&"backward"===n||o.hasClass("title")&&a||i.push(c(o,t.children(".navbar-inner")))})),[i,o].forEach((function(e){e.forEach((function(t){var r=t,a=t.isSliding,n=t.$el,s=e===i?o:i;a&&n.hasClass("title")&&s&&s.forEach((function(e){if(e.isIconLabel){var t=e.$el[0];r.leftOffset+=t&&t.offsetLeft||0}}))}))}))),{newNavEls:o,oldNavEls:i}},r.animate=function(e,t,r,a,n,o,i){var s=this;if(s.params.animateCustom)s.params.animateCustom.apply(s,[e,t,r,a,n,i]);else{var l=s.dynamicNavbar,u="ios"===s.app.theme;if(o){var c="router-transition-custom router-transition-"+o+"-"+n;return("forward"===n?t:e).animationEnd((function(){s.$el.removeClass(c),l&&s.$navbarsEl.length&&(a&&s.$navbarsEl.prepend(a),r&&s.$navbarsEl.prepend(r)),i&&i()})),l&&(a&&t&&(s.setNavbarPosition(a,""),a.removeClass("navbar-next navbar-previous navbar-current"),t.prepend(a)),r&&e&&(s.setNavbarPosition(r,""),r.removeClass("navbar-next navbar-previous navbar-current"),e.prepend(r))),void s.$el.addClass(c)}var p,f,d,h,v,m,g,b="router-transition-"+n+" router-transition";if(u&&l){s.params.masterDetailBreakpoint>0&&s.app.width>=s.params.masterDetailBreakpoint&&(r.hasClass("navbar-master")&&a.hasClass("navbar-master-detail")||r.hasClass("navbar-master-detail")&&a.hasClass("navbar-master"))||(m=r&&r.hasClass("navbar-large"),g=a&&a.hasClass("navbar-large"),d=m&&!r.hasClass("navbar-large-collapsed"),h=g&&!a.hasClass("navbar-large-collapsed"),v=d&&!h||h&&!d);var y=s.animatableNavElements(a,r,h,d,n);p=y.newNavEls,f=y.oldNavEls}("forward"===n?t:e).animationEnd((function(){s.dynamicNavbar&&(a&&(a.removeClass("router-navbar-transition-to-large router-navbar-transition-from-large"),a.addClass("navbar-no-title-large-transition"),oe((function(){a.removeClass("navbar-no-title-large-transition")}))),r&&r.removeClass("router-navbar-transition-to-large router-navbar-transition-from-large"),a.hasClass("sliding")||a.children(".navbar-inner.sliding").length?a.find(".title, .left, .right, .left .icon, .subnavbar").transform(""):a.find(".sliding").transform(""),r.hasClass("sliding")||r.children(".navbar-inner.sliding").length?r.find(".title, .left, .right, .left .icon, .subnavbar").transform(""):r.find(".sliding").transform("")),s.$el.removeClass(b),i&&i()})),l?(w(0),oe((function(){s.$el.addClass(b),v&&(s.el._clientLeft=s.el.clientLeft),w(1)}))):s.$el.addClass(b)}function w(e){u&&l&&(1===e&&(h&&(a.addClass("router-navbar-transition-to-large"),r.addClass("router-navbar-transition-to-large")),d&&(a.addClass("router-navbar-transition-from-large"),r.addClass("router-navbar-transition-from-large"))),p.forEach((function(t){var r=t.$el,a="forward"===n?t.rightOffset:t.leftOffset;t.isSliding&&(t.isSubnavbar&&g?r[0].style.setProperty("transform","translate3d("+a*(1-e)+"px, calc(-1 * var(--zmp-navbar-large-collapse-progress) * var(--zmp-navbar-large-title-height)), 0)","important"):r.transform("translate3d("+a*(1-e)+"px,0,0)"))})),f.forEach((function(t){var r=t.$el,a="forward"===n?t.leftOffset:t.rightOffset;t.isSliding&&(t.isSubnavbar&&m?r.transform("translate3d("+a*e+"px, calc(-1 * var(--zmp-navbar-large-collapse-progress) * var(--zmp-navbar-large-title-height)), 0)"):r.transform("translate3d("+a*e+"px,0,0)"))})))}},r.removeModal=function(e){this.removeEl(e)},r.removeTabContent=function(e){j(e).html("")},r.removeNavbar=function(e){this.removeEl(e)},r.removePage=function(e){var t=j(e),r=t&&t[0]&&t[0].zmpPage;r&&r.route&&r.route.route&&r.route.route.keepAlive?t.remove():this.removeEl(e)},r.removeEl=function(e){if(e){var t=this,r=j(e);0!==r.length&&(r.find(".tab").each((function(e){j(e).children().each((function(e){e.zmpComponent&&(j(e).trigger("tab:beforeremove"),e.zmpComponent.destroy())}))})),r[0].zmpComponent&&r[0].zmpComponent.destroy&&r[0].zmpComponent.destroy(),t.params.removeElements&&(t.params.removeElementsWithTimeout?setTimeout((function(){r.remove()}),t.params.removeElementsTimeout):r.remove()))}},r.getPageEl=function(e){var t=this;if("string"==typeof e)t.tempDom.innerHTML=e;else{if(j(e).hasClass("page"))return e;t.tempDom.innerHTML="",j(t.tempDom).append(e)}return t.findElement(".page",t.tempDom)},r.findElement=function(e,t,r){var a=this,n=a.view,o=a.app,i=j(t),s=e;r&&(s+=":not(.stacked)");var l=i.find(s).filter((function(e){return 0===j(e).parents(".popup, .dialog, .popover, .actions-modal, .sheet-modal, .login-screen, .page").length}));return l.length>1&&("string"==typeof n.selector&&(l=i.find(n.selector+" "+s)),l.length>1&&(l=i.find("."+o.params.viewMainClass+" "+s))),1===l.length?l:(r||(l=a.findElement(s,i,!0)),l&&1===l.length?l:l&&l.length>1?j(l[0]):void 0)},r.flattenRoutes=function(e){void 0===e&&(e=this.routes);var t=this,r=[];return e.forEach((function(e){var a=!1;if("tabs"in e&&e.tabs){var n=e.tabs.map((function(t){var r=pe({},e,{path:(e.path+"/"+t.path).replace("///","/").replace("//","/"),parentPath:e.path,tab:t});return delete r.tabs,delete r.routes,r}));a=!0,r=r.concat(t.flattenRoutes(n))}if("detailRoutes"in e){var o=e.detailRoutes.map((function(t){var r=pe({},t);return r.masterRoute=e,r.masterRoutePath=e.path,r}));r=r.concat(e,t.flattenRoutes(o))}if("routes"in e){var i=e.routes.map((function(t){var r=pe({},t);return r.path=(e.path+"/"+r.path).replace("///","/").replace("//","/"),r}));r=a?r.concat(t.flattenRoutes(i)):r.concat(e,t.flattenRoutes(i))}"routes"in e||"tabs"in e&&e.tabs||"detailRoutes"in e||r.push(e)})),r},r.parseRouteUrl=function(e){if(!e)return{};var t=se(e),r=e.split("#")[1],a=e.split("#")[0].split("?")[0];return{query:t,hash:r,params:{},url:e,path:a}},r.generateUrl=function(e){if(void 0===e&&(e={}),"string"==typeof e)return e;var t=e,r=t.name,a=t.path,n=t.params,o=t.query;if(!r&&!a)throw new Error('ZMP: "name" or "path" parameter is required');var i=this,s=i.miniAppRouteConfig,l=r?i.findRouteByKey("name",r):i.findRouteByKey("path",a);if(!l&&s&&"string"==typeof a&&"/"!==a.charAt(a.length-1)){var u=i.findRouteByKey("alias",a),c=u?u.path:void 0;c&&c.substring(0,c.length-1)===a&&(l=u)}if(!l)throw r?new Error('ZMP: route with name "'+r+'" not found'):new Error('ZMP: route with path "'+a+'" not found');var p=i.constructRouteUrl(l,{params:n,query:o});if(!p)throw new Error("ZMP: can't construct URL for route with name \""+r+'"');return p},r.constructRouteUrl=function(e,t){var r,a=void 0===t?{}:t,n=a.params,o=a.query,i=e.path,s=qe(i);try{r=s(n||{})}catch(e){throw new Error("ZMP: error constructing route URL from passed params:\nRoute: "+i+"\n"+e.toString())}return o&&(r+="string"==typeof o?"?"+o:"?"+le(o)),r},r.findTabRoute=function(e){var t,r=this,a=j(e),n=r.currentRoute.route.parentPath,o=a.attr("id");return r.flattenRoutes(r.routes).forEach((function(e){e.parentPath===n&&e.tab&&e.tab.id===o&&(t=e)})),t},r.findRouteByKey=function(e,t){var r,a=this.routes;return this.flattenRoutes(a).forEach((function(a){r||a[e]===t&&(r=a)})),r},r.findMatchingRoute=function(e){if(e){var t,r=this,a=r.routes,n=r.flattenRoutes(a),o=r.parseRouteUrl(e),i=o.path,s=o.query,l=o.hash,u=o.params;return n.forEach((function(r){if(!t){var a,n,o=[],c=[r.path];if(r.alias&&("string"==typeof r.alias?c.push(r.alias):Array.isArray(r.alias)&&r.alias.forEach((function(e){c.push(e)}))),c.forEach((function(e){a||(a=We(e,o).exec(i))})),a)o.forEach((function(e,t){if("number"!=typeof e.name){var r=a[t+1];u[e.name]=null==r?r:decodeURIComponent(r)}})),r.parentPath&&(n=i.split("/").slice(0,r.parentPath.split("/").length-1).join("/")),t={query:s,hash:l,params:u,url:e,path:i,parentPath:n,route:r,name:r.name}}})),t}},r.replaceRequestUrlParams=function(e,t){void 0===e&&(e=""),void 0===t&&(t={});var r=e;return"string"==typeof r&&r.indexOf("{{")>=0&&t&&t.route&&t.route.params&&Object.keys(t.route.params).length&&Object.keys(t.route.params).forEach((function(e){var a=new RegExp("{{"+e+"}}","g");r=r.replace(a,t.route.params[e]||"")})),r},r.removeFromXhrCache=function(e){for(var t=this.cache.xhr,r=!1,a=0;a<t.length;a+=1)t[a].url===e&&(r=a);!1!==r&&t.splice(r,1)},r.xhrRequest=function(e,t){var r=this,a=r.params,n=t.ignoreCache,o=e,i=o.indexOf("?")>=0;return a.passRouteQueryToRequest&&t&&t.route&&t.route.query&&Object.keys(t.route.query).length&&(o+=(i?"&":"?")+le(t.route.query),i=!0),a.passRouteParamsToRequest&&t&&t.route&&t.route.params&&Object.keys(t.route.params).length&&(o+=(i?"&":"?")+le(t.route.params),i=!0),o.indexOf("{{")>=0&&(o=r.replaceRequestUrlParams(o,t)),a.xhrCacheIgnoreGetParameters&&o.indexOf("?")>=0&&(o=o.split("?")[0]),new Promise((function(e,i){if(a.xhrCache&&!n&&o.indexOf("nocache")<0&&a.xhrCacheIgnore.indexOf(o)<0)for(var s=0;s<r.cache.xhr.length;s+=1){var l=r.cache.xhr[s];if(l.url===o&&ie()-l.time<a.xhrCacheDuration)return void e(l.content)}r.xhrAbortController=r.app.request.abortController(),r.app.request({abortController:r.xhrAbortController,url:o,method:"GET",beforeSend:function(e){r.emit("routerAjaxStart",e,t)},complete:function(n,s){r.emit("routerAjaxComplete",n),"error"!==s&&"timeout"!==s&&n.status>=200&&n.status<300||0===n.status?(a.xhrCache&&""!==n.responseText&&(r.removeFromXhrCache(o),r.cache.xhr.push({url:o,time:ie(),content:n.responseText})),r.emit("routerAjaxSuccess",n,t),e(n.responseText)):(r.emit("routerAjaxError",n,t),i(n))},error:function(e){r.emit("routerAjaxError",e,t),i(e)}})}))},r.setNavbarPosition=function(e,t,r){e.removeClass("navbar-previous navbar-current navbar-next"),t&&e.addClass("navbar-"+t),!1===r?e.removeAttr("aria-hidden"):!0===r&&e.attr("aria-hidden","true"),e.trigger("navbar:position",{position:t}),this.emit("navbarPosition",e[0],t)},r.setPagePosition=function(e,t,r){e.removeClass("page-previous page-current page-next"),e.addClass("page-"+t),!1===r?e.removeAttr("aria-hidden"):!0===r&&e.attr("aria-hidden","true"),e.trigger("page:position",{position:t}),this.emit("pagePosition",e[0],t)},r.removeThemeElements=function(e){var t,r=this.app.theme;"ios"===r?t=".md-only, .aurora-only, .if-md, .if-aurora, .if-not-ios, .not-ios":"md"===r?t=".ios-only, .aurora-only, .if-ios, .if-aurora, .if-not-md, .not-md":"aurora"===r&&(t=".ios-only, .md-only, .if-ios, .if-md, .if-not-aurora, .not-aurora"),j(e).find(t).remove()},r.getPageData=function(e,t,r,a,n,o){void 0===n&&(n={});var i,s,l=this,u=j(e).eq(0),c=j(t).eq(0),p=u[0].zmpPage||{};if(("next"===r&&"current"===a||"current"===r&&"previous"===a)&&(i="forward"),("current"===r&&"next"===a||"previous"===r&&"current"===a)&&(i="backward"),p&&!p.fromPage){var f=j(o);f.length&&(s=f[0].zmpPage)}(s=p.pageFrom||s)&&s.pageFrom&&(s.pageFrom=null);var d={app:l.app,view:l.view,router:l,$el:u,el:u[0],$pageEl:u,pageEl:u[0],$navbarEl:c,navbarEl:c[0],name:u.attr("data-name"),position:r,from:r,to:a,direction:i,route:p.route?p.route:n,pageFrom:s};return u[0].zmpPage=d,d},r.pageCallback=function(e,t,r,a,n,o,i){if(void 0===o&&(o={}),t){var s=this,l=j(t);if(l.length){var u=j(r),c=o.route,p=s.params.restoreScrollTopOnBack&&!(s.params.masterDetailBreakpoint>0&&l.hasClass("page-master")&&s.app.width>=s.params.masterDetailBreakpoint),f=l[0].zmpPage&&l[0].zmpPage.route&&l[0].zmpPage.route.route&&l[0].zmpPage.route.route.keepAlive;"beforeRemove"===e&&f&&(e="beforeUnmount");var d="page"+(e[0].toUpperCase()+e.slice(1,e.length)),h="page:"+e.toLowerCase(),v={};(v="beforeRemove"===e&&l[0].zmpPage?pe(l[0].zmpPage,{from:a,to:n,position:a}):s.getPageData(l[0],u[0],a,n,c,i)).swipeBack=!!o.swipeBack;var m=o.route?o.route.route:{},g=m.on,b=void 0===g?{}:g,y=m.once,w=void 0===y?{}:y;if(o.on&&pe(b,o.on),o.once&&pe(w,o.once),"mounted"===e&&E(),"init"===e){if(p&&("previous"===a||!a)&&"current"===n&&s.scrollHistory[v.route.url]&&!l.hasClass("no-restore-scroll")){var C=l.find(".page-content");C.length>0&&(C=C.filter((function(e){return 0===j(e).parents(".tab:not(.tab-active)").length&&!j(e).is(".tab:not(.tab-active)")}))),C.scrollTop(s.scrollHistory[v.route.url])}if(E(),l[0].zmpPageInitialized)return l.trigger("page:reinit",v),void s.emit("pageReinit",v);l[0].zmpPageInitialized=!0}if(p&&"beforeOut"===e&&"current"===a&&"previous"===n){var k=l.find(".page-content");k.length>0&&(k=k.filter((function(e){return 0===j(e).parents(".tab:not(.tab-active)").length&&!j(e).is(".tab:not(.tab-active)")}))),s.scrollHistory[v.route.url]=k.scrollTop()}p&&"beforeOut"===e&&"current"===a&&"next"===n&&delete s.scrollHistory[v.route.url],l.trigger(h,v),s.emit(d,v),"beforeRemove"!==e&&"beforeUnmount"!==e||(l[0].zmpRouteEventsAttached&&(l[0].zmpRouteEventsOn&&Object.keys(l[0].zmpRouteEventsOn).forEach((function(e){l.off(te(e),l[0].zmpRouteEventsOn[e])})),l[0].zmpRouteEventsOnce&&Object.keys(l[0].zmpRouteEventsOnce).forEach((function(e){l.off(te(e),l[0].zmpRouteEventsOnce[e])})),l[0].zmpRouteEventsAttached=null,l[0].zmpRouteEventsOn=null,l[0].zmpRouteEventsOnce=null,delete l[0].zmpRouteEventsAttached,delete l[0].zmpRouteEventsOn,delete l[0].zmpRouteEventsOnce),f||(l[0].zmpPage&&l[0].zmpPage.navbarEl&&delete l[0].zmpPage.navbarEl.zmpPage,l[0].zmpPage=null))}}function E(){l[0].zmpRouteEventsAttached||(l[0].zmpRouteEventsAttached=!0,b&&Object.keys(b).length>0&&(l[0].zmpRouteEventsOn=b,Object.keys(b).forEach((function(e){b[e]=b[e].bind(s),l.on(te(e),b[e])}))),w&&Object.keys(w).length>0&&(l[0].zmpRouteEventsOnce=w,Object.keys(w).forEach((function(e){w[e]=w[e].bind(s),l.once(te(e),w[e])}))))}},r.saveHistory=function(){var e=this,t=o();e.view.history=e.history,e.params.browserHistory&&e.params.browserHistoryStoreHistory&&t.localStorage&&(t.localStorage["zmprouter-"+e.view.id+"-history"]=JSON.stringify(e.history))},r.restoreHistory=function(){var e=this,t=o();e.params.browserHistory&&e.params.browserHistoryStoreHistory&&t.localStorage&&t.localStorage["zmprouter-"+e.view.id+"-history"]&&(e.history=JSON.parse(t.localStorage["zmprouter-"+e.view.id+"-history"]),e.view.history=e.history)},r.clearHistory=function(){var e=this;e.history=[],e.view&&(e.view.history=[]),e.saveHistory()},r.updateCurrentUrl=function(e){var t=this;Je(t,"updateCurrentUrl"),t.history.length?t.history[t.history.length-1]=e:t.history.push(e);var r=t.parseRouteUrl(e),a=r.query,n=r.hash,o=r.params,i=r.url,s=r.path;if(t.currentRoute&&pe(t.currentRoute,{query:a,hash:n,params:o,url:i,path:s}),t.params.browserHistory){var l=t.params.browserHistoryRoot||"";Fe.replace(t.view.id,{url:e},l+t.params.browserHistorySeparator+e)}t.saveHistory(),t.emit("routeUrlUpdate",t.currentRoute,t)},r.getInitialUrl=function(){var e=this;if(e.initialUrl)return{initialUrl:e.initialUrl,historyRestored:e.historyRestored};var t,r=e.app,n=e.view,o=a(),i=r.params.url&&"string"==typeof r.params.url&&"undefined"!=typeof URL?new URL(r.params.url):o.location,s=e.params.url,l=i.href.split(i.origin)[1],u=e.params,c=u.browserHistory,p=u.browserHistoryOnLoad,f=u.browserHistorySeparator,d=e.params.browserHistoryRoot,h=i.pathname.split(d)[1];return c&&p?(d&&l.indexOf(d)>=0&&""===(l=l.split(d)[1])&&(l="/"),s=f.length>0&&l.indexOf(f)>=0?l.split(f)[1]:l,n.params.tab&&!n.params.tabActive&&(s=n.params.url),e.restoreHistory(),e.history.indexOf(s)>=0?e.history=e.history.slice(0,e.history.indexOf(s)+1):e.params.url===s||e.params.url===h?e.history=[s]:Fe.state&&Fe.state[n.id]&&Fe.state[n.id].url===e.history[e.history.length-1]?s=e.history[e.history.length-1]:e.history=[l.split(f)[0]||"/",s],e.history.length>1?t=!0:e.history=[],e.saveHistory()):(s||(s=l),i.search&&s.indexOf("?")<0&&(s+=i.search),i.hash&&s.indexOf("#")<0&&(s+=i.hash)),e.initialUrl=s,e.historyRestored=t,{initialUrl:s,historyRestored:t}},r.init=function(){var e=this,t=e.app,r=e.view,n=a();e.mount();var o=e.getInitialUrl(),i=o.initialUrl,s=o.historyRestored;(r&&e.params.iosSwipeBack&&"ios"===t.theme||r&&e.params.mdSwipeBack&&"md"===t.theme||r&&e.params.auroraSwipeBack&&"aurora"===t.theme)&&Xe(e);var l,u=e.params,c=u.browserHistory,p=u.browserHistoryOnLoad,f=u.browserHistoryAnimateOnLoad,d=u.browserHistoryInitialMatch;if(e.history.length>1){var h=d?i:e.history[0];(l=e.findMatchingRoute(h))||(l=pe(e.parseRouteUrl(h),{route:{url:h,path:h.split("?")[0]}}))}else(l=e.findMatchingRoute(i))||(l=pe(e.parseRouteUrl(i),{route:{url:i,path:i.split("?")[0]}}));if(e.params.stackPages&&e.$el.children(".page").each((function(t){var r=j(t);e.initialPages.push(r[0]),e.dynamicNavbar&&r.children(".navbar").length>0&&e.initialNavbars.push(r.children(".navbar")[0])})),0===e.$el.children(".page:not(.stacked)").length&&i&&e.params.loadInitialPage)e.navigate(i,{initial:!0,reloadCurrent:!0,browserHistory:!1,animate:!1,once:{modalOpen:function(){s&&((e.params.preloadPreviousPage||e.params[t.theme+"SwipeBack"])&&e.history.length>1&&e.back({preload:!0}))},pageAfterIn:function(){s&&((e.params.preloadPreviousPage||e.params[t.theme+"SwipeBack"])&&e.history.length>1&&e.back({preload:!0}))}}});else if(e.$el.children(".page:not(.stacked)").length){var v;if(e.currentRoute=l,e.$el.children(".page:not(.stacked)").each((function(a){var o,i=j(a);e.setPagePosition(i,"current"),e.dynamicNavbar&&((o=i.children(".navbar")).length>0?(e.$navbarsEl.parents(n).length||e.$el.prepend(e.$navbarsEl),e.setNavbarPosition(o,"current"),e.$navbarsEl.append(o),o.children(".title-large").length&&o.addClass("navbar-large"),i.children(".navbar").remove()):(e.$navbarsEl.addClass("navbar-hidden"),o.children(".title-large").length&&e.$navbarsEl.addClass("navbar-hidden navbar-large-hidden"))),e.currentRoute&&e.currentRoute.route&&(!0===e.currentRoute.route.master||"function"==typeof e.currentRoute.route.master&&e.currentRoute.route.master(t,e))&&e.params.masterDetailBreakpoint>0&&(i.addClass("page-master"),i.trigger("page:role",{role:"master"}),o&&o.length&&o.addClass("navbar-master"),r.checkMasterDetailBreakpoint());var s={route:e.currentRoute};e.currentRoute&&e.currentRoute.route&&e.currentRoute.route.options&&pe(s,e.currentRoute.route.options),e.currentPageEl=i[0],e.dynamicNavbar&&o.length&&(e.currentNavbarEl=o[0]),e.removeThemeElements(i),e.dynamicNavbar&&o.length&&e.removeThemeElements(o),s.route.route.tab&&(v=!0,e.tabLoad(s.route.route.tab,pe({},s))),e.pageCallback("init",i,o,"current",void 0,s),e.pageCallback("beforeIn",i,o,"current",void 0,s),e.pageCallback("afterIn",i,o,"current",void 0,s)})),s)if(d)(e.params.preloadPreviousPage||e.params[t.theme+"SwipeBack"])&&e.history.length>1&&e.back({preload:!0});else e.navigate(i,{initial:!0,browserHistory:!1,history:!1,animate:f,once:{pageAfterIn:function(){(e.params.preloadPreviousPage||e.params[t.theme+"SwipeBack"])&&e.history.length>2&&e.back({preload:!0})}}});s||v||(e.history.push(i),e.saveHistory())}!(i&&c&&p)||Fe.state&&Fe.state[r.id]||Fe.initViewState(r.id,{url:i}),e.emit("local::init routerInit",e)},r.destroy=function(){var e=this;e.emit("local::destroy routerDestroy",e),Object.keys(e).forEach((function(t){e[t]=null,delete e[t]})),e=null},t}(xe);at.prototype.navigate=function(e,t){void 0===t&&(t={});var r,a,n,o,i,s,l,u=this;if(u.swipeBackActive)return u;if("string"==typeof e?r=e:(r=e.url,a=e.route,n=e.name,o=e.path,i=e.query,s=e.params),n||o)return(r=u.generateUrl({path:o,name:n,params:s,query:i}))?u.navigate(r,t):u;var c=u.app;if(Je(u,"navigate"),"#"===r||""===r)return u;var p=r.replace("./","");if("/"!==p[0]&&0!==p.indexOf("#")){var f=u.currentRoute.parentPath||u.currentRoute.path;p=((f?f+"/":"/")+p).replace("///","/").replace("//","/")}if(!(l=a?pe(u.parseRouteUrl(p),{route:pe({},a)}):u.findMatchingRoute(p)))return u;if(l.route&&l.route.viewName){var d=l.route.viewName,h=c.views[d];if(!h)throw new Error('ZMP: There is no View with "'+d+'" name that was specified in this route');if(h!==u.view)return h.router.navigate(e,t)}if(l.route.redirect)return Ze.call(u,"forward",l,t);var v={};if(l.route.options?pe(v,l.route.options,t):pe(v,t),v.openIn&&(!u.params.ignoreOpenIn||u.params.ignoreOpenIn&&u.history.length>0))return function(e,t,r){var a={url:t,route:{path:t,options:U({},r,{openIn:void 0})}},n=U({},r);if("popup"===r.openIn&&(n.content='<div class="popup popup-router-open-in" data-url="'+t+'"><div class="view view-init" data-links-view="'+e.view.selector+'" data-url="'+t+'" data-ignore-open-in="true"></div></div>',a.route.popup=n),"loginScreen"===r.openIn&&(n.content='<div class="login-screen login-screen-router-open-in" data-url="'+t+'"><div class="view view-init" data-links-view="'+e.view.selector+'" data-url="'+t+'" data-ignore-open-in="true"></div></div>',a.route.loginScreen=n),"sheet"===r.openIn&&(n.content='<div class="sheet-modal sheet-modal-router-open-in" data-url="'+t+'"><div class="sheet-modal-inner"><div class="view view-init" data-links-view="'+e.view.selector+'" data-url="'+t+'" data-ignore-open-in="true"></div></div></div>',a.route.sheet=n),"popover"===r.openIn&&(n.targetEl=r.clickedEl||r.targetEl,n.content='<div class="popover popover-router-open-in" data-url="'+t+'"><div class="popover-inner"><div class="view view-init" data-links-view="'+e.view.selector+'" data-url="'+t+'" data-ignore-open-in="true"></div></div></div>',a.route.popover=n),r.openIn.indexOf("panel")>=0){var o=r.openIn.split(":"),i=o[1]||"left",s=o[2]||"cover";n.targetEl=r.clickedEl||r.targetEl,n.content='<div class="panel panel-router-open-in panel-'+i+" panel-"+s+'" data-url="'+t+'"><div class="view view-init" data-links-view="'+e.view.selector+'" data-url="'+t+'" data-ignore-open-in="true"></div></div>',a.route.panel=n}return e.navigate(a)}(u,p,v);function m(){var e=!1;function t(e,t){u.allowPageChange=!1;var r=!1;"popup popover sheet loginScreen actions customModal panel".split(" ").forEach((function(a){if(e[a]){r=!0;var n=pe({},l,{route:e});u.allowPageChange=!0,u.modalLoad(a,n,pe(v,t),"forward")}})),r||et(u,e,pe(v,t),!0)}function r(){u.allowPageChange=!0}"popup popover sheet loginScreen actions customModal panel".split(" ").forEach((function(t){l.route[t]&&!e&&(e=!0,u.modalLoad(t,l,v,"forward"))})),l.route.keepAlive&&l.route.keepAliveData&&(et(u,{el:l.route.keepAliveData.pageEl},v,!1),e=!0),"url content component pageName el componentUrl".split(" ").forEach((function(t){var r;l.route[t]&&!e&&(e=!0,et(u,((r={})[t]=l.route[t],r),v,!1))})),e||(l.route.async&&(u.allowPageChange=!1,l.route.async.call(u,{router:u,to:v.route,from:u.currentRoute,resolve:t,reject:r,direction:"forward",app:c})),l.route.asyncComponent&&Ge(u,l.route.asyncComponent,t,r))}function g(){u.allowPageChange=!0}if(v.route=l,u.params.masterDetailBreakpoint>0&&l.route.masterRoute){var b=!0,y=!1;if(u.currentRoute&&u.currentRoute.route&&(!(!0===u.currentRoute.route.master||"function"==typeof u.currentRoute.route.master&&u.currentRoute.route.master(c,u))||u.currentRoute.route!==l.route.masterRoute&&u.currentRoute.route.path!==l.route.masterRoute.path||(b=!1),!u.currentRoute.route.masterRoute||u.currentRoute.route.masterRoute!==l.route.masterRoute&&u.currentRoute.route.masterRoute.path!==l.route.masterRoute.path||(b=!1,y=!0)),b||y&&t.reloadAll)return u.navigate({path:l.route.masterRoute.path,params:l.params||{}},{animate:!1,reloadAll:t.reloadAll,reloadCurrent:t.reloadCurrent,reloadPrevious:t.reloadPrevious,browserHistory:!t.initial,history:!t.initial,once:{pageAfterIn:function(){u.navigate(e,pe({},t,{animate:!1,reloadAll:!1,reloadCurrent:!1,reloadPrevious:!1,history:!t.initial,browserHistory:!t.initial}))}}}),u}return Ye.call(u,l,u.currentRoute,(function(){l.route.modules?c.loadModules(Array.isArray(l.route.modules)?l.route.modules:[l.route.modules]).then((function(){m()})).catch((function(){g()})):m()}),(function(){g()}),"forward"),u},at.prototype.refreshPage=function(){var e=this;return Je(e,"refreshPage"),e.navigate(e.currentRoute.url,{ignoreCache:!0,reloadCurrent:!0})},at.prototype.tabLoad=function(e,t){void 0===t&&(t={});var r,a,n=this,o=pe({animate:n.params.animate,browserHistory:!0,history:!0,parentPageEl:null,preload:!1,on:{}},t);o.route&&(o.preload||o.route===n.currentRoute||(a=n.previousRoute,n.currentRoute=o.route),o.preload?(r=o.route,a=n.currentRoute):(r=n.currentRoute,a||(a=n.previousRoute)),n.params.browserHistory&&o.browserHistory&&!o.reloadPrevious&&Fe.replace(n.view.id,{url:o.route.url},(n.params.browserHistoryRoot||"")+n.params.browserHistorySeparator+o.route.url),o.history&&(n.history[Math.max(n.history.length-1,0)]=o.route.url,n.saveHistory()));var i,s=j(o.parentPageEl||n.currentPageEl);i=s.length&&s.find("#"+e.id).length?s.find("#"+e.id).eq(0):n.view.selector?n.view.selector+" #"+e.id:"#"+e.id;var l,u=n.app.tab.show({tabEl:i,animate:o.animate,tabRoute:o.route}),c=u.$newTabEl,p=u.$oldTabEl,f=u.animated,d=u.onTabsChanged;if(c&&c.parents(".page").length>0&&o.route){var h=c.parents(".page")[0].zmpPage;h&&o.route&&(h.route=o.route)}if(c[0].zmpRouterTabLoaded)return p&&p.length?(f?d((function(){n.emit("routeChanged",n.currentRoute,n.previousRoute,n)})):n.emit("routeChanged",n.currentRoute,n.previousRoute,n),n):n;function v(t,r){var a=t.url,o=t.content,i=t.el,s=t.component,l=t.componentUrl;function u(t){n.allowPageChange=!0,t&&("string"==typeof t?c.html(t):(c.html(""),t.zmpComponent?t.zmpComponent.mount((function(e){c.append(e)})):c.append(t)),c[0].zmpRouterTabLoaded=!0,function(t){n.removeThemeElements(c);var r=c;"string"!=typeof t&&(r=j(t)),r.trigger("tab:init tab:mounted",e),n.emit("tabInit tabMounted",c[0],e),p&&p.length&&(f?d((function(){n.emit("routeChanged",n.currentRoute,n.previousRoute,n),n.params.unloadTabContent&&n.tabRemove(p,c,e)})):(n.emit("routeChanged",n.currentRoute,n.previousRoute,n),n.params.unloadTabContent&&n.tabRemove(p,c,e)))}(t))}if(o)u(o);else if(i)u(i);else if(s||l)try{n.tabComponentLoader({tabEl:c[0],component:s,componentUrl:l,options:r,resolve:u,reject:function(){return n.allowPageChange=!0,n}})}catch(e){throw n.allowPageChange=!0,e}else a&&(n.xhrAbortController&&(n.xhrAbortController.abort(),n.xhrAbortController=!1),n.xhrRequest(a,r).then((function(e){u(e)})).catch((function(){n.allowPageChange=!0})))}function m(e,t){v(e,pe(o,t))}function g(){n.allowPageChange=!0}return"url content component el componentUrl".split(" ").forEach((function(t){var r;e[t]&&(l=!0,v(((r={})[t]=e[t],r),o))})),e.async?e.async.call(n,{router:n,to:r,from:a,resolve:m,reject:g,app:n.app}):e.asyncComponent?Ge(n,e.asyncComponent,m,g):l||(n.allowPageChange=!0),n},at.prototype.tabRemove=function(e,t,r){var a;e[0]&&(e[0].zmpRouterTabLoaded=!1,delete e[0].zmpRouterTabLoaded),e.children().each((function(e){e.zmpComponent&&(a=!0,j(e).trigger("tab:beforeremove",r),e.zmpComponent.destroy())})),a||e.trigger("tab:beforeremove",r),this.emit("tabBeforeRemove",e[0],t[0],r),this.removeTabContent(e[0],r)},at.prototype.modalLoad=function(e,t,r,a){void 0===r&&(r={});var n,o=this,i=o.app,s="panel"===e,l=s?"panel":"modal",u=pe({animate:o.params.animate,browserHistory:!0,history:!0,on:{},once:{}},r),c=pe({},t.route[e]),p=t.route,f=function(e,t){var r,a=u.on,n=u.once;"open"===t&&(r=a.modalOpen||n.modalOpen||a.panelOpen||n.panelOpen),"close"===t&&(r=a.modalClose||n.modalClose||a.panelClose||n.panelClose),"closed"===t&&(r=a.modalClosed||n.modalClosed||a.panelClosed||n.panelClosed),r&&r(e)};function d(){var r=i[e].create(c);p.modalInstance=r;var a=r.el;function n(){r.close()}r.on(l+"Open",(function(){a||(o.removeThemeElements(r.el),r.$el.trigger(e.toLowerCase()+":init "+e.toLowerCase()+":mounted",t,r),o.emit((s?"":"modalInit")+" "+e+"Init "+e+"Mounted",r.el,t,r)),o.once("swipeBackMove",n),f(r,"open")})),r.on(l+"Close",(function(){o.off("swipeBackMove",n),r.closeByRouter||o.back(),f(r,"close")})),r.on(l+"Closed",(function(){r.$el.trigger(e.toLowerCase()+":beforeremove",t,r),r.emit((s?"":"modalBeforeRemove ")+e+"BeforeRemove",r.el,t,r);var a=r.el.zmpComponent;f(r,"closed"),a&&a.destroy(),ne((function(){(a||c.component)&&o.removeModal(r.el),r.destroy(),delete r.route,delete p.modalInstance}))})),u.route&&(o.params.browserHistory&&u.browserHistory&&Fe.push(o.view.id,{url:u.route.url,modal:e},(o.params.browserHistoryRoot||"")+o.params.browserHistorySeparator+u.route.url),u.route!==o.currentRoute&&(r.route=pe(u.route,{modal:r}),o.currentRoute=r.route),u.history&&!u.reloadCurrent&&(o.history.push(u.route.url),o.saveHistory())),a&&(o.removeThemeElements(r.el),r.$el.trigger(e.toLowerCase()+":init "+e.toLowerCase()+":mounted",t,r),o.emit(l+"Init "+e+"Init "+e+"Mounted",r.el,t,r)),r.open(!1===u.animate||!0===u.animate?u.animate:void 0)}function h(e,t){var r=e.url,a=e.content,n=e.component,s=e.componentUrl;function l(e){e&&("string"==typeof e?c.content=e:e.zmpComponent?e.zmpComponent.mount((function(e){c.el=e,i.$el.append(e)})):c.el=e,d())}if(a)l(a);else if(n||s)try{o.modalComponentLoader({rootEl:i.el,component:n,componentUrl:s,options:t,resolve:l,reject:function(){return o.allowPageChange=!0,o}})}catch(e){throw o.allowPageChange=!0,e}else r?(o.xhrAbortController&&(o.xhrAbortController.abort(),o.xhrAbortController=!1),o.xhrRequest(r,t).then((function(e){c.content=e,d()})).catch((function(){o.allowPageChange=!0}))):d()}function v(e,t){h(e,pe(u,t))}function m(){o.allowPageChange=!0}return"url content component el componentUrl template".split(" ").forEach((function(e){var t;c[e]&&!n&&(n=!0,h(((t={})[e]=c[e],t),u))})),n||"actions"!==e||d(),c.async&&c.async.call(o,{router:o,to:u.route,from:o.currentRoute,resolve:v,reject:m,direction:a,app:i}),c.asyncComponent&&Ge(o,c.asyncComponent,v,m),o},at.prototype.modalRemove=function(e){pe(e,{closeByRouter:!0}),e.close()},at.prototype.back=function(){var e,t,r,a=this,n=ke();if(a.swipeBackActive)return a;"object"==typeof(arguments.length<=0?void 0:arguments[0])?t=(arguments.length<=0?void 0:arguments[0])||{}:(e=arguments.length<=0?void 0:arguments[0],t=(arguments.length<=1?void 0:arguments[1])||{});var o=t,i=o.name,s=o.params,l=o.query;if(i)return(e=a.generateUrl({name:i,params:s,query:l}))?a.back(e,pe({},t,{name:null,params:null,query:null})):a;var u=a.app;Je(a,"back");var c,p=a.currentRoute.modal;if(p||"popup popover sheet loginScreen actions customModal panel".split(" ").forEach((function(e){a.currentRoute.route[e]&&(p=!0,c=e)})),p&&!t.preload){var f,d=a.currentRoute.modal||a.currentRoute.route.modalInstance||u[c].get(),h=a.history[a.history.length-2];if(d&&d.$el){var v=d.$el.prevAll(".modal-in");if(v.length&&v[0].zmpModal){var m=v[0];a.$el.parents(m).length||(f=m.zmpModal.route)}}if(f||(f=a.findMatchingRoute(h)),!f&&h&&(f={url:h,path:h.split("?")[0],query:se(h),route:{path:h.split("?")[0],url:h}}),!(e&&0!==e.replace(/[# ]/g,"").trim().length||f&&d))return a;var g=t.force&&f&&e;if(f&&d){var b=n.ie||n.edge||n.firefox&&!n.ios,y=a.params.browserHistory&&!1!==t.browserHistory,w=a.currentRoute&&a.currentRoute.route&&a.currentRoute.route.options&&!1===a.currentRoute.route.options.browserHistory;!y||b||w||Fe.back(),a.currentRoute=f,a.history.pop(),a.saveHistory(),y&&b&&!w&&Fe.back(),a.modalRemove(d),g&&a.navigate(e,{reloadCurrent:!0})}else d&&(a.modalRemove(d),e&&a.navigate(e,{reloadCurrent:!0}));return a}var C,k=a.$el.children(".page-current").prevAll(".page-previous:not(.page-master)").eq(0);if(a.params.masterDetailBreakpoint>0){var E=[];a.$el.children(".page").each((function(e){E.push(e.className)}));var x=a.$el.children(".page-current").prevAll(".page-master").eq(0);if(x.length){var P=a.history[a.history.length-2],O=a.findMatchingRoute(P);O&&x[0].zmpPage&&O.route===x[0].zmpPage.route.route&&(k=x,t.preload||(C=u.width>=a.params.masterDetailBreakpoint))}}if(!t.force&&k.length&&!C){if(a.params.browserHistory&&k[0].zmpPage&&a.history[a.history.length-2]!==k[0].zmpPage.route.url)return a.back(a.history[a.history.length-2],pe(t,{force:!0})),a;var z=k[0].zmpPage.route;return Ye.call(a,z,a.currentRoute,(function(){rt(a,{el:k},pe(t,{route:z}))}),(function(){}),"backward"),a}if("#"===e&&(e=void 0),e&&"/"!==e[0]&&0!==e.indexOf("#")&&(e=((a.path||"/")+e).replace("//","/")),!e&&a.history.length>1&&(e=a.history[a.history.length-2]),C&&!t.force&&a.history[a.history.length-3])return a.back(a.history[a.history.length-3],pe({},t||{},{force:!0,animate:!1}));if(C&&!t.force)return a;if((r=a.findMatchingRoute(e))||e&&(r={url:e,path:e.split("?")[0],query:se(e),route:{path:e.split("?")[0],url:e}}),!r)return a;if(r.route.redirect)return Ze.call(a,"backward",r,t);var R,T={};if(r.route.options?pe(T,r.route.options,t):pe(T,t),T.route=r,T.force&&a.params.stackPages&&(a.$el.children(".page-previous.stacked").each((function(e){e.zmpPage&&e.zmpPage.route&&e.zmpPage.route.url===r.url&&(R=!0,rt(a,{el:e},T))})),R))return a;function M(){var e=!1;function t(e,t){a.allowPageChange=!1,rt(a,e,pe(T,t),!0)}function n(){a.allowPageChange=!0}r.route.keepAlive&&r.route.keepAliveData&&(rt(a,{el:r.route.keepAliveData.pageEl},T),e=!0),"url content component pageName el componentUrl".split(" ").forEach((function(t){var n;r.route[t]&&!e&&(e=!0,rt(a,((n={})[t]=r.route[t],n),T))})),e||(r.route.async&&(a.allowPageChange=!1,r.route.async.call(a,{router:a,to:r,from:a.currentRoute,resolve:t,reject:n,direction:"backward",app:u})),r.route.asyncComponent&&Ge(a,r.route.asyncComponent,t,n))}function A(){a.allowPageChange=!0}return T.preload?M():Ye.call(a,r,a.currentRoute,(function(){r.route.modules?u.loadModules(Array.isArray(r.route.modules)?r.route.modules:[r.route.modules]).then((function(){M()})).catch((function(){A()})):M()}),(function(){A()}),"backward"),a},at.prototype.clearPreviousHistory=function(){var e=this;Je(e,"clearPreviousHistory");var t=e.history[e.history.length-1];!function(e){Je(e,"clearPreviousPages");var t=e.app,r=e.dynamicNavbar;e.$el.children(".page").filter((function(t){return!(!e.currentRoute||!e.currentRoute.modal&&!e.currentRoute.panel)||t!==e.currentPageEl})).each((function(a){var n=j(a),o=j(t.navbar.getElByPage(n));e.params.stackPages&&e.initialPages.indexOf(n[0])>=0?(n.addClass("stacked"),r&&o.addClass("stacked")):(e.pageCallback("beforeRemove",n,o,"previous",void 0,{}),e.removePage(n),r&&o.length&&e.removeNavbar(o))}))}(e),e.history=[t],e.view.history=[t],e.saveHistory()};var nt={name:"router",static:{Router:at},instance:{cache:{xhr:[],templates:[],components:[]}},create:function(){var e=this;e.app?e.params.router&&(e.router=new at(e.app,e)):e.router=new at(e)}};function ot(e){var t=e.app,r=Ce();if(!e.resizableInitialized){pe(e,{resizable:!0,resizableWidth:null,resizableInitialized:!0});var a=j("html"),n=e.$el;if(n){var o,i,s,l,u,c,p,f={};(o=e.$el.children(".view-resize-handler")).length||(e.$el.append('<div class="view-resize-handler"></div>'),o=e.$el.children(".view-resize-handler")),e.$resizeHandlerEl=o,n.addClass("view-resizable");var d=!!r.passiveListener&&{passive:!0};e.$el.on(t.touchEvents.start,".view-resize-handler",v,d),t.on("touchmove:active",m),t.on("touchend:passive",g),t.on("resize",b),e.on("beforeOpen",b),e.once("viewDestroy",(function(){n.removeClass("view-resizable"),e.$resizeHandlerEl.remove(),e.$el.off(t.touchEvents.start,".view-resize-handler",v,d),t.off("touchmove:active",m),t.off("touchend:passive",g),t.off("resize",b),e.off("beforeOpen",b)}))}}function h(e){if(!e)return null;if(e.indexOf("%")>=0||e.indexOf("vw")>=0)return parseInt(e,10)/100*t.width;var r=parseInt(e,10);return Number.isNaN(r)?null:r}function v(t){if(e.resizable&&n.hasClass("view-resizable")&&n.hasClass("view-master-detail")){f.x="touchstart"===t.type?t.targetTouches[0].pageX:t.pageX,f.y="touchstart"===t.type?t.targetTouches[0].pageY:t.pageY,s=!1,i=!0;var r=n.children(".page-master");c=h(r.css("min-width")),p=h(r.css("max-width"))}}function m(r){if(i){r.zmpPreventSwipePanel=!0;var d="touchmove"===r.type?r.targetTouches[0].pageX:r.pageX;s||(u=o[0].offsetLeft+o[0].offsetWidth,n.addClass("view-resizing"),a.css("cursor","col-resize")),s=!0,r.preventDefault(),l=d-f.x;var h=u+l;c&&!Number.isNaN(c)&&(h=Math.max(h,c)),p&&!Number.isNaN(p)&&(h=Math.min(h,p)),h=Math.min(Math.max(h,0),t.width),e.resizableWidth=h,a[0].style.setProperty("--zmp-page-master-width",h+"px"),n.trigger("view:resize",h),e.emit("local::resize viewResize",e,h)}}function g(){if(j("html").css("cursor",""),!i||!s)return i=!1,void(s=!1);i=!1,s=!1,a[0].style.setProperty("--zmp-page-master-width",e.resizableWidth+"px"),n.removeClass("view-resizing")}function b(){e.resizableWidth&&(c=h(o.css("min-width")),p=h(o.css("max-width")),c&&!Number.isNaN(c)&&e.resizableWidth<c&&(e.resizableWidth=Math.max(e.resizableWidth,c)),p&&!Number.isNaN(p)&&e.resizableWidth>p&&(e.resizableWidth=Math.min(e.resizableWidth,p)),e.resizableWidth=Math.min(Math.max(e.resizableWidth,0),t.width),a[0].style.setProperty("--zmp-page-master-width",e.resizableWidth+"px"))}}var it=function(e){function t(t,r,a){var n;void 0===a&&(a={});var o,i=Y(n=e.call(this,a,[t])||this);if(!i.params.routerId&&!j(r).length){var s="ZMP: can't create a View instance because ";throw new Error(s+="string"==typeof r?'the selector "'+r+"\" didn't match any element":"el must be an HTMLElement or zmpDOM object")}return i.params=pe({el:r},{routes:[],routesAdd:[]},t.params.view,a),i.params.routes.length>0?i.routes=i.params.routes:i.routes=[].concat(t.routes,i.params.routesAdd),pe(!1,i,{app:t,name:i.params.name,main:i.params.main,history:[],scrollHistory:{}}),i.useModules(),t.views.push(i),i.main&&(t.views.main=i),i.name&&(t.views[i.name]=i),i.index=t.views.indexOf(i),o=i.name?"view_"+i.name:i.main?"view_main":"view_"+i.index,i.id=o,i.params.init?(t.initialized?i.init():t.on("init",(function(){i.init()})),i||Y(n)):i||Y(n)}V(t,e);var r=t.prototype;return r.destroy=function(){var e=this,t=e.app;e.$el.trigger("view:beforedestroy"),e.emit("local::beforeDestroy viewBeforeDestroy",e),t.off("resize",e.checkMasterDetailBreakpoint),e.main?(t.views.main=null,delete t.views.main):e.name&&(t.views[e.name]=null,delete t.views[e.name]),e.$el[0].zmpView=null,delete e.$el[0].zmpView,t.views.splice(t.views.indexOf(e),1),e.params.router&&e.router&&e.router.destroy(),e.emit("local::destroy viewDestroy",e),Object.keys(e).forEach((function(t){e[t]=null,delete e[t]})),e=null},r.checkMasterDetailBreakpoint=function(e){var t=this,r=t.app,a=t.$el.hasClass("view-master-detail"),n=r.width>=t.params.masterDetailBreakpoint&&t.$el.children(".page-master").length;void 0===e&&n||!0===e?(t.$el.addClass("view-master-detail"),a||(t.emit("local::masterDetailBreakpoint viewMasterDetailBreakpoint",t),t.$el.trigger("view:masterDetailBreakpoint"))):(t.$el.removeClass("view-master-detail"),a&&(t.emit("local::masterDetailBreakpoint viewMasterDetailBreakpoint",t),t.$el.trigger("view:masterDetailBreakpoint")))},r.initMasterDetail=function(){var e=this,t=e.app;e.checkMasterDetailBreakpoint=e.checkMasterDetailBreakpoint.bind(e),e.checkMasterDetailBreakpoint(),e.params.masterDetailResizable&&ot(e),t.on("resize",e.checkMasterDetailBreakpoint)},r.mount=function(e){var t,r,a=this,n=a.app,o=a.params.el||e,i=j(o);t="string"==typeof o?o:(i.attr("id")?"#"+i.attr("id"):"")+(i.attr("class")?"."+i.attr("class").replace(/ /g,".").replace(".active",""):""),"ios"===n.theme&&a.params.iosDynamicNavbar&&0===(r=i.children(".navbars").eq(0)).length&&(r=j('<div class="navbars"></div>')),pe(a,{$el:i,el:i[0],main:a.main||i.hasClass("view-main"),$navbarsEl:r,navbarsEl:r?r[0]:void 0,selector:t}),a.main&&(n.views.main=a),i&&i[0]&&(i[0].zmpView=a),a.emit("local::mount viewMount",a)},r.init=function(e){var t=this;t.mount(e),t.params.router&&(t.params.masterDetailBreakpoint>0&&t.initMasterDetail(),t.params.initRouterOnTabShow&&t.$el.hasClass("tab")&&!t.$el.hasClass("tab-active")?t.$el.once("tab:show",(function(){t.router.init()})):t.router.init(),t.$el.trigger("view:init"),t.emit("local::init viewInit",t))},t}(xe);it.use(nt);var st={name:"clicks",params:{clicks:{externalLinks:".external"}},on:{init:function(){this.params.clicks.nativeBehavior||function(e){e.on("click",(function(t){var r=j(t.target),a=r.closest("a"),n=a.length>0,o=n&&a.attr("href");if(n&&o&&"#"!==o)return t.stopImmediatePropagation(),t.stopPropagation(),void t.preventDefault();Object.keys(e.modules).forEach((function(a){var n=e.modules[a].clicks;n&&(t.preventZMPRouter||Object.keys(n).forEach((function(a){var o=r.closest(a).eq(0);o.length>0&&n[a].call(e,o,o.dataset(),t)})))}));var i={};if(n&&(t.preventDefault(),i=a.dataset()),i.clickedEl=a[0],!t.preventZMPRouter&&!a.hasClass("prevent-router")&&!a.hasClass("router-prevent")&&(o&&o.length>0&&"#"!==o[0]||a.hasClass("back"))){var s;if(i.view&&"current"===i.view?s=e.views.current:i.view?s=j(i.view)[0].zmpView:(s=r.parents(".view")[0]&&r.parents(".view")[0].zmpView,!a.hasClass("back")&&s&&s.params.linksView&&("string"==typeof s.params.linksView?s=j(s.params.linksView)[0].zmpView:s.params.linksView instanceof it&&(s=s.params.linksView))),s||e.views.main&&(s=e.views.main),!s||!s.router)return;a[0].zmpRouteProps&&(i.props=a[0].zmpRouteProps),a.hasClass("back")?s.router.back(o,i):s.router.navigate(o,i)}}))}(this)}}},lt={name:"routerComponentLoader",proto:{componentLoader:function(e,t,r,a,n){void 0===r&&(r={});var o,i=this,s=i.app,l="string"==typeof e?e:t,u=i.replaceRequestUrlParams(l,r);function c(e){var t=r.context||{};if("function"==typeof t)t=t.call(i);else if("string"==typeof t)try{t=JSON.parse(t)}catch(e){throw n(e),e}var o,l,u=ce({},t,{zmproute:r.route,zmprouter:i}),c=ce(r.route&&r.route.params||{},r.props||{},r.routeProps||{});r.componentOptions&&r.componentOptions.el&&(o=r.componentOptions.el),r.componentOptions&&r.componentOptions.root&&(l=r.componentOptions.root),s.component.create(e,c,{context:u,el:o,root:l}).then((function(e){a(e.el)})).catch((function(e){throw n(e),new Error(e)}))}u&&i.params.componentCache&&i.cache.components.forEach((function(e){e.url===u&&(o=e.component)})),u&&o?c(o):u&&!o?(i.xhrAbortController&&(i.xhrAbortController.abort(),i.xhrAbortController=!1),i.xhrRequest(l,r).then((function(e){var t=s.component.parse(e);i.params.componentCache&&i.cache.components.push({url:u,component:t}),c(t)})).catch((function(e){throw n(),e}))):c(e)},modalComponentLoader:function(e){var t=void 0===e?{}:e,r=t.component,a=t.componentUrl,n=t.options,o=t.resolve,i=t.reject;this.componentLoader(r,a,n,(function(e){o(e)}),i)},tabComponentLoader:function(e){var t=void 0===e?{}:e,r=t.component,a=t.componentUrl,n=t.options,o=t.resolve,i=t.reject;this.componentLoader(r,a,n,(function(e){o(e)}),i)},pageComponentLoader:function(e){var t=void 0===e?{}:e,r=t.component,a=t.componentUrl,n=t.options,o=t.resolve,i=t.reject;this.componentLoader(r,a,n,(function(e,t){void 0===t&&(t={}),o(e,t)}),i)}}},ut=function e(t,r,a,n){var o;r[0]=0;for(var i=1;i<r.length;i++){var s=r[i++],l=r[i]?(r[0]|=s?1:2,a[r[i++]]):r[++i];3===s?n[0]=l:4===s?n[1]=Object.assign(n[1]||{},l):5===s?(n[1]=n[1]||{})[r[++i]]=l:6===s?n[1][r[++i]]+=l+"":s?(o=t.apply(l,e(t,l,a,["",null])),n.push(o),l[0]?r[0]|=2:(r[i-2]=0,r[i]=o)):n.push(l)}return n},ct=new Map;var pt=[!1,null,"",void 0],ft=function(e){var t=ct.get(this);return t||(t=new Map,ct.set(this,t)),(t=ut(this,t.get(e)||(t.set(e,t=function(e){for(var t,r,a=1,n="",o="",i=[0],s=function(e){1===a&&(e||(n=n.replace(/^\s*\n\s*|\s*\n\s*$/g,"")))?i.push(0,e,n):3===a&&(e||n)?(i.push(3,e,n),a=2):2===a&&"..."===n&&e?i.push(4,e,0):2===a&&n&&!e?i.push(5,0,!0,n):a>=5&&((n||!e&&5===a)&&(i.push(a,0,n,r),a=6),e&&(i.push(a,e,0,r),a=6)),n=""},l=0;l<e.length;l++){l&&(1===a&&s(),s(l));for(var u=0;u<e[l].length;u++)t=e[l][u],1===a?"<"===t?(s(),i=[i],a=3):n+=t:4===a?"--"===n&&">"===t?(a=1,n=""):n=t+n[0]:o?t===o?o="":n+=t:'"'===t||"'"===t?o=t:">"===t?(s(),a=1):a&&("="===t?(a=5,r=n,n=""):"/"===t&&(a<5||">"===e[l][u+1])?(s(),3===a&&(i=i[0]),a=i,(i=i[0]).push(2,0,a),a=0):" "===t||"\t"===t||"\n"===t||"\r"===t?(s(),a=2):n+=t),3===a&&"!--"===n&&(a=4,i=i[0])}return s(),i}(e)),t),arguments,[])).length>1?t:t[0]}.bind((function(e,t){for(var r=arguments.length,a=new Array(r>2?r-2:0),n=2;n<r;n++)a[n-2]=arguments[n];return{type:e,props:t||{},children:ge(a.filter((function(e){return pt.indexOf(e)<0})))}}));function dt(e,t,r,a,n){return{sel:e,data:t,children:r,text:a,elm:n,key:void 0===t?void 0:t.key}}var ht=Array.isArray;function vt(e){return"string"==typeof e||"number"==typeof e}function mt(e,t,r){if(e.ns="http://www.w3.org/2000/svg","foreignObject"!==r&&void 0!==t)for(var a=0;a<t.length;++a){var n=t[a].data;void 0!==n&&mt(n,t[a].children,t[a].sel)}}function gt(e,t,r){var a,n,o,i={};if(void 0!==r?(i=t,ht(r)?a=r:vt(r)?n=r:r&&r.sel&&(a=[r])):void 0!==t&&(ht(t)?a=t:vt(t)?n=t:t&&t.sel?a=[t]:i=t),ht(a))for(o=0;o<a.length;++o)vt(a[o])&&(a[o]=dt(void 0,void 0,void 0,a[o],void 0));return"s"!==e[0]||"v"!==e[1]||"g"!==e[2]||3!==e.length&&"."!==e[3]&&"#"!==e[3]||mt(i,a,e),dt(e,i,a,n,void 0)}var bt={},yt="area base br col command embed hr img input keygen link menuitem meta param source track wbr".split(" "),wt="hidden checked disabled readonly selected autofocus autoplay required multiple value indeterminate routeProps innerHTML".split(" "),Ct="hidden checked disabled readonly selected autofocus autoplay required multiple readOnly indeterminate".split(" "),kt=function(e){return"function"==typeof e.type?e.type.name||"CustomComponent":e.type},Et=function(e){return e.split("-").map((function(e,t){return 0===t?e.toLowerCase():e[0].toUpperCase()+e.substr(1)})).join("")},xt=function(){for(var e={},t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return r.forEach((function(t){void 0===t&&(t={}),Object.keys(t).forEach((function(r){e[Et(r)]=t[r]}))})),e},Pt=function(e){return"function"==typeof e||e&&e.indexOf("-")>0&&bt[e]};function Ot(e,t,r,a,n){var o={},i=[],s=[],l=[],u=[],c=!1,p=kt(e);t&&t.attrs&&t.attrs.component&&(t.attrs.component,function(e){throw new TypeError('"'+e+'" is read-only')}("tagName"),delete t.attrs.component,c=!0);var f=Pt(e.type);if(f&&(i.push((function(a){(a.sel===p||c)&&function(e){var t=e.zmp,r=e.treeNode,a=e.vnode,n=e.data,o="function"==typeof r.type?r.type:bt[r.type];t.component.create(o,xt(n.attrs||{},n.props||{}),{el:a.elm,children:r.children}).then((function(e){a.data&&a.data.on&&e&&e.$el&&Object.keys(a.data.on).forEach((function(t){e.$el.on(t,a.data.on[t])})),a.elm.__component__=e}))}({zmp:r,treeNode:e,vnode:a,data:t})})),s.push((function(e){!function(e){var t=e&&e.elm&&e.elm.__component__;if(t){var r=t.el,a=t.$el;e.data&&e.data.on&&a&&Object.keys(e.data.on).forEach((function(t){a.off(t,e.data.on[t])})),t.destroy&&t.destroy(),r&&r.parentNode&&r.parentNode.removeChild(r),delete e.elm.__component__}}(e)})),l.push((function(e,t){!function(e){var t=e&&e.elm&&e.elm.__component__;if(t){var r=xt(e.data.attrs||{},e.data.props||{});t.children=e.data.treeNode.children,Object.assign(t.props,r),t.update()}}(t)}))),!f){if(!t||!t.attrs||!t.attrs.class)return o;t.attrs.class.split(" ").forEach((function(e){a||i.push.apply(i,r.getVnodeHooks("insert",e)),s.push.apply(s,r.getVnodeHooks("destroy",e)),l.push.apply(l,r.getVnodeHooks("update",e)),u.push.apply(u,r.getVnodeHooks("postpatch",e))}))}return n&&!a&&u.push((function(e,t){var r=t||e;r&&r.data&&r.data.component&&r.data.component.hook("onUpdated")})),0===i.length&&0===s.length&&0===l.length&&0===u.length||(i.length&&(o.insert=function(e){i.forEach((function(t){return t(e)}))}),s.length&&(o.destroy=function(e){s.forEach((function(t){return t(e)}))}),l.length&&(o.update=function(e,t){l.forEach((function(r){return r(e,t)}))}),u.length&&(o.postpatch=function(e,t){u.forEach((function(r){return r(e,t)}))})),o}var zt=function(e,t,r,a){if(e&&e.type&&yt.indexOf(e.type)>=0)return[];for(var n=[],o=e.children,i=0;i<o.length;i+=1){var s=o[i],l=Tt(s,t,r,a,!1);Array.isArray(l)?n.push.apply(n,l):l&&n.push(l)}return n},Rt=function(e,t,r,a){var n=e.props.name||"default",o=(t.children||[]).filter((function(e){var t="default";return e.props&&(t=e.props.slot||"default"),t===n}));return 0===o.length?zt(e,t,r,a):o.map((function(e){return Tt(e,t,r,a)}))},Tt=function(e,t,r,a,n){if(!function(e){return ue(e)&&"props"in e&&"type"in e&&"children"in e}(e))return String(e);if("slot"===e.type)return Rt(e,t,r,a);var o=function(e,t,r,a,n){var o={component:t,treeNode:e},i=kt(e);Object.keys(e.props).forEach((function(t){var r=e.props[t];if(void 0!==r)if(wt.indexOf(t)>=0)o.props||(o.props={}),"readonly"===t&&(t="readOnly"),"routeProps"===t&&(t="zmpRouteProps"),"option"===i&&"value"===t&&(o.attrs||(o.attrs={}),o.attrs.value=r),Ct.indexOf(t)>=0?o.props[t]=!1!==r:o.props[t]=r;else if("key"===t)o.key=r;else if(0===t.indexOf("@")||0===t.indexOf("on")&&t.length>2){o.on||(o.on={});var a=0===t.indexOf("@")?t.substr(1):te(t.substr(2)),s=!1,l=!1,u=!1;a.indexOf(".")>=0&&a.split(".").forEach((function(e,t){0===t?a=e:("stop"===e&&(s=!0),"prevent"===e&&(l=!0),"once"===e&&(u=!0))})),o.on[a]=function(e,t){var r=void 0===t?{}:t,a=r.stop,n=r.prevent,o=r.once,i=!1;return function(){var t=arguments.length<=0?void 0:arguments[0];o&&i||(a&&t.stopPropagation(),n&&t.preventDefault(),i=!0,e.apply(void 0,arguments))}}(r,{stop:s,prevent:l,once:u})}else"style"===t?"string"!=typeof r?o.style=r:(o.attrs||(o.attrs={}),o.attrs.style=r):(o.attrs||(o.attrs={}),o.attrs[t]=r,"id"!==t||o.key||n||(o.key=r))}));var s=Ot(e,o,r,a,n);return s.prepatch=function(e,t){e&&t&&e&&e.data&&e.data.props&&Object.keys(e.data.props).forEach((function(r){Ct.indexOf(r)<0||(t.data||(t.data={}),t.data.props||(t.data.props={}),!0!==e.data.props[r]||r in t.data.props||(t.data.props[r]=!1))}))},o.hook=s,o}(e,t,r,a,n),i=Pt(e.type)?[]:zt(e,t,r,a);return gt(kt(e),o,i)};function Mt(e,t,r){return void 0===e&&(e={}),Tt(e,t,t.zmp,r,!0)}var At={createElement:function(e){return document.createElement(e)},createElementNS:function(e,t){return document.createElementNS(e,t)},createTextNode:function(e){return document.createTextNode(e)},createComment:function(e){return document.createComment(e)},insertBefore:function(e,t,r){r&&r.parentNode!==e&&r.__component__&&(r=r.__component__.el),e.insertBefore(t,r)},removeChild:function(e,t){e&&e.removeChild(t)},appendChild:function(e,t){e.appendChild(t)},parentNode:function(e){return e.parentNode},nextSibling:function(e){return e.nextSibling},tagName:function(e){return e.tagName},setTextContent:function(e,t){e.textContent=t},getTextContent:function(e){return e.textContent},isElement:function(e){return 1===e.nodeType},isText:function(e){return 3===e.nodeType},isComment:function(e){return 8===e.nodeType}};function St(e){return void 0===e}function $t(e){return void 0!==e}var Lt=dt("",{},[],void 0,void 0);function Nt(e,t){return e.key===t.key&&e.sel===t.sel}function _t(e,t,r){var a,n,o,i={};for(a=t;a<=r;++a)null!=(o=e[a])&&void 0!==(n=o.key)&&(i[n]=a);return i}var Bt=["create","update","remove","destroy","pre","post"];function Dt(e,t){var r,a=t.elm,n=e.data.attrs,o=t.data.attrs;if((n||o)&&n!==o){for(r in n=n||{},o=o||{}){var i=o[r];n[r]!==i&&(!0===i?a.setAttribute(r,""):!1===i?a.removeAttribute(r):120!==r.charCodeAt(0)?a.setAttribute(r,i):58===r.charCodeAt(3)?a.setAttributeNS("http://www.w3.org/XML/1998/namespace",r,i):58===r.charCodeAt(5)?a.setAttributeNS("http://www.w3.org/1999/xlink",r,i):a.setAttribute(r,i))}for(r in n)r in o||a.removeAttribute(r)}}var Ht={create:Dt,update:Dt};function jt(e,t){var r,a,n=t.elm,o=e.data.props,i=t.data.props;if((o||i)&&o!==i){for(r in i=i||{},o=o||{})i[r]||delete n[r];for(r in i)a=i[r],o[r]===a||"value"===r&&n[r]===a||(n[r]=a)}}var qt={create:jt,update:jt},It="undefined"!=typeof window&&window.requestAnimationFrame||setTimeout;function Ut(e,t,r){var a;a=function(){e[t]=r},It((function(){It(a)}))}function Vt(e,t){var r,a,n=t.elm,o=e.data.style,i=t.data.style;if((o||i)&&o!==i){i=i||{};var s="delayed"in(o=o||{});for(a in o)i[a]||("-"===a[0]&&"-"===a[1]?n.style.removeProperty(a):n.style[a]="");for(a in i)if(r=i[a],"delayed"===a&&i.delayed)for(var l in i.delayed)r=i.delayed[l],s&&r===o.delayed[l]||Ut(n.style,l,r);else"remove"!==a&&r!==o[a]&&("-"===a[0]&&"-"===a[1]?n.style.setProperty(a,r):n.style[a]=r)}}function Wt(e,t,r){var a=e.type,n=r.data.on;n&&n[a]&&function(e,t,r){"function"==typeof e&&e.apply(void 0,[t].concat(r))}(n[a],e,t)}function Ft(e,t){var r=e.data.on,a=e.listener,n=e.elm,o=t&&t.data.on,i=t&&t.elm;if(r!==o&&(r&&a&&(o?Object.keys(r).forEach((function(e){o[e]||j(n).off(e,a)})):Object.keys(r).forEach((function(e){j(n).off(e,a)}))),o)){var s=e.listener||function e(t){for(var r=arguments.length,a=new Array(r>1?r-1:0),n=1;n<r;n++)a[n-1]=arguments[n];Wt(t,a,e.vnode)};t.listener=s,s.vnode=t,r?Object.keys(o).forEach((function(e){r[e]||j(i).on(e,s)})):Object.keys(o).forEach((function(e){j(i).on(e,s)}))}}var Xt=function(e,t){var r,a,n={},o=void 0!==t?t:At;for(r=0;r<Bt.length;++r)for(n[Bt[r]]=[],a=0;a<e.length;++a){var i=e[a][Bt[r]];void 0!==i&&n[Bt[r]].push(i)}function s(e){var t=e.id?"#"+e.id:"",r=e.className?"."+e.className.split(" ").join("."):"";return dt(o.tagName(e).toLowerCase()+t+r,{},[],void 0,e)}function l(e,t){return function(){if(0==--t){var r=o.parentNode(e);o.removeChild(r,e)}}}function u(e,t){var r,a=e.data;void 0!==a&&$t(r=a.hook)&&$t(r=r.init)&&(r(e),a=e.data);var i=e.children,s=e.sel;if("!"===s)St(e.text)&&(e.text=""),e.elm=o.createComment(e.text);else if(void 0!==s){var l=s.indexOf("#"),c=s.indexOf(".",l),p=l>0?l:s.length,f=c>0?c:s.length,d=-1!==l||-1!==c?s.slice(0,Math.min(p,f)):s,h=e.elm=$t(a)&&$t(r=a.ns)?o.createElementNS(r,d):o.createElement(d);for(p<f&&h.setAttribute("id",s.slice(p+1,f)),c>0&&h.setAttribute("class",s.slice(f+1).replace(/\./g," ")),r=0;r<n.create.length;++r)n.create[r](Lt,e);if(ht(i))for(r=0;r<i.length;++r){var v=i[r];null!=v&&o.appendChild(h,u(v,t))}else vt(e.text)&&o.appendChild(h,o.createTextNode(e.text));$t(r=e.data.hook)&&(r.create&&r.create(Lt,e),r.insert&&t.push(e))}else e.elm=o.createTextNode(e.text);return e.elm}function c(e,t,r,a,n,i){for(;a<=n;++a){var s=r[a];null!=s&&o.insertBefore(e,u(s,i),t)}}function p(e){var t,r,a=e.data;if(void 0!==a){for($t(t=a.hook)&&$t(t=t.destroy)&&t(e),t=0;t<n.destroy.length;++t)n.destroy[t](e);if(void 0!==e.children)for(r=0;r<e.children.length;++r)null!=(t=e.children[r])&&"string"!=typeof t&&p(t)}}function f(e,t,r,a){for(;r<=a;++r){var i=void 0,s=void 0,u=void 0,c=t[r];if(null!=c)if($t(c.sel)){for(p(c),s=n.remove.length+1,u=l(c.elm,s),i=0;i<n.remove.length;++i)n.remove[i](c,u);$t(i=c.data)&&$t(i=i.hook)&&$t(i=i.remove)?i(c,u):u()}else o.removeChild(e,c.elm)}}function d(e,t,r){var a,i;$t(a=t.data)&&$t(i=a.hook)&&$t(a=i.prepatch)&&a(e,t);var s=t.elm=e.elm,l=e.children,p=t.children;if(e!==t){if(void 0!==t.data){for(a=0;a<n.update.length;++a)n.update[a](e,t);$t(a=t.data.hook)&&$t(a=a.update)&&a(e,t)}St(t.text)?$t(l)&&$t(p)?l!==p&&function(e,t,r,a){for(var n,i,s,l=0,p=0,h=t.length-1,v=t[0],m=t[h],g=r.length-1,b=r[0],y=r[g];l<=h&&p<=g;)null==v?v=t[++l]:null==m?m=t[--h]:null==b?b=r[++p]:null==y?y=r[--g]:Nt(v,b)?(d(v,b,a),v=t[++l],b=r[++p]):Nt(m,y)?(d(m,y,a),m=t[--h],y=r[--g]):Nt(v,y)?(d(v,y,a),o.insertBefore(e,v.elm,o.nextSibling(m.elm)),v=t[++l],y=r[--g]):Nt(m,b)?(d(m,b,a),o.insertBefore(e,m.elm,v.elm),m=t[--h],b=r[++p]):(void 0===n&&(n=_t(t,l,h)),St(i=n[b.key])?(o.insertBefore(e,u(b,a),v.elm),b=r[++p]):((s=t[i]).sel!==b.sel?o.insertBefore(e,u(b,a),v.elm):(d(s,b,a),t[i]=void 0,o.insertBefore(e,s.elm,v.elm)),b=r[++p]));(l<=h||p<=g)&&(l>h?c(e,null==r[g+1]?null:r[g+1].elm,r,p,g,a):f(e,t,l,h))}(s,l,p,r):$t(p)?($t(e.text)&&o.setTextContent(s,""),c(s,null,p,0,p.length-1,r)):$t(l)?f(s,l,0,l.length-1):$t(e.text)&&o.setTextContent(s,""):e.text!==t.text&&o.setTextContent(s,t.text),$t(i)&&$t(a=i.postpatch)&&a(e,t)}}return function(e,t){var r,a,i,l=[];for(r=0;r<n.pre.length;++r)n.pre[r]();for(function(e){return void 0!==e.sel}(e)||(e=s(e)),Nt(e,t)?d(e,t,l):(a=e.elm,i=o.parentNode(a),u(t,l),null!==i&&(o.insertBefore(i,t.elm,o.nextSibling(a)),f(i,[e],0,0))),r=0;r<l.length;++r)l[r].data.hook.insert(l[r]);for(r=0;r<n.post.length;++r)n.post[r]();return t}}([Ht,qt,{create:Vt,update:Vt,destroy:function(e){var t,r,a=e.elm,n=e.data.style;if(n&&(t=n.destroy))for(r in t)a.style[r]=t[r]},remove:function(e,t){var r=e.data.style;if(r&&r.remove){var a,n=e.elm,o=0,i=r.remove,s=0,l=[];for(a in i)l.push(a),n.style[a]=i[a];for(var u=getComputedStyle(n)["transition-property"].split(", ");o<u.length;++o)-1!==l.indexOf(u[o])&&s++;n.addEventListener("transitionend",(function(e){e.target===n&&--s,0===s&&t()}))}else t()}},{create:Ft,update:Ft,destroy:Ft}]),Zt=function(){function e(e,t,r,n){var o=this;void 0===r&&(r={});var i=void 0===n?{}:n,s=i.el,l=i.context,u=i.children,c=a();ce(this,{zmp:e,props:r||{},context:l||{},id:t.id||G(),children:u||[],theme:{ios:"ios"===e.theme,md:"md"===e.theme,aurora:"aurora"===e.theme},style:t.style,__storeCallbacks:[],__updateQueue:[],__eventHandlers:[],__onceEventHandlers:[],__onBeforeMount:[],__onMounted:[],__onBeforeUpdate:[],__onUpdated:[],__onBeforeUnmount:[],__onUnmounted:[]});return new Promise((function(e,r){(function(e){return new Promise((function(t,r){"function"==typeof e?t(e):e instanceof Promise?e.then((function(e){t(e)})).catch((function(e){r(e)})):r(new Error('ZMP: Component render function is not a "function" type. Didn\'t you forget to "return $render"?'))}))})(t(o.props,o.getComponentContext(!0))).then((function(t){o.renderFunction=t;var r=o.render();if(s)return o.vnode=Mt(r,o,!0),o.style&&(o.styleEl=c.createElement("style"),o.styleEl.innerHTML=o.style),o.el=s,Xt(o.el,o.vnode),o.el=o.vnode.elm,o.$el=j(o.el),o.attachEvents(),o.el.zmpComponent=o,o.mount(),void e(o);r&&(o.vnode=Mt(r,o,!0),o.el=c.createElement(o.vnode.sel||"div"),Xt(o.el,o.vnode),o.$el=j(o.el)),o.style&&(o.styleEl=c.createElement("style"),o.styleEl.innerHTML=o.style),o.attachEvents(),o.el&&(o.el.zmpComponent=o),e(o)})).catch((function(e){r(e)}))}))}var t=e.prototype;return t.on=function(e,t){this.__eventHandlers&&this.__eventHandlers.push({eventName:e,handler:t})},t.once=function(e,t){this.__eventHandlers&&this.__onceEventHandlers.push({eventName:e,handler:t})},t.getComponentStore=function(){var e=this,t=this.zmp.store,r=t.state,a=t.getters,n={state:r,dispatch:t.dispatch};return n.getters=new Proxy(a,{get:function(t,r){var a=t[r],n=function(){e.update()};return a.onUpdated(n),e.__storeCallbacks.push(n,a.__callback),a}}),n},t.getComponentContext=function(e){var t=this,r={$zmproute:this.context.zmproute,$zmprouter:this.context.zmprouter,$h:ft,$:j,$id:this.id,$zmp:this.zmp,$zmpready:this.zmpready.bind(this),$theme:this.theme,$tick:this.tick.bind(this),$update:this.update.bind(this),$emit:this.emit.bind(this),$store:this.getComponentStore(),$el:{}};return Object.defineProperty(r.$el,"value",{get:function(){return t.$el}}),e&&Object.assign(r,{$on:this.on.bind(this),$once:this.once.bind(this),$onBeforeMount:function(e){return t.__onBeforeMount.push(e)},$onMounted:function(e){return t.__onMounted.push(e)},$onBeforeUpdate:function(e){return t.__onBeforeUpdate.push(e)},$onUpdated:function(e){return t.__onUpdated.push(e)},$onBeforeUnmount:function(e){return t.__onBeforeUnmount.push(e)},$onUnmounted:function(e){return t.__onUnmounted.push(e)}}),r},t.render=function(){return this.renderFunction(this.getComponentContext())},t.emit=function(e,t){this.el&&this.$el.trigger(e,t)},t.attachEvents=function(){var e=this.$el;this.__eventHandlers&&(this.__eventHandlers.forEach((function(t){var r=t.eventName,a=t.handler;e.on(te(r),a)})),this.__onceEventHandlers.forEach((function(t){var r=t.eventName,a=t.handler;e.once(te(r),a)})))},t.detachEvents=function(){var e=this.$el;this.__eventHandlers&&(this.__eventHandlers.forEach((function(t){var r=t.eventName,a=t.handler;e.on(te(r),a)})),this.__onceEventHandlers.forEach((function(t){var r=t.eventName,a=t.handler;e.once(te(r),a)})))},t.startUpdateQueue=function(){var e=this,t=o();if(!this.__requestAnimationFrameId){this.__requestAnimationFrameId=t.requestAnimationFrame((function(){e.__updateIsPending&&function(){e.hook("onBeforeUpdate");var t=e.render();if(t){var r=Mt(t,e,!1);e.vnode=Xt(e.vnode,r)}}();var r=[].concat(e.__updateQueue);e.__updateQueue=[],e.__updateIsPending=!1,t.cancelAnimationFrame(e.__requestAnimationFrameId),delete e.__requestAnimationFrameId,delete e.__updateIsPending,r.forEach((function(e){return e()})),r=[]}))}},t.tick=function(e){var t=this;return new Promise((function(r){t.__updateQueue.push((function(){r(),e&&e()})),t.startUpdateQueue()}))},t.update=function(e){var t=this;return this.__destroyed?new Promise((function(){})):new Promise((function(r){t.__updateIsPending=!0,t.__updateQueue.push((function(){r(),e&&e()})),t.startUpdateQueue()}))},t.setState=function(e){return this.update(e)},t.zmpready=function(e){var t=this;this.zmp.initialized?e(this.zmp):this.zmp.once("init",(function(){e(t.zmp)}))},t.mount=function(e){this.hook("onBeforeMount",this.$el),this.styleEl&&j("head").append(this.styleEl),e&&e(this.el),this.hook("onMounted",this.$el)},t.destroy=function(){var e=this;if(!this.__destroyed){var t=o();this.hook("onBeforeUnmount"),this.styleEl&&j(this.styleEl).remove(),this.detachEvents(),this.hook("onUnmounted"),this.el&&this.el.zmpComponent&&(this.el.zmpComponent=null,delete this.el.zmpComponent),this.vnode&&(this.vnode=Xt(this.vnode,{sel:this.vnode.sel,data:{}})),t.cancelAnimationFrame(this.__requestAnimationFrameId),this.__storeCallbacks.forEach((function(t){e.zmp.store.__removeCallback(t)})),this.__storeCallbacks=[],this.__updateQueue=[],this.__eventHandlers=[],this.__onceEventHandlers=[],this.__onBeforeMount=[],this.__onMounted=[],this.__onBeforeUpdate=[],this.__onUpdated=[],this.__onBeforeUnmount=[],this.__onUnmounted=[],re(this),this.__destroyed=!0}},t.hook=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];this.__destroyed||this["__"+e].forEach((function(e){e.apply(void 0,r)}))},e}();function Qt(e,t){bt[e]=t}function Yt(e){delete bt[e]}var Jt={name:"component",static:{Component:Zt,registerComponent:Qt,unregisterComponent:Yt},create:function(){var e=this;e.component={registerComponent:Qt,unregisterComponent:Yt,parse:function(e){return function(e){var t,r=o(),n=a(),i=G(),s="zmp_component_create_callback_"+i;e.match(/<template([ ]?)([a-z0-9-]*)>/)&&(t=e.split(/<template[ ]?[a-z0-9-]*>/).filter((function(e,t){return t>0})).join("<template>").split("</template>").filter((function(e,t,r){return t<r.length-1})).join("</template>").replace(/{{#raw}}([ \n]*)<template/g,"{{#raw}}<template").replace(/\/template>([ \n]*){{\/raw}}/g,"/template>{{/raw}}").replace(/([ \n])<template/g,"$1{{#raw}}<template").replace(/\/template>([ \n])/g,"/template>{{/raw}}$1"));var l,u=null;if(e.indexOf("<style>")>=0&&(u=e.split("<style>")[1].split("</style>")[0]),e.indexOf("<style scoped>")>=0&&(u=e.split("<style scoped>")[1].split("</style>")[0]),e.indexOf("<script>")>=0){var c=e.split("<script>");l=c[c.length-1].split("<\/script>")[0].trim()}else l="return () => {return $render}";l&&l.trim()||(l="return () => {return $render}"),t&&(l=l.replace("$render","function ($$ctx) {\n          var $ = $$ctx.$$;\n          var $h = $$ctx.$h;\n          var $root = $$ctx.$root;\n          var $zmp = $$ctx.$zmp;\n          var $zmproute = $$ctx.$zmproute;\n          var $zmprouter = $$ctx.$zmprouter;\n          var $theme = $$ctx.$theme;\n          var $update = $$ctx.$update;\n          var $store = $$ctx.$store;\n\n          return $h`"+t+"`\n        }\n        ").replace(/export default/g,"return")),l="window."+s+" = function () {"+l+"}";var p=n.createElement("script");p.innerHTML=l,j("head").append(p);var f=r[s]();return j(p).remove(),r[s]=null,delete r[s],u&&(f.style=u),f.id=i,f}(e)},create:function(t,r,a){var n=a.root,o=a.el,i=a.context,s=a.children;return new Zt(e,t,r,{root:n,el:o,context:i,children:s})}}}},Gt={name:"history",static:{history:Fe},on:{init:function(){Fe.init(this)}}},Kt={registrations:[],register:function(e,t){var r=this;return"serviceWorker"in o().navigator&&r.serviceWorker.container?new Promise((function(a,n){r.serviceWorker.container.register(e,t?{scope:t}:{}).then((function(e){Kt.registrations.push(e),r.emit("serviceWorkerRegisterSuccess",e),a(e)})).catch((function(e){r.emit("serviceWorkerRegisterError",e),n(e)}))})):new Promise((function(e,t){t(new Error("Service worker is not supported"))}))},unregister:function(e){var t,r=this;return"serviceWorker"in o().navigator&&r.serviceWorker.container?(t=e?Array.isArray(e)?e:[e]:Kt.registrations,Promise.all(t.map((function(e){return new Promise((function(t,a){e.unregister().then((function(){Kt.registrations.indexOf(e)>=0&&Kt.registrations.splice(Kt.registrations.indexOf(e),1),r.emit("serviceWorkerUnregisterSuccess",e),t()})).catch((function(t){r.emit("serviceWorkerUnregisterError",e,t),a(t)}))}))})))):new Promise((function(e,t){t(new Error("Service worker is not supported"))}))}},er={name:"sw",params:{serviceWorker:{path:void 0,scope:void 0}},create:function(){var e=this,t=o();pe(e,{serviceWorker:{container:"serviceWorker"in t.navigator?t.navigator.serviceWorker:void 0,registrations:Kt.registrations,register:Kt.register.bind(e),unregister:Kt.unregister.bind(e)}})},on:{init:function(){if("serviceWorker"in o().navigator){var e=this;if(e.serviceWorker.container){var t=e.params.serviceWorker.path,r=e.params.serviceWorker.scope;if(t&&(!Array.isArray(t)||t.length))(Array.isArray(t)?t:[t]).forEach((function(t){e.serviceWorker.register(t,r)}))}}}}};function tr(e){void 0===e&&(e={});var t={__store:!0},r=U({},e.state||{}),a=U({},e.actions||{}),n=U({},e.getters||{}),o=pe({},r),i=[],s={},l={};Object.keys(n).forEach((function(e){s[e]=[],l[e]=[]}));var u=function(e){return n[e]({state:t.state})},c=function(e,t){l[e]||(l[e]=[]),l[e].push(t)};t.__removeCallback=function(e){!function(e){Object.keys(l).forEach((function(t){var r=l[t];r.indexOf(e)>=0&&r.splice(r.indexOf(e),1)}))}(e)};var p=function(e,t){if(void 0===t&&(t=!0),"constructor"!==e){i=[];var r=u(e);!function(e,t){s[e]||(s[e]=[]),t.forEach((function(t){s[e].indexOf(t)<0&&s[e].push(t)}))}(e,i);var a={value:r,onUpdated:function(t){c(e,t)}};if(!t)return a;var n=function(e){a.value=e};return a.__callback=n,c(e,n),a}};return t.state=new Proxy(o,{set:function(e,t,r){var a;return e[t]=r,a=t,Object.keys(s).filter((function(e){return s[e].indexOf(a)>=0})).forEach((function(e){l[e]&&l[e].length&&l[e].forEach((function(t){t(u(e))}))})),!0},get:function(e,t){return i.push(t),e[t]}}),t.getters=new Proxy(n,{set:function(){return!1},get:function(e,t){if(e[t])return p(t,!0)}}),t._gettersPlain=new Proxy(n,{set:function(){return!1},get:function(e,t){if(e[t])return p(t,!1)}}),t.dispatch=function(e,r){return new Promise((function(n,o){if(!a[e])throw o(),new Error('ZMP: Store action "'+e+'" is not found');n(a[e]({state:t.state,dispatch:t.dispatch},r))}))},t}var rr={name:"store",static:{createStore:tr},proto:{createStore:tr}},ar={hide:function(){},show:function(){},onClick:function(){var e;(e=j(".popup.modal-in").length>0?j(".popup.modal-in").find(".page:not(.page-previous):not(.page-next):not(.cached)").find(".page-content"):j(".panel.panel-in").length>0?j(".panel.panel-in").find(".page:not(.page-previous):not(.page-next):not(.cached)").find(".page-content"):j(".views > .view.tab-active").length>0?j(".views > .view.tab-active").find(".page:not(.page-previous):not(.page-next):not(.cached)").find(".page-content"):j(".views").length>0?j(".views").find(".page:not(.page-previous):not(.page-next):not(.cached)").find(".page-content"):this.$el.children(".view").find(".page:not(.page-previous):not(.page-next):not(.cached)").find(".page-content"))&&e.length>0&&(e.hasClass("tab")&&(e=e.parent(".tabs").children(".page-content.tab-active")),e.length>0&&e.scrollTop(0,300))},setTextColor:function(e){},setBackgroundColor:function(e){},isVisible:function(){return new Promise((function(e){e(!1)}))},overlaysWebView:function(e){},init:function(){var e=ke(),t=this.params.statusbar;t.enabled&&(t.iosBackgroundColor&&e.ios&&ar.setBackgroundColor(t.iosBackgroundColor),t.androidBackgroundColor&&e.android&&ar.setBackgroundColor(t.androidBackgroundColor))}},nr={name:"statusbar",params:{statusbar:{enabled:!0,scrollTopOnClick:!0,iosOverlaysWebView:!0,iosTextColor:"black",iosBackgroundColor:null,androidOverlaysWebView:!1,androidTextColor:"black",androidBackgroundColor:null}},create:function(){me(this,{statusbar:ar})},on:{init:function(){ar.init.call(this)}}};var or={name:"view",params:{view:{init:!0,initRouterOnTabShow:!1,name:void 0,main:!1,router:!0,linksView:null,stackPages:!1,xhrCache:!0,xhrCacheIgnore:[],xhrCacheIgnoreGetParameters:!1,xhrCacheDuration:6e5,componentCache:!0,preloadPreviousPage:!1,allowDuplicateUrls:!1,reloadPages:!1,reloadDetail:!1,masterDetailBreakpoint:0,masterDetailResizable:!1,removeElements:!0,removeElementsWithTimeout:!1,removeElementsTimeout:0,restoreScrollTopOnBack:!0,unloadTabContent:!0,passRouteQueryToRequest:!0,passRouteParamsToRequest:!1,loadInitialPage:!0,iosSwipeBack:!0,iosSwipeBackAnimateShadow:!0,iosSwipeBackAnimateOpacity:!0,iosSwipeBackActiveArea:30,iosSwipeBackThreshold:0,mdSwipeBack:!1,mdSwipeBackAnimateShadow:!0,mdSwipeBackAnimateOpacity:!1,mdSwipeBackActiveArea:30,mdSwipeBackThreshold:0,auroraSwipeBack:!1,auroraSwipeBackAnimateShadow:!1,auroraSwipeBackAnimateOpacity:!0,auroraSwipeBackActiveArea:30,auroraSwipeBackThreshold:0,browserHistory:!0,browserHistoryRoot:"/zapps/"+window.APP_ID,browserHistoryAnimate:!1,browserHistoryAnimateOnLoad:!1,browserHistorySeparator:"",browserHistoryOnLoad:!0,browserHistoryInitialMatch:!1,browserHistoryStoreHistory:!1,animate:!0,iosDynamicNavbar:!1,iosAnimateNavbarBackIcon:!0,iosPageLoadDelay:0,mdPageLoadDelay:0,auroraPageLoadDelay:0,routesBeforeEnter:null,routesBeforeLeave:null}},static:{View:it},create:function(){var e=this;pe(e,{views:pe([],{create:function(t,r){return new it(e,t,r)},get:function(e){var t=j(e);if(t.length&&t[0].zmpView)return t[0].zmpView}})}),Object.defineProperty(e.views,"current",{enumerable:!0,configurable:!0,get:function(){return function(e){var t=j(".popover.modal-in .view"),r=j(".popup.modal-in .view"),a=j(".panel.panel-in .view"),n=j(".views");0===n.length&&(n=e.$el);var o=n.children(".view");if(0===o.length&&(o=n.children(".tabs").children(".view")),o.length>1&&o.hasClass("tab")&&0===(o=n.children(".view.tab-active")).length&&(o=n.children(".tabs").children(".view.tab-active")),t.length>0&&t[0].zmpView)return t[0].zmpView;if(r.length>0&&r[0].zmpView)return r[0].zmpView;if(a.length>0&&a[0].zmpView)return a[0].zmpView;if(o.length>0){if(1===o.length&&o[0].zmpView)return o[0].zmpView;if(o.length>1)return e.views.main}}(e)}}),e.view=e.views},on:{init:function(){var e=this;j(".view-init").each((function(t){if(!t.zmpView){var r=j(t).dataset();e.views.create(t,r)}}))},"modalOpen panelOpen":function(e){var t=this;e.$el.find(".view-init").each((function(e){if(!e.zmpView){var r=j(e).dataset();t.views.create(e,r)}}))},"modalBeforeDestroy panelBeforeDestroy":function(e){e&&e.$el&&e.$el.find(".view-init").each((function(e){var t=e.zmpView;t&&t.destroy()}))}},vnode:{"view-init":{insert:function(e){var t=e.elm;if(!t.zmpView){var r=j(t).dataset();this.views.create(t,r)}},destroy:function(e){var t=e.elm.zmpView;t&&t.destroy()}}}},ir={size:function(e){var t=this,r=j(e);if(r.hasClass("navbars"))r=r.children(".navbar").each((function(e){t.navbar.size(e)}));else{var a=r.children(".navbar-inner");if(a.length){var n=a.hasClass("navbar-inner-centered-title")||t.params.navbar[t.theme+"CenterTitle"],o="ios"===t.theme&&!t.params.navbar[t.theme+"CenterTitle"];if((n||o)&&!(r.hasClass("stacked")||r.parents(".stacked").length>0||r.parents(".tab:not(.tab-active)").length>0||r.parents(".popup:not(.modal-in)").length>0)){"ios"!==t.theme&&t.params.navbar[t.theme+"CenterTitle"]&&a.addClass("navbar-inner-centered-title"),"ios"!==t.theme||t.params.navbar.iosCenterTitle||a.addClass("navbar-inner-left-title");var i,s,l,u,c=r.parents(".view").eq(0),p=t.rtl?a.children(".right"):a.children(".left"),f=t.rtl?a.children(".left"):a.children(".right"),d=a.children(".title"),h=a.children(".subnavbar"),v=0===p.length,m=0===f.length,g=v?0:p.outerWidth(!0),b=m?0:f.outerWidth(!0),y=d.outerWidth(!0),w=a.styles(),C=a[0].offsetWidth-parseInt(w.paddingLeft,10)-parseInt(w.paddingRight,10),k=r.hasClass("navbar-previous"),E=a.hasClass("sliding");c.length>0&&c[0].zmpView&&(s=(i=c[0].zmpView.router)&&i.dynamicNavbar),m&&(l=C-y),v&&(l=0),v||m||(l=(C-b-y+g)/2);var x=(C-y)/2;C-g-b>y?(x<g&&(x=g),x+y>C-b&&(x=C-b-y),u=x-l):u=0;var P=t.rtl?-1:1;if(s&&"ios"===t.theme){if(d.hasClass("sliding")||d.length>0&&E){var O=-(l+u)*P,z=(C-l-u-y)*P;if(k&&i&&i.params.iosAnimateNavbarBackIcon){var R=r.parent().find(".navbar-current").children(".left.sliding").find(".back .icon ~ span");R.length>0&&(O+=R[0].offsetLeft)}d[0].zmpNavbarLeftOffset=O,d[0].zmpNavbarRightOffset=z}if(!v&&(p.hasClass("sliding")||E))if(t.rtl)p[0].zmpNavbarLeftOffset=-(C-p[0].offsetWidth)/2*P,p[0].zmpNavbarRightOffset=g*P;else if(p[0].zmpNavbarLeftOffset=-g,p[0].zmpNavbarRightOffset=(C-p[0].offsetWidth)/2,i&&i.params.iosAnimateNavbarBackIcon&&p.find(".back .icon").length>0&&p.find(".back .icon ~ span").length){var T=p[0].zmpNavbarLeftOffset,M=p[0].zmpNavbarRightOffset;p[0].zmpNavbarLeftOffset=0,p[0].zmpNavbarRightOffset=0,p.find(".back .icon ~ span")[0].zmpNavbarLeftOffset=T,p.find(".back .icon ~ span")[0].zmpNavbarRightOffset=M-p.find(".back .icon")[0].offsetWidth}m||!f.hasClass("sliding")&&!E||(t.rtl?(f[0].zmpNavbarLeftOffset=-b*P,f[0].zmpNavbarRightOffset=(C-f[0].offsetWidth)/2*P):(f[0].zmpNavbarLeftOffset=-(C-f[0].offsetWidth)/2,f[0].zmpNavbarRightOffset=b)),h.length&&(h.hasClass("sliding")||E)&&(h[0].zmpNavbarLeftOffset=t.rtl?h[0].offsetWidth:-h[0].offsetWidth,h[0].zmpNavbarRightOffset=-h[0].zmpNavbarLeftOffset)}if(n){var A=u;t.rtl&&v&&m&&d.length>0&&(A=-A),d.css({left:A+"px"})}}}}},hide:function(e,t,r,a){void 0===t&&(t=!0),void 0===r&&(r=!1),void 0===a&&(a=!1);var n=this,o=j(e),i=o.hasClass("navbar")&&o.parent(".navbars").length&&!a;if(i&&(o=o.parents(".navbars")),o.length&&!o.hasClass("navbar-hidden")){var s="navbar-hidden"+(t?" navbar-transitioning":"");(i?o.find(".navbar-current .title-large").length:o.find(".title-large").length)&&(s+=" navbar-large-hidden"),r&&(s+=" navbar-hidden-statusbar"),o.transitionEnd((function(){o.removeClass("navbar-transitioning")})),o.addClass(s),i?o.children(".navbar").each((function(e){j(e).trigger("navbar:hide"),n.emit("navbarHide",e)})):(o.trigger("navbar:hide"),n.emit("navbarHide",o[0]))}},show:function(e,t,r){void 0===e&&(e=".navbar-hidden"),void 0===t&&(t=!0),void 0===r&&(r=!1);var a=this,n=j(e),o=n.hasClass("navbar")&&n.parent(".navbars").length&&!r;o&&(n=n.parents(".navbars")),n.length&&n.hasClass("navbar-hidden")&&(t&&(n.addClass("navbar-transitioning"),n.transitionEnd((function(){n.removeClass("navbar-transitioning")}))),n.removeClass("navbar-hidden navbar-large-hidden navbar-hidden-statusbar"),o?n.children(".navbar").each((function(e){j(e).trigger("navbar:show"),a.emit("navbarShow",e)})):(n.trigger("navbar:show"),a.emit("navbarShow",n[0])))},getElByPage:function(e){var t,r,a;if(e.$navbarEl||e.$el?(a=e,t=e.$el):(t=j(e)).length>0&&(a=t[0].zmpPage),a&&a.$navbarEl&&a.$navbarEl.length>0?r=a.$navbarEl:t&&(r=t.children(".navbar")),r&&(!r||0!==r.length))return r[0]},getPageByEl:function(e){var t,r=j(e);return r.parents(".page").length?r.parents(".page")[0]:(r.parents(".view").find(".page").each((function(e){e&&e.zmpPage&&e.zmpPage.navbarEl&&r[0]===e.zmpPage.navbarEl&&(t=e)})),t)},collapseLargeTitle:function(e){var t=this,r=j(e);if(!(r.hasClass("navbars")&&((r=r.find(".navbar")).length>1&&(r=j(e).find(".navbar-large.navbar-current")),r.length>1||!r.length))){var a=j(t.navbar.getPageByEl(r));r.addClass("navbar-large-collapsed"),a.eq(0).addClass("page-with-navbar-large-collapsed").trigger("page:navbarlargecollapsed"),t.emit("pageNavbarLargeCollapsed",a[0]),r.trigger("navbar:collapse"),t.emit("navbarCollapse",r[0])}},expandLargeTitle:function(e){var t=this,r=j(e);if(!(r.hasClass("navbars")&&((r=r.find(".navbar-large")).length>1&&(r=j(e).find(".navbar-large.navbar-current")),r.length>1||!r.length))){var a=j(t.navbar.getPageByEl(r));r.removeClass("navbar-large-collapsed"),a.eq(0).removeClass("page-with-navbar-large-collapsed").trigger("page:navbarlargeexpanded"),t.emit("pageNavbarLargeExpanded",a[0]),r.trigger("navbar:expand"),t.emit("navbarExpand",r[0])}},toggleLargeTitle:function(e){var t=j(e);t.hasClass("navbars")&&((t=t.find(".navbar-large")).length>1&&(t=j(e).find(".navbar-large.navbar-current")),t.length>1||!t.length)||(t.hasClass("navbar-large-collapsed")?this.navbar.expandLargeTitle(t):this.navbar.collapseLargeTitle(t))},initNavbarOnScroll:function(e,t,r,a,n){var o,i,s,l,u,c,p,f,d,h,v,m,g,b,y=this,w=Ce(),C=j(e),k=j(t),E=k.find(".title-large"),x=E.length||k.hasClass(".navbar-large"),P=44,O=y.params.navbar.snapPageScrollToLargeTitle,z=y.params.navbar.snapPageScrollToTransparentNavbar;(a||r&&x)&&((d=k.css("--zmp-navbar-large-title-height"))&&d.indexOf("px")>=0?(d=parseInt(d,10),Number.isNaN(d)&&E.length?d=E[0].offsetHeight:Number.isNaN(d)&&("ios"===y.theme?d=52:"md"===y.theme?d=48:"aurora"===y.theme&&(d=38))):E.length?d=E[0].offsetHeight:"ios"===y.theme?d=52:"md"===y.theme?d=48:"aurora"===y.theme&&(d=38)),r&&x&&(P+=d);function R(){k.hasClass("with-searchbar-expandable-enabled")||!m||i<0||(i>=d/2&&i<d?j(m).scrollTop(d,100):i<d&&j(m).scrollTop(0,200))}function T(){k.hasClass("with-searchbar-expandable-enabled")||!m||i<0||(i>=h/2&&i<h?j(m).scrollTop(h,100):i<h&&j(m).scrollTop(0,200))}var M=null,A=null;function S(e){m=this,e&&e.target&&e.target!==m||(i=m.scrollTop,v=i,a?function(){if(!k.hasClass("navbar-hidden")&&!k.parent(".navbars").hasClass("navbar-hidden")){var e=k.hasClass("navbar-large-transparent")||k.hasClass("navbar-large")&&k.hasClass("navbar-transparent");M=A,A=Math.min(Math.max(i/d,0),1);var t=M>0&&M<1;k.hasClass("with-searchbar-expandable-enabled")||(f=k.hasClass("navbar-large-collapsed"),0===A&&f?y.navbar.expandLargeTitle(k[0]):1!==A||f||y.navbar.collapseLargeTitle(k[0]),0===A&&f||0===A&&t||1===A&&!f||1===A&&t?("md"===y.theme&&k.find(".navbar-inner").css("overflow",""),k.find(".title").css("opacity",""),k.find(".title-large-text, .subnavbar").css("transform",""),e?k.find(".navbar-bg").css("opacity",""):k.find(".navbar-bg").css("transform","")):A>0&&A<1&&("md"===y.theme&&k.find(".navbar-inner").css("overflow","visible"),k.find(".title").css("opacity",A),k.find(".title-large-text, .subnavbar").css("transform","translate3d(0px, "+-1*A*d+"px, 0)"),e?k.find(".navbar-bg").css("opacity",A):k.find(".navbar-bg").css("transform","translate3d(0px, "+-1*A*d+"px, 0)")),O&&(w.touch?b&&(clearTimeout(b),b=null,b=setTimeout((function(){R(),clearTimeout(b),b=null}),70)):(clearTimeout(g),g=setTimeout((function(){R()}),300))))}}():n&&function(){var e=k.hasClass("navbar-hidden")||k.parent(".navbars").hasClass("navbar-hidden");if(!k.hasClass("with-searchbar-expandable-enabled")&&!e){h||(h=t.offsetHeight);var r=i/h,a=k.hasClass("navbar-transparent-visible");if(r=Math.max(Math.min(r,1),0),a&&1===r||!a&&0===r)k.find(".navbar-bg, .title").css("opacity","");else{if(a&&0===r)return k.trigger("navbar:transparenthide"),y.emit("navbarTransparentHide",k[0]),k.removeClass("navbar-transparent-visible"),void k.find(".navbar-bg, .title").css("opacity","");if(!a&&1===r)return k.trigger("navbar:transparentshow"),y.emit("navbarTransparentShow",k[0]),k.addClass("navbar-transparent-visible"),void k.find(".navbar-bg, .title").css("opacity","");k.find(".navbar-bg, .title").css("opacity",r),z&&(w.touch?b&&(clearTimeout(b),b=null,b=setTimeout((function(){T(),clearTimeout(b),b=null}),70)):(clearTimeout(g),g=setTimeout((function(){T()}),300)))}}}(),C.hasClass("page-previous")||r&&(C.hasClass("page-with-card-opened")||(s=m.scrollHeight,l=m.offsetHeight,u=i+l>=s,p=k.hasClass("navbar-hidden")||k.parent(".navbars").hasClass("navbar-hidden"),u?y.params.navbar.showOnPageScrollEnd&&(c="show"):c=o>i?y.params.navbar.showOnPageScrollTop||i<=P?"show":"hide":i>P?"hide":"show","show"===c&&p?(y.navbar.show(k,!0,!0),p=!1):"hide"!==c||p||(y.navbar.hide(k,!0,!1,!0),p=!0),o=i)))}function $(){v=!1}function L(){clearTimeout(b),b=null,b=setTimeout((function(){!1!==v&&(n&&!a?T():R(),clearTimeout(b),b=null)}),70)}C.on("scroll",".page-content",S,!0),w.touch&&(a&&O||n&&z)&&(y.on("touchstart:passive",$),y.on("touchend:passive",L)),(a||n)&&C.find(".page-content").each((function(e){e.scrollTop>0&&S.call(e)})),C[0].zmpDetachNavbarScrollHandlers=function(){delete C[0].zmpDetachNavbarScrollHandlers,C.off("scroll",".page-content",S,!0),w.touch&&(a&&O||n&&z)&&(y.off("touchstart:passive",$),y.off("touchend:passive",L))}}},sr={name:"navbar",create:function(){me(this,{navbar:ir})},params:{navbar:{scrollTopOnTitleClick:!0,iosCenterTitle:!0,mdCenterTitle:!1,auroraCenterTitle:!0,hideOnPageScroll:!1,showOnPageScrollEnd:!0,showOnPageScrollTop:!0,collapseLargeTitleOnScroll:!0,snapPageScrollToLargeTitle:!0,snapPageScrollToTransparentNavbar:!0}},on:{"panelBreakpoint panelCollapsedBreakpoint panelResize viewResize resize viewMasterDetailBreakpoint":function(){var e=this;j(".navbar").each((function(t){e.navbar.size(t)}))},pageBeforeRemove:function(e){e.$el[0].zmpDetachNavbarScrollHandlers&&e.$el[0].zmpDetachNavbarScrollHandlers()},pageBeforeIn:function(e){var t=this;if("ios"===t.theme){var r,a=e.$el.parents(".view")[0].zmpView,n=t.navbar.getElByPage(e);if(r=n?j(n).parents(".navbars"):e.$el.parents(".view").children(".navbars"),e.$el.hasClass("no-navbar")||a.router.dynamicNavbar&&!n){var o=!!(e.pageFrom&&e.router.history.length>0);t.navbar.hide(r,o)}else t.navbar.show(r)}},pageReinit:function(e){var t=j(this.navbar.getElByPage(e));t&&0!==t.length&&this.navbar.size(t)},pageInit:function(e){var t,r,a,n=this,o=j(n.navbar.getElByPage(e));o&&0!==o.length&&(n.navbar.size(o),o.find(".title-large").length>0&&o.addClass("navbar-large"),o.hasClass("navbar-large")&&(n.params.navbar.collapseLargeTitleOnScroll&&(t=!0),e.$el.addClass("page-with-navbar-large")),!t&&o.hasClass("navbar-transparent")&&(r=!0),(n.params.navbar.hideOnPageScroll||e.$el.find(".hide-navbar-on-scroll").length||e.$el.hasClass("hide-navbar-on-scroll")||e.$el.find(".hide-bars-on-scroll").length||e.$el.hasClass("hide-bars-on-scroll"))&&(a=!(e.$el.find(".keep-navbar-on-scroll").length||e.$el.hasClass("keep-navbar-on-scroll")||e.$el.find(".keep-bars-on-scroll").length||e.$el.hasClass("keep-bars-on-scroll"))),(t||a||r)&&n.navbar.initNavbarOnScroll(e.el,o[0],a,t,r))},"panelOpen panelSwipeOpen modalOpen":function(e){var t=this;e.$el.find(".navbar:not(.navbar-previous):not(.stacked)").each((function(e){t.navbar.size(e)}))},tabShow:function(e){var t=this;j(e).find(".navbar:not(.navbar-previous):not(.stacked)").each((function(e){t.navbar.size(e)}))}},clicks:{".navbar .title":function(e){if(this.params.navbar.scrollTopOnTitleClick&&!(e.closest("a").length>0)){var t,r=e.parents(".navbar"),a=r.parents(".navbars");0===(t=r.parents(".page-content")).length&&(r.parents(".page").length>0&&(t=r.parents(".page").find(".page-content")),0===t.length&&a.length&&a.nextAll(".page-current:not(.stacked)").length>0&&(t=a.nextAll(".page-current:not(.stacked)").find(".page-content")),0===t.length&&r.nextAll(".page-current:not(.stacked)").length>0&&(t=r.nextAll(".page-current:not(.stacked)").find(".page-content"))),t&&t.length>0&&(t.hasClass("tab")&&(t=t.parent(".tabs").children(".page-content.tab-active")),t.length>0&&t.scrollTop(0,300))}}},vnode:{navbar:{postpatch:function(e){this.navbar.size(e.elm)}}}},lr={setHighlight:function(e){if("ios"!==this.theme){var t=j(e);if(0!==t.length&&(t.hasClass("tabbar")||t.hasClass("tabbar-labels"))){var r=t.find(".tab-link-highlight"),a=t.find(".tab-link").length;if(0!==a){0===r.length?(t.children(".toolbar-inner").append('<span class="tab-link-highlight"></span>'),r=t.find(".tab-link-highlight")):r.next().length&&t.children(".toolbar-inner").append(r);var n,o,i=t.find(".tab-link-active");if(t.hasClass("tabbar-scrollable")&&i&&i[0])n=i[0].offsetWidth+"px",o=i[0].offsetLeft+"px";else{var s=i.index();n=100/a+"%",o=100*(this.rtl?-s:s)+"%"}oe((function(){r.css("width",n).transform("translate3d("+o+",0,0)")}))}else r.remove()}}},init:function(e){this.toolbar.setHighlight(e)},hide:function(e,t){void 0===t&&(t=!0);var r=j(e);if(!r.hasClass("toolbar-hidden")){var a="toolbar-hidden"+(t?" toolbar-transitioning":"");r.transitionEnd((function(){r.removeClass("toolbar-transitioning")})),r.addClass(a),r.trigger("toolbar:hide"),this.emit("toolbarHide",r[0])}},show:function(e,t){void 0===t&&(t=!0);var r=j(e);r.hasClass("toolbar-hidden")&&(t&&(r.addClass("toolbar-transitioning"),r.transitionEnd((function(){r.removeClass("toolbar-transitioning")}))),r.removeClass("toolbar-hidden"),r.trigger("toolbar:show"),this.emit("toolbarShow",r[0]))},initToolbarOnScroll:function(e){var t,r,a,n,o,i,s,l=this,u=j(e),c=u.parents(".view").children(".toolbar");(0===c.length&&(c=u.find(".toolbar")),0===c.length&&(c=u.parents(".views").children(".tabbar, .tabbar-labels")),0!==c.length)&&(u.on("scroll",".page-content",p,!0),u[0].zmpScrollToolbarHandler=p);function p(e){if(!u.hasClass("page-with-card-opened")&&!u.hasClass("page-previous")){var p=this;e&&e.target&&e.target!==p||(r=p.scrollTop,a=p.scrollHeight,n=p.offsetHeight,o=r+n>=a,s=c.hasClass("toolbar-hidden"),o?l.params.toolbar.showOnPageScrollEnd&&(i="show"):i=t>r?l.params.toolbar.showOnPageScrollTop||r<=44?"show":"hide":r>44?"hide":"show","show"===i&&s?(l.toolbar.show(c),s=!1):"hide"!==i||s||(l.toolbar.hide(c),s=!0),t=r)}}}},ur={name:"toolbar",create:function(){me(this,{toolbar:lr})},params:{toolbar:{hideOnPageScroll:!1,showOnPageScrollEnd:!0,showOnPageScrollTop:!0}},on:{pageBeforeRemove:function(e){e.$el[0].zmpScrollToolbarHandler&&e.$el.off("scroll",".page-content",e.$el[0].zmpScrollToolbarHandler,!0)},pageBeforeIn:function(e){var t=e.$el.parents(".view").children(".toolbar");0===t.length&&(t=e.$el.parents(".views").children(".tabbar, .tabbar-labels")),0===t.length&&(t=e.$el.find(".toolbar")),0!==t.length&&(e.$el.hasClass("no-toolbar")?this.toolbar.hide(t):this.toolbar.show(t))},pageInit:function(e){var t=this;if(e.$el.find(".tabbar, .tabbar-labels").each((function(e){t.toolbar.init(e)})),t.params.toolbar.hideOnPageScroll||e.$el.find(".hide-toolbar-on-scroll").length||e.$el.hasClass("hide-toolbar-on-scroll")||e.$el.find(".hide-bars-on-scroll").length||e.$el.hasClass("hide-bars-on-scroll")){if(e.$el.find(".keep-toolbar-on-scroll").length||e.$el.hasClass("keep-toolbar-on-scroll")||e.$el.find(".keep-bars-on-scroll").length||e.$el.hasClass("keep-bars-on-scroll"))return;t.toolbar.initToolbarOnScroll(e.el)}},init:function(){var e=this;e.$el.find(".tabbar, .tabbar-labels").each((function(t){e.toolbar.init(t)}))}},vnode:{tabbar:{insert:function(e){this.toolbar.init(e.elm)}}}},cr={name:"subnavbar",on:{pageInit:function(e){e.$navbarEl&&e.$navbarEl.length&&e.$navbarEl.find(".subnavbar").length&&e.$el.addClass("page-with-subnavbar"),e.$el.find(".subnavbar").filter((function(t){return j(t).parents(".page")[0]===e.$el[0]})).length&&e.$el.addClass("page-with-subnavbar")}}},pr=function(){function e(e,t,r,a){var n=this;if(t){var o=t[0].getBoundingClientRect(),i=o.left,s=o.top,l=o.width,u=o.height,c=r-i,p=a-s,f=Math.max(Math.pow(Math.pow(u,2)+Math.pow(l,2),.5),48),d=!1,h=e.params.touch.touchRippleInsetElements||"";if(h&&t.is(h)&&(d=!0),d&&(f=Math.max(Math.min(l,u),48)),d||"hidden"!==t.css("overflow"))n.rippleTransform="translate3d("+(l/2-c)+"px, "+(u/2-p)+"px, 0) scale(1)";else{var v=(f/2+Math.pow(Math.pow(c-l/2,2)+Math.pow(p-u/2,2),.5))/(f/2);n.rippleTransform="translate3d(0px, 0px, 0) scale("+v+")"}return d&&t.addClass("ripple-inset"),n.$rippleWaveEl=j('<div class="ripple-wave" style="width: '+f+"px; height: "+f+"px; margin-top:-"+f/2+"px; margin-left:-"+f/2+"px; left:"+c+"px; top:"+p+"px; --zmp-ripple-transform: "+n.rippleTransform+'"></div>'),t.prepend(n.$rippleWaveEl),n.$rippleWaveEl.animationEnd((function(){n.$rippleWaveEl&&(n.$rippleWaveEl.hasClass("ripple-wave-out")||(n.$rippleWaveEl.addClass("ripple-wave-in"),n.shouldBeRemoved&&n.out()))})),n}}var t=e.prototype;return t.destroy=function(){var e=this;e.$rippleWaveEl&&e.$rippleWaveEl.remove(),Object.keys(e).forEach((function(t){e[t]=null,delete e[t]})),e=null},t.out=function(){var e=this,t=this.$rippleWaveEl;clearTimeout(e.removeTimeout),t.addClass("ripple-wave-out"),e.removeTimeout=setTimeout((function(){e.destroy()}),300),t.animationEnd((function(){clearTimeout(e.removeTimeout),e.destroy()}))},t.remove=function(){var e=this;e.shouldBeRemoved||(e.removeTimeout=setTimeout((function(){e.destroy()}),400),e.shouldBeRemoved=!0,e.$rippleWaveEl.hasClass("ripple-wave-in")&&e.out())},e}(),fr={name:"touch-ripple",static:{TouchRipple:pr},create:function(){this.touchRipple={create:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Z(pr,t)}}}},dr=[],hr=[];var vr=function(e){function t(t,r){var a,n=Y(a=e.call(this,r,[t])||this),o={};n.useModulesParams(o),n.params=pe(o,r),n.opened=!1;var i=n.params.containerEl?j(n.params.containerEl).eq(0):t.$el;return i.length||(i=t.$el),n.$containerEl=i,n.containerEl=i[0],n.useModules(),Y(a)||Y(a)}V(t,e);var r=t.prototype;return r.onOpen=function(){var e=this;e.opened=!0,dr.push(e),j("html").addClass("with-modal-"+e.type.toLowerCase()),e.$el.trigger("modal:open "+e.type.toLowerCase()+":open"),e.emit("local::open modalOpen "+e.type+"Open",e)},r.onOpened=function(){var e=this;e.$el.trigger("modal:opened "+e.type.toLowerCase()+":opened"),e.emit("local::opened modalOpened "+e.type+"Opened",e)},r.onClose=function(){var e=this;e.opened=!1,e.type&&e.$el&&(dr.splice(dr.indexOf(e),1),j("html").removeClass("with-modal-"+e.type.toLowerCase()),e.$el.trigger("modal:close "+e.type.toLowerCase()+":close"),e.emit("local::close modalClose "+e.type+"Close",e))},r.onClosed=function(){var e=this;e.type&&e.$el&&(e.$el.removeClass("modal-out"),e.$el.hide(),e.$el.trigger("modal:closed "+e.type.toLowerCase()+":closed"),e.emit("local::closed modalClosed "+e.type+"Closed",e))},r.open=function(e){var t,r=this,n=a(),o=r.app,i=r.$el,s=r.$backdropEl,l=r.type,u=!0;if(void 0!==e?u=e:void 0!==r.params.animate&&(u=r.params.animate),!i||i.hasClass("modal-in"))return r;if("dialog"===l&&o.params.modal.queueDialogs&&(j(".dialog.modal-in").length>0?t=!0:dr.length>0&&dr.forEach((function(e){"dialog"===e.type&&(t=!0)})),t))return hr.push(r),r;var c=i.parent(),p=i.parents(n).length>0;function f(){i.hasClass("modal-out")?r.onClosed():i.hasClass("modal-in")&&r.onOpened()}return c.is(r.$containerEl)||(r.$containerEl.append(i),r.once(l+"Closed",(function(){p?c.append(i):i.remove()}))),i.show(),r._clientLeft=i[0].clientLeft,u?(s&&(s.removeClass("not-animated"),s.addClass("backdrop-in")),i.animationEnd((function(){f()})),i.transitionEnd((function(){f()})),i.removeClass("modal-out not-animated").addClass("modal-in"),r.onOpen()):(s&&s.addClass("backdrop-in not-animated"),i.removeClass("modal-out").addClass("modal-in not-animated"),r.onOpen(),r.onOpened()),r},r.close=function(e){var t=this,r=t.$el,a=t.$backdropEl,n=!0;if(void 0!==e?n=e:void 0!==t.params.animate&&(n=t.params.animate),!r||!r.hasClass("modal-in"))return hr.indexOf(t)>=0&&hr.splice(hr.indexOf(t),1),t;if(a){var o=!0;"popup"===t.type&&t.$el.prevAll(".popup.modal-in").add(t.$el.nextAll(".popup.modal-in")).each((function(e){var r=e.zmpModal;r&&r.params.closeByBackdropClick&&r.params.backdrop&&r.backdropEl===t.backdropEl&&(o=!1)})),o&&(a[n?"removeClass":"addClass"]("not-animated"),a.removeClass("backdrop-in"))}function i(){r.hasClass("modal-out")?t.onClosed():r.hasClass("modal-in")&&t.onOpened()}return r[n?"removeClass":"addClass"]("not-animated"),n?(r.animationEnd((function(){i()})),r.transitionEnd((function(){i()})),r.removeClass("modal-in").addClass("modal-out"),t.onClose()):(r.addClass("not-animated").removeClass("modal-in").addClass("modal-out"),t.onClose(),t.onClosed()),"dialog"===t.type&&0!==hr.length&&hr.shift().open(),t},r.destroy=function(){var e=this;e.destroyed||(e.emit("local::beforeDestroy modalBeforeDestroy "+e.type+"BeforeDestroy",e),e.$el&&(e.$el.trigger("modal:beforedestroy "+e.type.toLowerCase()+":beforedestroy"),e.$el.length&&e.$el[0].zmpModal&&delete e.$el[0].zmpModal),re(e),e.destroyed=!0)},t}(xe),mr=function(e){function t(t,r){var a,n,o,i=pe({backdrop:!0,closeByBackdropClick:!0,on:{}},r),s=Y(a=e.call(this,t,i)||this);if(s.params=i,(n=s.params.el?j(s.params.el):j(s.params.content))&&n.length>0&&n[0].zmpModal)return n[0].zmpModal||Y(a);if(0===n.length)return s.destroy()||Y(a);function l(e){s&&!s.destroyed&&o&&e.target===o[0]&&s.close()}return s.params.backdrop&&0===(o=t.$el.children(".custom-modal-backdrop")).length&&(o=j('<div class="custom-modal-backdrop"></div>'),t.$el.append(o)),s.on("customModalOpened",(function(){s.params.closeByBackdropClick&&s.params.backdrop&&t.on("click",l)})),s.on("customModalClose",(function(){s.params.closeByBackdropClick&&s.params.backdrop&&t.off("click",l)})),pe(s,{app:t,$el:n,el:n[0],$backdropEl:o,backdropEl:o&&o[0],type:"customModal"}),n[0].zmpModal=s,s||Y(a)}return V(t,e),t}(vr),gr={name:"modal",static:{Modal:vr,CustomModal:mr},create:function(){var e=this;e.customModal={create:function(t){return new mr(e,t)}}},params:{modal:{queueDialogs:!0}}};return"undefined"!=typeof window&&(window.zmpDOM||(window.zmpDOM=j)),at.use([lt]),ze.use([Re,Te,Me,Ae,De,He,st,nt,Gt,Jt,er,rr,nr,or,sr,ur,cr,fr,gr]),ze}));
//# sourceMappingURL=zmp.min.js.map