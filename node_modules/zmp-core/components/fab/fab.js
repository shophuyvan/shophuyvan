(function zmpComponentLoader(t,e){void 0===e&&(e=!0);var n=t.$,a=t.utils;t.getDevice,t.getSupport,t.Class,t.Modal,t.ConstructorMethods,t.ModalMethods;function o(t){this.wrapped=t}function s(t){var e,n;function a(e,n){try{var r=t[e](n),i=r.value,f=i instanceof o;Promise.resolve(f?i.wrapped:i).then((function(t){f?a("return"===e?"return":"next",t):s(r.done?"return":"normal",t)}),(function(t){a("throw",t)}))}catch(t){s("throw",t)}}function s(t,o){switch(t){case"return":e.resolve({value:o,done:!0});break;case"throw":e.reject(o);break;default:e.resolve({value:o,done:!1})}(e=e.next)?a(e.key,e.arg):n=null}this._invoke=function(t,o){return new Promise((function(s,r){var i={key:t,arg:o,resolve:s,reject:r,next:null};n?n=n.next=i:(e=n=i,a(t,o))}))},"function"!=typeof t.return&&(this.return=void 0)}function r(){return(r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t}).apply(this,arguments)}s.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},s.prototype.next=function(t){return this._invoke("next",t)},s.prototype.throw=function(t){return this._invoke("throw",t)},s.prototype.return=function(t){return this._invoke("return",t)};var i=a.bindMethods,f=a.getTranslate,h=a.nextFrame,l={morphOpen:function(t,e){var a=this,o=n(t),s=n(e);if(0!==s.length){s.transition(0).addClass("fab-morph-target-visible");var r={width:s[0].offsetWidth,height:s[0].offsetHeight,offset:s.offset(),borderRadius:s.css("border-radius"),zIndex:s.css("z-index")},i={width:o[0].offsetWidth,height:o[0].offsetHeight,offset:o.offset(),translateX:f(o[0],"x"),translateY:f(o[0],"y")};o[0].zmpFabMorphData={$targetEl:s,target:r,fab:i};var l=i.offset.left+i.width/2-(r.offset.left+r.width/2)-i.translateX,p=i.offset.top+i.height/2-(r.offset.top+r.height/2)-i.translateY,c=r.width/i.width,d=r.height/i.height,b=Math.ceil(parseInt(r.borderRadius,10)/Math.max(c,d));b>0&&(b+=2),o[0].zmpFabMorphResizeHandler=function(){o.transition(0).transform(""),s.transition(0),r.width=s[0].offsetWidth,r.height=s[0].offsetHeight,r.offset=s.offset(),i.offset=o.offset();var t=i.offset.left+i.width/2-(r.offset.left+r.width/2)-i.translateX,e=i.offset.top+i.height/2-(r.offset.top+r.height/2)-i.translateY,n=r.width/i.width,a=r.height/i.height;o.transform("translate3d("+-t+"px, "+-e+"px, 0) scale("+n+", "+a+")")},s.css("opacity",0).transform("scale("+1/c+", "+1/d+")"),o.addClass("fab-opened").css("z-index",r.zIndex-1).transform("translate3d("+-l+"px, "+-p+"px, 0)"),o.transitionEnd((function(){s.transition(""),h((function(){s.css("opacity",1).transform("scale(1,1)"),o.transform("translate3d("+-l+"px, "+-p+"px, 0) scale("+c+", "+d+")").css("border-radius",b+"px").css("box-shadow","none").css("opacity","0")})),a.on("resize",o[0].zmpFabMorphResizeHandler),s.parents(".page-content").length>0&&s.parents(".page-content").on("scroll",o[0].zmpFabMorphResizeHandler)}))}},morphClose:function(t){var e=n(t),a=e[0].zmpFabMorphData;if(a){var o=a.$targetEl,s=a.target,r=a.fab;if(0!==o.length){var i=r.offset.left+r.width/2-(s.offset.left+s.width/2)-r.translateX,f=r.offset.top+r.height/2-(s.offset.top+s.height/2)-r.translateY,l=s.width/r.width,p=s.height/r.height;this.off("resize",e[0].zmpFabMorphResizeHandler),o.parents(".page-content").length>0&&o.parents(".page-content").off("scroll",e[0].zmpFabMorphResizeHandler),o.css("opacity",0).transform("scale("+1/l+", "+1/p+")"),e.transition("").css("box-shadow","").css("border-radius","").css("opacity","1").transform("translate3d("+-i+"px, "+-f+"px, 0)"),e.transitionEnd((function(){e.css("z-index","").removeClass("fab-opened").transform(""),h((function(){e.transitionEnd((function(){o.removeClass("fab-morph-target-visible").css("opacity","").transform("").transition("")}))}))}))}}},open:function(t,e){var a=this,o=n(t).eq(0),s=o.find(".fab-buttons");if(o.length&&!o.hasClass("fab-opened")&&(s.length||o.hasClass("fab-morph"))){if(a.fab.openedEl){if(a.fab.openedEl===o[0])return;a.fab.close(a.fab.openedEl)}a.fab.openedEl=o[0],o.hasClass("fab-morph")?a.fab.morphOpen(o,e||o.attr("data-morph-to")):o.addClass("fab-opened"),o.siblings(".fab-backdrop").addClass("backdrop-in"),o.trigger("fab:open")}},close:function(t){void 0===t&&(t=".fab-opened");var e=n(t).eq(0),a=e.find(".fab-buttons");e.length&&e.hasClass("fab-opened")&&(a.length||e.hasClass("fab-morph"))&&(this.fab.openedEl=null,e.hasClass("fab-morph")?this.fab.morphClose(e):e.removeClass("fab-opened"),e.siblings(".fab-backdrop").removeClass("backdrop-in"),e.trigger("fab:close"))},toggle:function(t){n(t).hasClass("fab-opened")?this.fab.close(t):this.fab.open(t)}},p={name:"fab",create:function(){i(this,{fab:r({openedEl:null},l)})},clicks:{".fab > a":function(t){this.fab.toggle(t.parents(".fab"))},".fab-open":function(t,e){void 0===e&&(e={});this.fab.open(e.fab)},".fab-close":function(t,e){void 0===e&&(e={});this.fab.close(e.fab)},".fab-backdrop":function(){this.fab.close()}}};if(e){if(t.prototype.modules&&t.prototype.modules[p.name])return;t.use(p),t.instance&&(t.instance.useModuleParams(p,t.instance.params),t.instance.useModule(p))}return p}(ZMP, typeof ZMPAutoInstallComponent === 'undefined' ? undefined : ZMPAutoInstallComponent))
