<!doctype html>
<html lang='vi'>
<head>
  <meta charset='utf-8'/>
  <meta name='viewport' content='width=device-width,initial-scale=1'/>
  <title>Quáº£ng cÃ¡o Facebook</title>
  <link rel="stylesheet" href="./styles.css"/>
  <link rel="stylesheet" href="./ads-analytics-ui.css?v=1"/>
  <script src="./admin_real.js?v=25"></script>
  <script src="./sidebar-layout.js"></script>
  <script src="./ads_real.js?v=1"></script>
  <script src="./ads-dashboard.js?v=1"></script>
  <script src="./ads-automation.js?v=1"></script>
  <script src="./ads-creative-library.js?v=1"></script>
  <style>
    .tabs { display:flex; gap:8px; margin-bottom:16px; border-bottom:2px solid var(--border); }
    
    /* Automation Styles */
    .rule-card { background:#fff; border:1px solid #e5e7eb; border-radius:12px; padding:16px; margin-bottom:12px; }
    .rule-card.rule-inactive { opacity:0.7; background:#f9fafb; }
    .rule-header { display:flex; justify-content:space-between; align-items:center; margin-bottom:12px; }
    .rule-info { display:flex; align-items:center; gap:12px; }
    .rule-icon { font-size:24px; }
    .rule-name { font-size:15px; font-weight:600; color:#111827; }
    .rule-type { font-size:12px; color:#6b7280; }
    .rule-actions { display:flex; gap:8px; }
    .btn-icon { background:none; border:1px solid #e5e7eb; padding:6px 10px; border-radius:6px; cursor:pointer; font-size:16px; }
    .btn-icon:hover { background:#f3f4f6; }
    .btn-icon.btn-danger:hover { background:#fee2e2; border-color:#fca5a5; }
    .rule-body { padding:12px 0; border-top:1px solid #f3f4f6; border-bottom:1px solid #f3f4f6; }
    .rule-conditions, .rule-actions-desc { font-size:13px; color:#374151; margin-bottom:8px; }
    .rule-footer { display:flex; justify-content:space-between; margin-top:12px; }
    .rule-stat { font-size:12px; color:#6b7280; }
    .schedule-card { background:#fff; border:1px solid #e5e7eb; border-radius:12px; padding:16px; margin-bottom:12px; }
    .schedule-header { display:flex; justify-content:space-between; align-items:center; margin-bottom:12px; }
    .schedule-name { font-size:15px; font-weight:600; }
    .badge-scheduled { background:#dbeafe; color:#1e40af; padding:4px 8px; border-radius:4px; font-size:11px; font-weight:600; }
    .badge-running { background:#d1fae5; color:#065f46; padding:4px 8px; border-radius:4px; font-size:11px; font-weight:600; }
    .badge-ended { background:#e5e7eb; color:#374151; padding:4px 8px; border-radius:4px; font-size:11px; font-weight:600; }
    .schedule-body { padding-top:8px; }
    .schedule-time { display:flex; justify-content:space-between; margin-bottom:6px; font-size:13px; }
    .schedule-label { color:#6b7280; }
    .schedule-value { color:#111827; font-weight:500; }
    .empty-state { text-align:center; padding:40px 20px; }
    .empty-icon { font-size:48px; margin-bottom:12px; }
    .empty-text { font-size:16px; font-weight:600; color:#374151; margin-bottom:4px; }
    .empty-hint { font-size:13px; color:#6b7280; }
    .tab { padding:10px 16px; cursor:pointer; border-bottom:3px solid transparent; font-weight:500; }
    .tab.active { border-bottom-color:var(--accent); color:var(--accent); }
    .tab-content { display:none; }
    .tab-content.active { display:block; }
    .campaign-card { border:1px solid var(--border); border-radius:12px; padding:16px; margin-bottom:12px; background:#fff; }
    .campaign-header { display:flex; justify-content:space-between; align-items:center; margin-bottom:12px; }
    .campaign-name { font-size:16px; font-weight:600; }
    .campaign-status { padding:4px 10px; border-radius:6px; font-size:12px; font-weight:600; }
    .campaign-status.active { background:#d1fae5; color:#065f46; }
    .campaign-status.paused { background:#fed7aa; color:#92400e; }
    .campaign-stats { display:grid; grid-template-columns:repeat(auto-fit, minmax(120px, 1fr)); gap:12px; margin-top:12px; }
    .stat-box { background:#f9fafb; padding:12px; border-radius:8px; text-align:center; }
    .stat-value { font-size:20px; font-weight:700; color:var(--accent); }
    .stat-label { font-size:12px; color:var(--muted); margin-top:4px; }
    .product-selector { max-height:300px; overflow-y:auto; border:1px solid var(--border); border-radius:8px; padding:12px; }
    .product-item { display:flex; align-items:center; gap:12px; padding:8px; border-bottom:1px solid var(--border); }
    .product-item:last-child { border-bottom:none; }
    .product-item input[type="checkbox"] { width:20px; height:20px; cursor:pointer; }
    .product-thumb { width:50px; height:50px; object-fit:cover; border-radius:6px; }
    .loading { text-align:center; padding:40px; color:var(--muted); }
    
    /* Creative Library Styles */
    .creatives-grid { display:grid; grid-template-columns:repeat(auto-fill, minmax(250px, 1fr)); gap:16px; }
    .creative-card { border:1px solid var(--border); border-radius:12px; padding:12px; background:#fff; }
    .creative-info { margin-top:12px; }
    .creative-name { font-size:14px; font-weight:600; color:#111827; margin-bottom:4px; }
    .creative-meta { font-size:12px; color:#6b7280; margin-bottom:4px; }
    .creative-tags { font-size:11px; color:#2563eb; background:#eff6ff; padding:4px 8px; border-radius:4px; display:inline-block; }
    .creative-actions { display:flex; gap:8px; margin-top:12px; }
    .btn-small { padding:6px 12px; font-size:12px; border-radius:6px; border:1px solid var(--border); background:#fff; cursor:pointer; }
    .btn-small:hover { background:#f3f4f6; }
    .btn-small.btn-danger { color:#dc2626; border-color:#fca5a5; }
    .btn-small.btn-danger:hover { background:#fee2e2; }
    .product-item-bulk { display:flex; align-items:center; gap:8px; padding:8px; border-bottom:1px solid #f3f4f6; cursor:pointer; }
    .product-item-bulk:hover { background:#f9fafb; }
    .bulk-product-check { width:18px; height:18px; cursor:pointer; }
    .progress-bar { width:100%; height:24px; background:#e5e7eb; border-radius:12px; overflow:hidden; margin-bottom:8px; }
    .progress-fill { height:100%; background:linear-gradient(90deg, #2563eb 0%, #1d4ed8 100%); transition:width 0.3s; }
    #progressText { text-align:center; font-size:13px; color:#6b7280; }
    
    /* Settings Helper Links */
    .input-with-helper { display:flex; gap:8px; align-items:center; }
    .input-with-helper input { flex:1; }
    .btn-helper { padding:8px 12px; background:#eff6ff; border:1px solid #bfdbfe; color:#1d4ed8; border-radius:8px; font-size:12px; cursor:pointer; white-space:nowrap; }
    .btn-helper:hover { background:#dbeafe; }
    .fanpage-table { width:100%; border-collapse:collapse; margin-top:12px; }
    .fanpage-table th, .fanpage-table td { padding:10px; border:1px solid var(--border); text-align:left; font-size:13px; }
    .fanpage-table th { background:#f9fafb; font-weight:600; }
    .fanpage-status { padding:3px 8px; border-radius:4px; font-size:11px; font-weight:600; }
    .fanpage-status.active { background:#d1fae5; color:#065f46; }
    .fanpage-status.paused { background:#fed7aa; color:#92400e; }
    .fanpage-actions { display:flex; gap:6px; }
  </style>
</head>
<body>
<!-- âœ… Sidebar sáº½ tá»± Ä‘á»™ng inject vÃ o Ä‘Ã¢y bá»Ÿi AdminLayout.init() -->

  <!-- Tabs -->
  <div class="tabs">
    <div class="tab active" data-tab="dashboard">ğŸ“ˆ Dashboard</div>
    <div class="tab" data-tab="campaigns">ğŸ“Š Campaigns</div>
    <div class="tab" data-tab="create">â• Táº¡o má»›i</div>
    <div class="tab" data-tab="automation">ğŸ¤– Automation</div>
    <div class="tab" data-tab="creative">ğŸ¨ Creative Library</div>
    <div class="tab" data-tab="autopost">ğŸ“ ÄÄƒng bÃ i Fanpage</div>
    <div class="tab" data-tab="abtest">ğŸ§ª A/B Testing</div>
    <div class="tab" data-tab="settings">âš™ï¸ CÃ i Ä‘áº·t</div>
  </div>

  <!-- Tab: Dashboard Analytics -->
  <div id="tab-dashboard" class="tab-content active">
    <div id="dashboardContainer" class="dashboard-loading">
      Äang táº£i dashboard...
    </div>
  </div>

  <!-- Tab: Campaigns List -->
  <div id="tab-campaigns" class="tab-content">
    <div class="toolbar">
      <button id="btnRefreshCampaigns" class="btn primary">ğŸ”„ LÃ m má»›i</button>
      <button id="btnTestConnection" class="btn">ğŸ”Œ Test Connection</button>
          <a href="./ads-setup-wizard.html" class="btn primary" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); margin-left: 10px; text-decoration: none; display: inline-block;">
            ğŸ§™â€â™‚ï¸ Setup Wizard
          </a>
          <button id="btnLoginFacebook" class="btn primary" style="background: #1877f2; margin-left: 10px;">
            ğŸ” Login Facebook
          </button>
          <button id="btnCheckToken" class="btn" style="margin-left: 10px;">
            ğŸ”‘ Check Token
          </button>
    </div>
    <div id="campaignsList" class="loading">Äang táº£i...</div>
  </div>

  <!-- Tab: Create Campaign -->
  <div id="tab-create" class="tab-content">
    <div class="card">
      <h3>Táº¡o Campaign má»›i</h3>
      <label>TÃªn Campaign *</label>
      <input id="campaignName" class="input" placeholder="VD: Black Friday Sale 2025"/>
      
      <label>NgÃ¢n sÃ¡ch hÃ ng ngÃ y (VNÄ) *</label>
      <input id="campaignBudget" type="number" class="input" placeholder="100000" value="100000"/>
      
      <label>Má»¥c tiÃªu</label>
      <select id="campaignObjective" class="input">
        <option value="OUTCOME_SALES">BÃ¡n hÃ ng</option>
        <option value="OUTCOME_TRAFFIC">LÆ°u lÆ°á»£ng truy cáº­p</option>
        <option value="OUTCOME_ENGAGEMENT">TÆ°Æ¡ng tÃ¡c</option>
      </select>

      <hr/>
      <h4>Chá»n sáº£n pháº©m (tá»‘i Ä‘a 10)</h4>
      <div id="productSelector" class="product-selector">
        <div class="loading">Äang táº£i sáº£n pháº©m...</div>
      </div>

      <hr/>
      <h4>Targeting (tÃ¹y chá»n)</h4>
      <div class="row">
        <div class="col">
          <label>Äá»™ tuá»•i tá»«</label>
          <input id="targetAgeMin" type="number" class="input" value="18" min="18" max="65"/>
        </div>
        <div class="col">
          <label>Äá»™ tuá»•i Ä‘áº¿n</label>
          <input id="targetAgeMax" type="number" class="input" value="65" min="18" max="65"/>
        </div>
      </div>

      <button id="btnCreateCampaign" class="btn green" style="margin-top:16px; width:100%;">ğŸš€ Táº¡o Campaign</button>
    </div>
  </div>

  <div id="tab-autopost" class="tab-content">
    <div class="card">
      <h3>Táº¡o bÃ i Ä‘Äƒng Fanpage (Dark Post)</h3>
      <p class="hint">Táº¡o má»™t bÃ i Ä‘Äƒng áº©n Ä‘á»ƒ dÃ¹ng cho quáº£ng cÃ¡o.</p>
      
      <label>Chá»n 1 sáº£n pháº©m Ä‘á»ƒ láº¥y thÃ´ng tin</label>
      <div id="postProductSelector" class="product-selector" style="max-height: 200px;">
        <div class="loading">Äang táº£i sáº£n pháº©m...</div>
      </div>
      
      <label>Ná»™i dung Caption (AI sáº½ tá»± Ä‘á»™ng Ä‘iá»n vÃ o Ä‘Ã¢y)</label>
      <textarea id="postCaption" class="input" rows="5" placeholder="Ná»™i dung bÃ i Ä‘Äƒng..."></textarea>
      
      <label>Loáº¡i bÃ i Ä‘Äƒng</label>
      <select id="postType" class="input">
        <option value="single_image">1 áº£nh (láº¥y áº£nh Ä‘áº§u tiÃªn cá»§a SP)</option>
        <option value="carousel">Carousel (láº¥y 3 áº£nh Ä‘áº§u cá»§a SP)</option>
      </select>
      
      <label>Call-to-Action</label>
      <select id="postCTA" class="input">
        <option value="SHOP_NOW">Mua ngay</option>
        <option value="LEARN_MORE">TÃ¬m hiá»ƒu thÃªm</option>
        <option value="MESSAGE_PAGE">Gá»­i tin nháº¯n</option>
      </select>
      
      <button id="btnCreatePost" class="btn primary" style="margin-top:16px; width:100%;">ğŸš€ ÄÄƒng (Dark Post)</button>
      
      <div id="postResult" style="margin-top: 16px; display: none;">
        <label>Post ID (dÃ¹ng Ä‘á»ƒ táº¡o Ads):</label>
        <input id="postResultId" class="input" readonly/>
      </div>
    </div>
  </div>

  <!-- Tab: Creative Library -->
  <div id="tab-creative" class="tab-content">
    <div class="row">
      <!-- Left: Upload Creative -->
      <div class="col">
        <div class="card">
          <h3>ğŸ“¤ Upload Creative</h3>
          <p class="hint">Upload áº£nh hoáº·c video cho ads</p>
          
          <label>TÃªn Creative</label>
          <input id="creativeName" class="input" placeholder="VD: Banner Black Friday"/>
          
          <label>Tags (phÃ¢n cÃ¡ch báº±ng dáº¥u pháº©y)</label>
          <input id="creativeTags" class="input" placeholder="VD: banner, sale, red"/>
          
          <label>Chá»n file (JPG, PNG, MP4 - Max 10MB)</label>
          <input id="creativeFileInput" type="file" class="input" accept="image/jpeg,image/png,image/jpg,video/mp4"/>
          
          <button id="btnUploadCreative" class="btn primary" style="margin-top:16px; width:100%;">ğŸ“¤ Upload</button>
        </div>
        
        <div class="card" style="margin-top:16px;">
          <h3>ğŸš€ Bulk Create Ads</h3>
          <p class="hint">Táº¡o nhiá»u ads tá»« sáº£n pháº©m</p>
          
          <label>Campaign ID *</label>
          <input id="bulkCampaignId" class="input" placeholder="Nháº­p Campaign ID"/>
          
          <label>Chá»n sáº£n pháº©m</label>
          <button id="btnLoadBulkProducts" class="btn" style="width:100%; margin-bottom:12px;">ğŸ“¦ Load sáº£n pháº©m</button>
          
          <div id="bulkProductsSelector" style="max-height:300px; overflow-y:auto; border:1px solid var(--border); border-radius:8px; padding:8px;">
            <div class="hint">Nháº¥n Load sáº£n pháº©m Ä‘á»ƒ hiá»ƒn thá»‹</div>
          </div>
          
          <button id="btnBulkCreateAds" class="btn green" style="margin-top:16px; width:100%;">ğŸš€ Táº¡o Ads hÃ ng loáº¡t</button>
          
          <div id="bulkProgressContainer" style="margin-top:16px; display:none;"></div>
        </div>
      </div>
      
      <!-- Right: Creative List -->
      <div class="col" style="flex:2;">
        <div class="card">
          <div class="toolbar">
            <h3 style="margin:0;">ğŸ¨ Creative Library</h3>
            <button id="btnRefreshCreatives" class="btn">ğŸ”„ LÃ m má»›i</button>
          </div>
          <div id="creativesListContainer" class="loading">Äang táº£i...</div>
        </div>
      </div>
    </div>
  </div>

  <div id="tab-abtest" class="tab-content">
    <div class="row">
      <div class="col" style="flex: 1.5;">
        <div class="card">
          <h3>Táº¡o A/B Test má»›i</h3>
          <label>TÃªn A/B Test Campaign *</label>
          <input id="abTestName" class="input" placeholder="VD: Test Ke GÃ³c Tam GiÃ¡c"/>
          
          <label>NgÃ¢n sÃ¡ch hÃ ng ngÃ y (VNÄ) *</label>
          <input id="abTestBudget" type="number" class="input" value="100000"/>
          
          <label>Chá»n 1 sáº£n pháº©m Ä‘á»ƒ test</label>
          <div id="abTestProductSelector" class="product-selector" style="max-height: 200px;">
            <div class="loading">Äang táº£i sáº£n pháº©m...</div>
          </div>
          
          <hr/>
          <h4>CÃ¡c biáº¿n thá»ƒ (Creatives)</h4>
          
          <div class="variant-card" style="border:1px solid var(--border); padding:12px; border-radius:8px; margin-bottom:12px;">
            <label><strong>Creative A (áº¢nh 1 + Caption ngáº¯n)</strong></label>
            <input id="abTestImageA" class="input" placeholder="Tá»± Ä‘á»™ng láº¥y áº£nh 1 cá»§a SP" disabled/>
            <textarea id="abTestCaptionA" class="input" rows="2" placeholder="Caption ngáº¯n..."></textarea>
          </div>
          
          <div class="variant-card" style="border:1px solid var(--border); padding:12px; border-radius:8px; margin-bottom:12px;">
            <label><strong>Creative B (áº¢nh 2 + Caption dÃ i)</strong></label>
            <input id="abTestImageB" class="input" placeholder="Tá»± Ä‘á»™ng láº¥y áº£nh 2 cá»§a SP" disabled/>
            <textarea id="abTestCaptionB" class="input" rows="4" placeholder="Caption dÃ i hÆ¡n..."></textarea>
          </div>
          
          <button id="btnCreateABTest" class="btn green" style="margin-top:16px; width:100%;">ğŸ§ª Báº¯t Ä‘áº§u A/B Test</button>
        </div>
      </div>
      
      <div class="col" style="flex: 2;">
        <div class="card">
          <h3>Performance Dashboard</h3>
          <p class="hint">Káº¿t quáº£ A/B test (Ä‘ang cháº¡y hoáº·c Ä‘Ã£ hoÃ n táº¥t)</p>
          <label>Nháº­p Ad Set ID Ä‘á»ƒ xem káº¿t quáº£:</label>
          <div style="display: flex; gap: 8px;">
            <input id="abTestAdSetIdInput" class="input" placeholder="Ad Set ID..."/>
            <button id="btnFetchABTestResults" class="btn primary">Xem</button>
          </div>
          
          <div id="abTestResultsContainer" style="margin-top: 16px;">
            <div class="loading">ChÆ°a cÃ³ dá»¯ liá»‡u</div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Tab: Automation & Scheduling -->
  <div id="tab-automation" class="tab-content">
    <div class="row">
      <!-- Left: Create Rules -->
      <div class="col" style="flex:1.2;">
        <div class="card">
          <h3>â¸ï¸ Auto-Pause Rule</h3>
          <p class="hint">Tá»± Ä‘á»™ng táº¡m dá»«ng ads khi hiá»‡u suáº¥t kÃ©m</p>
          
          <label>TÃªn Rule *</label>
          <input id="autoPauseRuleName" class="input" placeholder="VD: Pause CTR < 0.5%"/>
          
          <label>CTR Threshold (%) *</label>
          <input id="autoPauseCTR" type="number" class="input" value="0.5" step="0.1" min="0.1" max="10"/>
          
          <label>Thá»i gian cháº¡y tá»‘i thiá»ƒu (giá») *</label>
          <input id="autoPauseDuration" type="number" class="input" value="48" min="24" max="168"/>
          
          <button id="btnCreateAutoPauseRule" class="btn primary" style="margin-top:12px; width:100%;">â• Táº¡o Rule</button>
        </div>
        
        <div class="card" style="margin-top:16px;">
          <h3>ğŸ“ˆ Budget Scaling Rule</h3>
          <p class="hint">Tá»± Ä‘á»™ng tÄƒng ngÃ¢n sÃ¡ch cho campaigns hiá»‡u quáº£ cao</p>
          
          <label>TÃªn Rule *</label>
          <input id="budgetScaleRuleName" class="input" placeholder="VD: Scale ROAS > 3x"/>
          
          <label>ROAS Threshold (x) *</label>
          <input id="budgetScaleROAS" type="number" class="input" value="3.0" step="0.1" min="0.5" max="10"/>
          
          <label>TÄƒng ngÃ¢n sÃ¡ch (%) *</label>
          <input id="budgetScalePercent" type="number" class="input" value="20" min="5" max="100"/>
          
          <button id="btnCreateBudgetScaleRule" class="btn primary" style="margin-top:12px; width:100%;">â• Táº¡o Rule</button>
        </div>
        
        <div class="card" style="margin-top:16px;">
          <h3>ğŸ“… Schedule Campaign</h3>
          <p class="hint">LÃªn lá»‹ch tá»± Ä‘á»™ng báº­t/táº¯t campaign</p>
          
          <label>TÃªn Campaign *</label>
          <input id="scheduleCampaignName" class="input" placeholder="VD: Black Friday 2025"/>
          
          <label>Thá»i gian báº¯t Ä‘áº§u *</label>
          <input id="scheduleStartTime" type="datetime-local" class="input"/>
          
          <label>Thá»i gian káº¿t thÃºc (tÃ¹y chá»n)</label>
          <input id="scheduleEndTime" type="datetime-local" class="input"/>
          
          <label>NgÃ¢n sÃ¡ch hÃ ng ngÃ y (VNÄ) *</label>
          <input id="scheduleDailyBudget" type="number" class="input" value="100000" min="50000"/>
          
          <button id="btnCreateSchedule" class="btn green" style="margin-top:12px; width:100%;">ğŸ“… Táº¡o lá»‹ch</button>
        </div>
      </div>
      
      <!-- Right: Active Rules & Schedules -->
      <div class="col" style="flex:2;">
        <div class="card">
          <div class="toolbar">
            <h3 style="margin:0;">ğŸ¤– Automation Rules Ä‘ang hoáº¡t Ä‘á»™ng</h3>
            <div style="display:flex; gap:8px;">
              <button id="btnRefreshRules" class="btn">ğŸ”„ LÃ m má»›i</button>
              <button id="btnTestCron" class="btn primary">ğŸ§ª Test Cron</button>
            </div>
          </div>
          <div id="automationRulesContainer" class="loading">Äang táº£i rules...</div>
        </div>
        
        <div class="card" style="margin-top:16px;">
          <div class="toolbar">
            <h3 style="margin:0;">ğŸ“… Campaigns Ä‘Ã£ lÃªn lá»‹ch</h3>
            <button id="btnRefreshSchedules" class="btn">ğŸ”„ LÃ m má»›i</button>
          </div>
          <div id="scheduledCampaignsContainer" class="loading">Äang táº£i schedules...</div>
        </div>
      </div>
    </div>
  </div>

  <!-- Tab: Settings -->
  <div id="tab-settings" class="tab-content">
    <div class="card" style="background: #eff6ff; border-left: 4px solid #3b82f6; margin-bottom: 20px;">
      <h3 style="color: #1e40af; margin-top: 0;">ğŸ” OAuth Authentication (KhuyÃªn dÃ¹ng)</h3>
      <p style="margin-bottom: 15px; color: #1e40af;">
        <strong>BÆ°á»›c 1:</strong> Nháº­p App ID + Secret bÃªn dÆ°á»›i vÃ  lÆ°u â†’ <strong>BÆ°á»›c 2:</strong> Click "Login with Facebook"
      </p>
      <div style="display: flex; gap: 8px; flex-wrap: wrap;">
        <button id="btnLoginFacebook" class="btn primary" style="background: #1877f2;">
          ğŸ” Login with Facebook
        </button>
        <button id="btnCheckToken" class="btn">
          ğŸ”‘ Check Token Status
        </button>
        <button id="btnRevokeToken" class="btn" style="background: #dc2626; color: white;">
          ğŸ—‘ï¸ Revoke Token
        </button>
      </div>
      <p style="margin-top: 15px; font-size: 13px; color: #1e3a8a;">
        â„¹ï¸ <strong>Lá»£i Ã­ch OAuth:</strong> Token tá»± Ä‘á»™ng vá»›i Ä‘áº§y Ä‘á»§ permissions (ads_management, ads_read, business_management). Token há»£p lá»‡ 60 ngÃ y.
      </p>
    </div>
    
    <div class="card">
      <h3>Cáº¥u hÃ¬nh Facebook Pixel & Credentials</h3>
      <p class="hint">Nháº­p thÃ´ng tin tá»« Facebook Business Manager</p>
      
      <label>Facebook App ID</label>
      <div class="input-with-helper">
        <input id="fbAppId" class="input" placeholder="123456789012345"/>
        <a href="https://developers.facebook.com/apps" target="_blank" class="btn-helper">ğŸ”— Láº¥y App ID</a>
      </div>
      
      <label>Facebook App Secret</label>
      <div class="input-with-helper">
        <input id="fbAppSecret" class="input" type="password" placeholder="abcdef..."/>
        <a href="https://developers.facebook.com/apps" target="_blank" class="btn-helper">ğŸ”— Láº¥y Secret</a>
      </div>
      
      <label>Access Token (Long-lived) <span style="color: #10b981; font-size: 11px;">[Tá»± Ä‘á»™ng tá»« OAuth]</span></label>
      <div class="input-with-helper">
        <input id="fbAccessToken" class="input" type="password" placeholder="Sáº½ tá»± Ä‘á»™ng láº¥y sau khi Login Facebook" readonly style="background: #f9faf
		b;"/>
        <a href="https://developers.facebook.com/tools/accesstoken" target="_blank" class="btn-helper">ğŸ”— Hoáº·c nháº­p Manual</a>
      </div>
      <p style="font-size: 12px; color: #6b7280; margin-top: 4px;">
        ğŸ’¡ <strong>Khuyáº¿n nghá»‹:</strong> DÃ¹ng OAuth á»Ÿ trÃªn thay vÃ¬ nháº­p token manual. Token manual dá»… thiáº¿u permissions.
      </p>
      
      <label>Ad Account ID</label>
      <div class="input-with-helper">
        <input id="fbAdAccountId" class="input" placeholder="act_123456789"/>
        <a href="https://business.facebook.com/settings/ad-accounts" target="_blank" class="btn-helper">ğŸ”— Business Manager</a>
      </div>
      
      <hr/>
      
      <label>Facebook Pixel ID</label>
      <div class="input-with-helper">
        <input id="fbPixel" class="input" placeholder="123456789012345"/>
        <a href="https://business.facebook.com/events-manager" target="_blank" class="btn-helper">ğŸ”— Táº¡o Pixel</a>
      </div>
      
      <hr/>
      
      <h4>ğŸ“„ Quáº£n lÃ½ Fanpage</h4>
      <p class="hint">ThÃªm vÃ  quáº£n lÃ½ nhiá»u fanpage</p>
      
      <div style="display:flex; gap:8px; margin-bottom:12px;">
        <input id="newFanpageName" class="input" placeholder="TÃªn Fanpage" style="flex:1;"/>
        <input id="newFanpageId" class="input" placeholder="Page ID" style="flex:1;"/>
        <button id="btnAddFanpage" class="btn green">â• ThÃªm</button>
      </div>
      
      <table class="fanpage-table">
        <thead>
          <tr>
            <th style="width:30px;">âœ”</th>
            <th>TÃªn Fanpage</th>
            <th>Page ID</th>
            <th>Tráº¡ng thÃ¡i</th>
            <th style="width:120px;">Thao tÃ¡c</th>
          </tr>
        </thead>
        <tbody id="fanpageTableBody">
          <tr>
            <td colspan="5" style="text-align:center; color:#6b7280;">ChÆ°a cÃ³ fanpage nÃ o. ThÃªm fanpage bÃªn trÃªn.</td>
          </tr>
        </tbody>
      </table>
      
      <button id="btnSaveSettings" class="btn primary" style="margin-top:16px; width:100%;">ğŸ’¾ LÆ°u cáº¥u hÃ¬nh</button>
    </div>
  </div>

<script>
// Logic Ä‘Ã£ Ä‘Æ°á»£c chuyá»ƒn sang ads_real.js
// File nÃ y chá»‰ cÃ²n phá»¥c vá»¥ má»¥c Ä‘Ã­ch tham kháº£o cáº¥u trÃºc HTML

// âœ… INIT SIDEBAR LAYOUT
document.addEventListener('DOMContentLoaded', function() {
  if (window.AdminLayout) {
    AdminLayout.init('Quáº£ng cÃ¡o Facebook');
  }
});
</script>
<script src="../../packages/shared/src/utils/security.js"></script>
</body>
</html>